"use strict";(self.webpackChunkmirage_mc=self.webpackChunkmirage_mc||[]).push([[514],{11625:function(e,t,n){var r=n(45987),i=n(1413),o=n(72791),a=n(93539),l=n(13967),s=n(55931),c=n(65661),u=n(90977),d=n(95193),h=n(5574),f=n(4899),x=n(31701),m=n(77386),g=n(5849),p=n(29823),v=n(80184),j=["children","onClose"],b=["isProcessing","isOpen","id","message","title","action","haveButton","handleAction","handleClose"],Z=o.forwardRef((function(e,t){return(0,v.jsx)(s.Z,(0,i.Z)((0,i.Z)({direction:"up"},e),{},{ref:t}))}));function y(e){var t=e.children,n=e.onClose,o=(0,r.Z)(e,j);return(0,v.jsxs)(c.Z,(0,i.Z)((0,i.Z)({sx:{m:0,p:2}},o),{},{children:[t,n?(0,v.jsx)(u.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,v.jsx)(p.Z,{})}):null]}))}t.Z=function(e){var t=e.isProcessing,n=void 0!==t&&t,o=e.isOpen,s=void 0!==o&&o,c=(e.id,e.message),u=void 0===c?"":c,p=e.title,j=void 0===p?"":p,w=e.action,_=void 0===w?"":w,C=e.haveButton,k=void 0!==C&&C,S=e.handleAction,R=void 0===S?function(){}:S,L=e.handleClose,P=void 0===L?function(){}:L,z=(0,r.Z)(e,b),D=(0,a.Z)(),E=(0,l.Z)(),M=(0,d.Z)(E.breakpoints.down("sm"));return(0,v.jsxs)(h.Z,(0,i.Z)((0,i.Z)({fullScreen:M,open:s,onClose:P,TransitionComponent:Z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},z),{},{children:[(0,v.jsx)(y,{id:"alert-dialog-title",onClose:P,children:j}),(0,v.jsx)(f.Z,{children:(0,v.jsx)(x.Z,{id:"alert-dialog-description",children:u})}),k&&(0,v.jsxs)(m.Z,{children:[(0,v.jsx)(g.Z,{onClick:P,color:"primary",children:D.formatMessage({id:"cancel",defaultMessage:"Cancel"})}),(0,v.jsx)(g.Z,{disabled:n,onClick:function(){R(P)},color:"secondary",children:_})]})]}))}},84254:function(e,t,n){n.d(t,{GS:function(){return b},xB:function(){return Z},ZP:function(){return k}});var r=n(1413),i=n(29439),o=n(72791),a=n.p+"static/media/earth-night.da273783100dfbfd07c0.jpg",l=n(36431),s=n(75483),c=n(60183),u=n(5849),d=(n(26719),n(53329)),h=n(74165),f=n(15861),x=(n(88063),function(){var e=(0,f.Z)((0,h.Z)().mark((function e(t,n){var r,i,o,a;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.renderer(),i=t.scene(),o=t.camera(),r.render(i,o),a=r.domElement.toDataURL(),m(a,n);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),m=function(e,t){var n=window.document.createElement("a");n.style="display:none;",n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),n.remove()},g=x,p=n(35585),v=n(42419),j=n(80184),b=20,Z=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],y=s.BYU().range([.01,.7]),w=s.BYU().range([.3,.4]),_=s.BYU().range([.1,1]),C=(0,o.forwardRef)((function(e,t){var n=e.locs,h=e.countries,f=e.width,x=e.height,m=e.onSelect,C=e.onSelectLegend,k=e.zoomLoc,S=(e.toolbarRef,(0,o.useRef)()),R=(0,o.useRef)(),L=(0,o.useState)("country"),P=(0,i.Z)(L,2),z=P[0],D=(P[1],(0,o.useState)()),E=(0,i.Z)(D,2),M=E[0],B=E[1],I=(0,o.useState)(0),T=(0,i.Z)(I,2),W=T[0],F=T[1],O=(0,o.useState)([{lat:-92.52824601944323,lng:38.31079101844495,altitude:1.8},{lat:51.58421865,lng:45.9571029,altitude:1.8},{lat:31.3037101,lng:-89.29276214,altitude:1.8},{lat:33.5842591,lng:-101.8804709,altitude:1.8}]),A=(0,i.Z)(O,2),U=A[0],K=A[1],V=(0,o.useState)([]),G=(0,i.Z)(V,2),q=G[0],H=G[1],Y=(0,o.useState)({}),N=(0,i.Z)(Y,2),X=(N[0],N[1]),J=(0,o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ececec",t=s.PKp(Z),n=function(n){if(!n||""===n||""===n.trim)return"black";var r=t.domain();return r.find((function(e){return e===n}))||r.length<b?t(n):e};return n.domain=t.domain,n.range=t.range,n}()}),[]);function $(e){var t=e.locs,n=e.countries,r={},i=s.Wem(t,(function(e){return null===e||void 0===e?void 0:e.count}));y.domain(i),w.domain(i),_.domain(s.Wem(n,(function(e){return r[e.title]=e,null===e||void 0===e?void 0:e.count}))),J.domain([]).range(Z),n.forEach((function(e){return J(e.title)}));var o=0;return n.length>3&&[0,1,2,3,0].forEach((function(e){U[o]||(U[o]={lat:0,lng:0,altitude:1}),U[o].lat=n[e].lat,U[o].lng=n[e].long,o++})),{MAP_CENTERs:U,contriesMap:r}}(0,o.useEffect)((function(){var e=$({locs:n,countries:h}),t=e.MAP_CENTERs,r=e.contriesMap;X(r),K(t),k||F(0)}),[n,h]);var Q=(0,o.useState)(null),ee=(0,i.Z)(Q,2),te=ee[0],ne=ee[1];(0,o.useEffect)((function(){if(S.current&&W<U.length){var e=setTimeout((function(){S.current.pointOfView(U[W],4e3),F(W+1)}),4e3);return ne(e),function(){clearInterval(e)}}}),[W,U]);var re=(0,o.useCallback)((function(){te&&clearInterval(te),F(U.length)}),[te]),ie=(0,o.useState)(null),oe=(0,i.Z)(ie,2),ae=oe[0],le=oe[1],se=(0,o.useCallback)((function(e,t){if(S.current){re(),S.current.pointOfView({lat:t,lng:e,altitude:1.2},2e3),H([{lng:e,lat:t}]),ae&&clearInterval(ae);var n=setTimeout((function(){H([])}),1e4);le(n)}}),[W,re,ae]);(0,o.useEffect)((function(){return k&&se(k.lng,k.lat),function(){ae&&clearInterval(ae)}}),[k]);var ce=(0,o.useCallback)((function(){g(S.current,"MIRAGE-mc")}),[R,S]);(0,o.useEffect)((function(){C("selectCountry",(function(e){m({country:[e.title]}),se(e.long,e.lat)}))}),[se,m]);var ue=(0,o.useCallback)((function(){if(S.current){var e=(0,r.Z)({},S.current.pointOfView());e.altitude=e.altitude/2,S.current.pointOfView(e,2e3)}}),[S]),de=(0,o.useCallback)((function(){if(S.current){var e=(0,r.Z)({},S.current.pointOfView());e.altitude=2*e.altitude,S.current.pointOfView(e,2e3)}}),[S]);return(0,j.jsxs)("div",{style:{background:"#000010",position:"relative"},children:[(0,j.jsx)("div",{ref:R,style:{},children:(0,j.jsx)(l.Z,{width:f,height:x,ref:S,globeImageUrl:a,showAtmosphere:!0,ringsData:q,ringColor:function(){return"#D39F49"},ringResolution:1e3,ringMaxRadius:5,ringPropagationSpeed:5,ringRepeatPeriod:500,labelsData:h,labelLat:(0,o.useCallback)((function(e){return e.lat}),[]),labelLng:(0,o.useCallback)((function(e){return e.long}),[]),labelAltitude:(0,o.useCallback)((function(e){return M&&M.country===e.title?.05:.02}),[M]),labelText:(0,o.useCallback)((function(e){return e.title}),[]),labelSize:(0,o.useCallback)((function(e){return M&&M.country===e.title?1:w(null===e||void 0===e?void 0:e.count)}),[M]),labelDotRadius:0,labelColor:(0,o.useCallback)((function(e){var t;return null!==(t=e.color)&&void 0!==t?t:"white"}),[M]),labelResolution:2,hexBinPointsData:n,hexBinPointWeight:"count",hexBinPointLng:(0,o.useCallback)((function(e){return e.long}),[]),hexBinPointLat:(0,o.useCallback)((function(e){return e.lat}),[]),hexAltitude:(0,o.useCallback)((function(e){return y(e.sumWeight)}),[]),hexBinResolution:4,hexTopColor:(0,o.useCallback)((function(e){return J(e.points[0][z])}),[]),hexSideColor:(0,o.useCallback)((function(e){return J(e.points[0][z])}),[]),hexBinMerge:!1,onHexHover:(0,o.useCallback)((function(e){B(e?e.points[0]:void 0)}),[]),hexLabel:(0,o.useCallback)((function(e){return'<div class="overlay-holder">\n            <div class="overlay-header">\n                <span><b>'.concat(s.Smz(e.points,(function(e){return null===e||void 0===e?void 0:e.count})),'</b> stations</span>\n            </div>\n            <div class="overlay-content">\n            <table>\n                <tbody><tr>').concat(e.points.slice().sort((function(e,t){return(null===t||void 0===t?void 0:t.count)-(null===e||void 0===e?void 0:e.count)})).map((function(e){return"<td>[".concat(null===e||void 0===e?void 0:e.count,"]</td><td>").concat(e.title,"</td>")})).join("</tr><tr>"),"</tr></tbody>\n            </table>\n            </div>\n          </div>")}),[]),onHexClick:function(e){var t,n=[];e.points.forEach((function(e){n.push(e.city)})),m({city:n,country:[null===(t=e.points[0])||void 0===t?void 0:t.country]})},onGlobeClick:re})}),(0,j.jsxs)(c.Z,{orientation:"vertical","aria-label":"map tool",variant:"contained",sx:{position:"absolute",right:0,top:0,margin:1,"& button":{padding:1}},children:[(0,j.jsx)(u.Z,{onClick:ce,children:(0,j.jsx)(d.Z,{})}),(0,j.jsx)(u.Z,{onClick:ue,children:(0,j.jsx)(v.Z,{})}),(0,j.jsx)(u.Z,{onClick:de,children:(0,j.jsx)(p.Z,{})})]})]})})),k=C},78305:function(e,t,n){n.d(t,{X:function(){return r},e:function(){return i}});n(72426);var r=[{accessorKey:"city",header:"City"},{accessorKey:"country",header:"Country"},{accessorKey:"station",header:"Station"},{accessorKey:"station_genre",header:"Station Genre"},{accessorKey:"stream_artist",header:"Artist",dynamic:!0},{accessorKey:"stream_song",header:"Song",dynamic:!0}],i=r.filter((function(e){return!e.filterDisable}))},5797:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(45987),i=n(1413),o=n(29439),a=n(72791),l=n(78687),s=n(49079),c=(n(69824),n(80915)),u=n(36314),d=n(93006),h=n(46314),f=n(78305),x=n(20250),m=n(77262),g=n(80184),p=["children","role"],v=a.forwardRef((function(e,t){var n=e.children,o=e.role,l=(0,r.Z)(e,p),s=Array.isArray(n)?n.length:0,c=(0,a.useRef)(null);return(0,g.jsx)("div",{ref:t,role:o,children:(0,g.jsx)("div",(0,i.Z)((0,i.Z)({},l),{},{ref:c,children:(0,g.jsx)(m.ViewportList,{viewportRef:c,items:n,count:s,children:function(e){var t=e.props,n=e.type;return(0,a.createElement)(n,(0,i.Z)((0,i.Z)({},t),{},{key:t.id}))}})}))})})),j=["onInputChange"],b=(0,c.D)(),Z=function(e,t){return b(e,t).slice(0,50)};function y(){var e=(0,l.v9)(s.mj),t=(0,l.I0)(),n=(0,a.useState)({}),r=(0,o.Z)(n,2),c=r[0],h=r[1],m=(0,x.Wz)(),p=m.isLoading,j=m.searchByStream,b=m.getList,y=b("fields");return(0,a.useEffect)((function(){h((0,i.Z)({},y))}),[y]),(0,g.jsx)(u.Z,{spacing:2,padding:2,children:f.e.map((function(n){var r,o;return(0,g.jsx)(w,{multiple:!0,size:"small",limitTags:2,filterOptions:Z,ListboxComponent:v,freeSolo:!0,options:null!==(r=n.dynamic?b("search-".concat(n.accessorKey)):c[n.accessorKey])&&void 0!==r?r:[],loading:!!n.dynamic&&p("search-".concat(n.accessorKey)),getOptionLabel:function(e){return e},value:null!==(o=e[n.accessorKey])&&void 0!==o?o:[],onChange:function(e,r){t((0,s.Tv)({key:n.accessorKey,value:r}))},onInputChange:n.dynamic?function(e,t){t&&""!==t&&j(n.accessorKey,t)}:void 0,renderInput:function(e){return(0,g.jsx)(d.Z,(0,i.Z)((0,i.Z)({},e),{},{label:n.header}))}},n.accessorKey)}))})}function w(e){var t=e.onInputChange,n=void 0===t?function(){}:t,l=(0,r.Z)(e,j),s=a.useState(""),c=(0,o.Z)(s,2),u=c[0],d=c[1];return(0,g.jsx)(h.Z,(0,i.Z)({inputValue:u,onInputChange:function(e,t,r){d(t),n(e,t,r)},onBlur:function(){d("")}},l))}},26719:function(e,t,n){n.d(t,{x:function(){return a}});var r=n(1413),i=n(36395),o=n(75483);function a(e){var t=(0,o.$_Y)(e);return t.opacity=.5,t.toString()}t.Z=function(e,t,n,o,a){if(t)for(var l=0;l<t.length;l++)if(t[l].id===e){var s=t[l].source,c=null!=s&&s instanceof Function?s(n?"dark":"light",a):s,u=null!=c?c.palette:{};return(0,i.Z)((0,r.Z)((0,r.Z)({},c),{},{palette:(0,r.Z)((0,r.Z)({},u),{},{mode:n?"dark":"light"}),direction:o?"rtl":"ltr"}))}return(0,i.Z)({palette:{mode:n?"dark":"light"},direction:o?"rtl":"ltr"})}},51592:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ce}});var r=n(29439),i=n(72791),o=n(93539),a=n(1413),l=n(95321),s=n(74350),c=n(13967),u=n(42404),d=n(24003),h=n(25256),f=n(29464),x=n(90977),m=n(4567),g=n(40986),p=n(7607),v=n(99631),j=n(80184);function b(e){var t=e.children,n=e.pageTitle,r=e.onBackClick,b=e.isLoading,Z=e.appBarContent,y=void 0===Z?null:Z,w=e.contentStyle,_=e.tabs,C=void 0===_?null:_,k=(0,l.useTheme)().isRTL,S=(0,d.useOnline)(),R=(0,c.Z)(),L=((0,u.useConfig)().appConfig||{}).menu||{},P=L.width,z=void 0===P?240:P,D=L.appBarLeadingContent,E=void 0===D?null:D,M=(0,i.useContext)(s.default),B=M.toggleThis,I=M.isDesktop,T=M.isMenuOpen,W=(0,o.Z)(),F="";("string"===typeof n||n instanceof String)&&(F=n);return(0,j.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[(0,j.jsx)(h.Z,{position:I?"absolute":void 0,sx:{width:T&&I?"calc(100% - ".concat(z,"px)"):void 0,zIndex:R.zIndex.drawer,transition:R.transitions.create(["width","margin"],{easing:R.transitions.easing.sharp,duration:R.transitions.duration.leavingScreen}),maxHeight:64,marginLeft:k?0:-12,marginRight:k?30:0,backgroundColor:"transparent",backgroundImage:"none",boxShadow:"none"},children:(0,j.jsxs)(f.Z,{children:[T&&I||!r&&(0,j.jsx)(x.Z,{color:"inherit","aria-label":"open drawer",onClick:function(){T?B("isMobileMenuOpen"):(B("isMiniMode",!1),B("isMenuOpen",!0),I||B("isMobileMenuOpen"))},edge:"start",children:(0,j.jsx)(p.Z,{})}),r&&(0,j.jsx)(x.Z,{color:"inherit","aria-label":"open drawer",onClick:r,children:(0,j.jsx)(v.Z,{})}),!r&&T&&!1,E,(0,j.jsx)(m.Z,{variant:"h6",color:"inherit",noWrap:!0,children:F}),(0,j.jsx)("div",{style:{flex:"1 1 auto"}}),y]})}),(0,j.jsx)("div",{style:{alignItems:"center",justifyContent:"flex-end",minHeight:64}}),b&&(0,j.jsx)(g.Z,{}),!S&&(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",height:15,backgroundColor:R.palette.secondary.main},children:(0,j.jsx)(m.Z,{variant:"caption",color:"textSecondary",noWrap:!0,children:W.formatMessage({id:"offline",defaultMessage:"Offline"})})}),C,(0,j.jsx)("div",{style:(0,a.Z)({flex:1,overflow:"auto"},w),children:t})]})}var Z=n(20250),y=n(18060),w=n(64554),_=n(84254),C=n(56525),k=n(19628),S=(n(28920),n(78305)),R=n(5849),L=n(53329),P=n(76730),z=function(e){var t=e.data,n=e.isLoadingData,o=e.onSelectRow,a=e.highlightId,l=S.X,s=(0,i.useRef)(null),c=(0,i.useState)(!1),u=(0,r.Z)(c,2),d=u[0],h=u[1],f=(0,i.useState)([]),x=(0,r.Z)(f,2),m=x[0],g=x[1],p=(0,Z.Wz)().getDownloadData;(0,i.useEffect)((function(){var e;null===(e=s.current)||void 0===e||e.scrollToIndex(0)}),[m]);return(0,j.jsx)(k.ZP,{columns:l,data:t,enableBottomToolbar:!1,enableGlobalFilterModes:!0,enableDensityToggle:!1,enablePagination:!1,enableRowVirtualization:!0,muiTablePaperProps:{sx:{display:"flex",flexDirection:"column",height:"100%"}},muiTableContainerProps:{sx:{height:"100%",flexGrow:2}},initialState:{density:"compact"},onSortingChange:g,state:{isLoading:n||d,sorting:m},rowVirtualizerInstanceRef:s,rowVirtualizerProps:{overscan:8},muiTableBodyRowProps:function(e){var t=e.row;return{onClick:function(){o(t.original)},sx:{cursor:"pointer",opacity:a?a._id===t.original._id?1:.7:1}}},enableColumnResizing:!0,defaultColumn:{minSize:20,maxSize:9001,size:100},renderTopToolbarCustomActions:function(e){var t=e.table;return(0,j.jsxs)(w.Z,{sx:{display:"flex",gap:"1rem",p:"0.5rem",flexWrap:"no-wrap"},children:[(0,j.jsx)(R.Z,{color:"primary",target:"_blank",size:"small",href:"https://texastechuniversity-my.sharepoint.com/:x:/g/personal/ngan_v_t_nguyen_ttu_edu/EWEu7l96MQ1Jgu8OBKspIR0BjmY1i0t6XlV6ROPCYcPkkA?download=1",startIcon:(0,j.jsx)(L.Z,{}),variant:"contained",children:"Download All Data"}),(0,j.jsx)(R.Z,{disabled:0===t.getPrePaginationRowModel().rows.length,onClick:function(){return e=t.getPrePaginationRowModel().rows,h(!0),void p(e.map((function(e){return e.original}))).then((function(e){var t={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,filename:"mirage-mc-".concat((new Date).toDateString()),useBom:!0,useKeysAsHeaders:!0};new P.ExportToCsv(t).generateCsv(e),h(!1)})).catch((function(e){h(!1)}));var e},startIcon:(0,j.jsx)(L.Z,{}),variant:"contained",size:"small",children:"Export Current Data"})]})}})},D=(n(73457),n(69824)),E=n(78687),M=n(43416),B=n(70492),I=function(e){var t=e.canUndo,n=e.canRedo,r=e.onUndo,i=e.onRedo;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.Z,{onClick:r,disabled:!t,children:(0,j.jsx)(M.Z,{})}),(0,j.jsx)(x.Z,{onClick:i,disabled:!n,children:(0,j.jsx)(B.Z,{})})]})},T={onUndo:D.zF.undo,onRedo:D.zF.redo},W=I=(0,E.$j)((function(e){return{canUndo:e.streamFilters.past.length>0,canRedo:e.streamFilters.future.length>0}}),T)(I),F=n(49079),O=(n(26719),n(88240),n(97718)),A=n(24308),U=n(45987),K=n(36314),V=n(65469),G=n(85771),q=n(81153),H=n(60220),Y=n(94721),N=n(72426),X=n.n(N),J=n(14642),$=n(81131),Q=(n(81406),n(66934)),ee=n(4841),te=(0,Q.ZP)(ee.Z)((function(e){var t=e.theme;return{padding:t.spacing(1),borderRadius:10,transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),ne=te,re=["expand"];(0,Q.ZP)((function(e){e.expand;var t=(0,U.Z)(e,re);return(0,j.jsx)($.Z,(0,a.Z)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));var ie=function(e){var t,n,r,i=e.data,o=e.onSelect,a=X()(i.time_station).format("LLL"),l=null!==(t=i.stream_name)&&void 0!==t?t:"N/A";return(0,j.jsxs)(K.Z,{spacing:1,children:[(0,j.jsxs)(ne,{children:[(0,j.jsxs)(m.Z,{component:"div",variant:"h2",onClick:function(){return o({station:[i.station]},i)},children:[i.station," ",(0,j.jsxs)(m.Z,{component:"span",variant:"subtitle1",children:[null!==(n=i.broadcast_frequency)&&void 0!==n?n:"0.0"," FM"]})]}),(0,j.jsx)(m.Z,{component:"div",variant:"subtitle1",color:"text.secondary",children:i.station_description}),(0,j.jsxs)("table",{style:{width:"100%"},children:[(0,j.jsxs)("colgroup",{children:[(0,j.jsx)("col",{style:{width:130}}),(0,j.jsx)("col",{})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Station URL"}),(0,j.jsx)("td",{children:(0,j.jsx)(V.Z,{href:i.station_url,target:"_blank",color:"secondary",children:i.station_url})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Location"}),(0,j.jsx)("td",{children:(0,j.jsxs)(V.Z,{target:"_blank",color:"secondary",href:"https://maps.google.com/?q=".concat(i.lat,",").concat(i.long),children:[(0,j.jsx)(J.Z,{}),i.city,", ",i.country]})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Radio Garden URL"}),(0,j.jsx)("td",{children:(0,j.jsx)(V.Z,{href:i.url,target:"_blank",color:"secondary",children:i.url})})]})]})]}),(0,j.jsx)(ne,{children:(0,j.jsxs)("table",{style:{width:"100%"},children:[(0,j.jsxs)("colgroup",{children:[(0,j.jsx)("col",{style:{width:130}}),(0,j.jsx)("col",{})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Stream name"}),(0,j.jsx)("td",{children:l})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Stream URL"}),(0,j.jsx)("td",{children:(0,j.jsx)(V.Z,{href:i.stream_url,target:"_blank",color:"secondary",children:i.stream_url})})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Description"}),(0,j.jsx)("td",{children:i.stream_description})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Genre"}),(0,j.jsx)("td",{children:i.stream_genre&&(0,j.jsx)(K.Z,{direction:"row",spacing:1,flexWrap:!0,sx:{width:"100%",flexWrap:"wrap"},children:(0,j.jsx)(G.Z,{label:i.stream_genre,size:"small"})})})]})]})}),(0,j.jsx)(ne,{elevation:3,children:(0,j.jsxs)(q.ZP,{container:!0,spacing:1,children:[(0,j.jsx)(q.ZP,{item:!0,xs:12,children:(0,j.jsxs)(m.Z,{color:"text.secondary",gutterBottom:!0,children:[" ",a]})}),(0,j.jsxs)(q.ZP,{item:!0,xs:6,children:[(0,j.jsx)(m.Z,{variant:"h4",component:"div",onClick:i.stream_song?function(){return o({stream_song:[i.stream_song]})}:null,children:i.stream_song}),i.year_released&&(0,j.jsxs)(m.Z,{color:"text.secondary",gutterBottom:!0,children:[" ",i.year_released]}),i.stream_song_genre&&(0,j.jsx)(G.Z,{label:i.stream_song_genre,size:"small"})]}),(0,j.jsxs)(q.ZP,{item:!0,children:[(0,j.jsxs)(w.Z,{sx:{flex:"1 0 auto",display:"flex"},children:[(0,j.jsx)(H.Z,{"aria-label":"recipe",src:i.stream_artist_image_url,sx:{mr:1},children:i.stream_artist[0]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(m.Z,{variant:"h5",color:"text.primary",children:i.stream_artist}),(0,j.jsxs)(m.Z,{variant:"subtitle2",children:["from ",null!==(r=i.stream_artist_country)&&void 0!==r?r:"N/A"]})]})]}),i.stream_artist_genre&&i.stream_artist_genre.map((function(e){return(0,j.jsx)(G.Z,{label:e,size:"small"},e)}))]}),(0,j.jsx)(q.ZP,{item:!0,xs:12,children:i.stream_instrument_list&&(0,j.jsxs)(K.Z,{direction:"row",spacing:1,flexWrap:!0,sx:{width:"100%",flexWrap:"wrap"},children:[(0,j.jsx)(m.Z,{children:"Instruments: "}),i.stream_instrument_list.split(";").map((function(e){return(0,j.jsx)(G.Z,{label:e,size:"small"},e)}))]})}),i.stream_lyrics&&(0,j.jsxs)(q.ZP,{item:!0,xs:12,children:[(0,j.jsxs)(q.ZP,{container:!0,children:[(0,j.jsx)(Y.Z,{sx:{mt:2,mb:2,flexGrow:1}}),(0,j.jsxs)(m.Z,{variant:"h5",component:"div",sx:{margin:"auto"},children:["Lyrics ",i.stream_lyrics_language?"(".concat(i.stream_lyrics_language,")"):""]}),(0,j.jsx)(Y.Z,{sx:{mt:2,mb:2,flexGrow:1}})]}),i.stream_lyrics]})]})})]})};function oe(e){var t=e.currentDetail,n=e.onSelect;e.sx;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(A.Z,{container:!0,style:{height:"100%",width:"100%",padding:10,overflow:"auto"},m:0,flexDirection:"column",flexWrap:"nowrap",sx:{bgcolor:function(e){return e.palette.background.paper},color:function(e){return e.palette.primary.contrastText}},children:t?(0,j.jsx)(ie,{data:t,onSelect:n}):(0,j.jsx)(j.Fragment,{children:"Select from Event List"})})})}var ae=n(57689);var le=n(94258),se=n(22840),ce=n(93433),ue=n(68286),de=n(75483),he=(0,de.BYU)().range([5,20]),fe=(0,de.BYU)().domain([7e-4,.0014,.003,.006,.012,.024,.048,.096,.192,.3712,.768,1.536,3.072,6.144,11.8784,23.7568,47.5136,98.304,190.0544,360]).range((0,de.w6H)(0,20).map((function(e){return 20-e})));function xe(e){var t=e.locs,n=e.height,o=e.width,a=e.highlight,l=(0,c.Z)(),s=(0,i.useState)([]),u=(0,r.Z)(s,2),d=u[0],h=u[1],f=(0,i.useState)({center:{lon:0,lat:0},zoom:1}),x=(0,r.Z)(f,2),m=x[0],g=x[1];(0,i.useEffect)((function(){try{if(t.length){var e=l.palette.primary.main;he.domain((0,de.Wem)(t,(function(e){return null===e||void 0===e?void 0:e.count})));var n=[],r=[],i=[],o=[];t.forEach((function(e){n.push(e.long),r.push(e.lat),i.push(he(null===e||void 0===e?void 0:e.count)),o.push("".concat(e.title," (").concat(null===e||void 0===e?void 0:e.count,")"))}));var s=he.ticks(2),c=s.map((function(e){return he(e)})),u=s.map((function(t,n){return{mapbox:"mapboxTick",type:"scattermapbox",name:"".concat(t),lon:[0],lat:[0],x:[0],y:[0],marker:{color:e,size:c[n]},visible:"legendonly"}})),d=[{type:"scattermapbox",lon:n,lat:r,hoverinfo:"text",text:o,showlegend:!1,marker:{size:i,color:e,line:{color:"black"}},name:"stream"}].concat((0,ce.Z)(u)),f=(0,de.Wem)(t,(function(e){return null===e||void 0===e?void 0:e.long})),x=(0,de.Wem)(t,(function(e){return null===e||void 0===e?void 0:e.lat})),m={lon:(f[1]+f[0])/2,lat:(x[1]+x[0])/2},p=Math.min(10,Math.min(fe(1.2*(f[1]-f[0])*2),fe(1.2*(x[1]-x[0])))/1.5);if(g({zoom:p,center:m}),a){var v=t.find((function(e){return e.city_id===a.city_id}));v&&d.push({type:"scattermapbox",lon:[v.long],lat:[v.lat],hoverinfo:"text",text:["".concat(v.title," (").concat(null===v||void 0===v?void 0:v.count,")")],showlegend:!0,marker:{size:[he(v.count)],color:"red",line:{color:"black"}},name:v.title})}h(d)}else h([])}catch(j){}}),[t,a]);var p={paper_bgcolor:l.palette.background.paper,plot_bgcolor:"rgba(0,0,0,0)",autoscale:!1,height:n,width:o,margin:{t:10,r:10,l:10,b:10},mapboxTick:{style:"whitebg"},mapbox:{style:"carto-positron",center:m.center,zoom:m.zoom},font:{family:l.typography.fontFamily,size:l.typography.fontSize,color:l.palette.text.primary},legend:{title:{text:"#Streams"},showticksuffix:"last",x:1,xanchor:"right",y:0,orientation:"h"}};return(0,j.jsx)(ue.Z,{data:d,layout:p,config:{displaylogo:!1,toImageButtonOptions:{format:"svg",filename:"Station_Map",height:1080,width:1920,scale:1},showEditInChartStudio:!0,plotlyServerURL:"https://chart-studio.plotly.com","#Station":!1}})}function me(e){var t=e.currentDetail,n=e.locs,o=e.events,a=(0,i.useState)([]),l=(0,r.Z)(a,2),s=l[0],c=l[1];return(0,i.useEffect)((function(){try{var e={};n.forEach((function(t){return e[t.city_id]=t}));var t=(0,de.Xxj)(o,(function(e){return e.city_id})).map((function(t){var n,i,o,a=(0,r.Z)(t,2),l=a[0],s=a[1];return{title:null===(n=e[l])||void 0===n?void 0:n.title,city_id:l,count:s.length,lat:null===(i=e[l])||void 0===i?void 0:i.lat,long:null===(o=e[l])||void 0===o?void 0:o.long}}));c(t)}catch(i){}}),[n,o]),(0,j.jsx)(C.Z,{style:{height:"100%",width:"100%"},children:function(e){var n=e.height,r=e.width;return(0,j.jsx)(xe,{height:n,width:r,locs:s,highlight:t})}})}var ge=n(4942),pe=n(12065),ve=n(5403),je=n(11625),be=n(5797);function Ze(){var e=(0,i.useState)(),t=(0,r.Z)(e,2),n=t[0],o=t[1];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(R.Z,{size:"small",sx:function(e){return(0,ge.Z)({position:"relative",borderRadius:e.shape.borderRadius,borderColor:(0,pe.Fq)(e.palette.common.white,.5),borderStyle:"solid",backgroundColor:(0,pe.Fq)(e.palette.common.white,.15),textTransform:"none","&:hover":{backgroundColor:(0,pe.Fq)(e.palette.common.white,.25)},width:"100%",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"})},startIcon:(0,j.jsx)(ve.Z,{}),variant:"contained",onClick:function(){return o(!0)},children:(0,j.jsx)(m.Z,{variant:"span",children:"Search..."})}),(0,j.jsx)(je.Z,{isOpen:n,id:"searchFilter",title:"Search",message:(0,j.jsx)(be.Z,{}),handleClose:function(){return o(!1)},fullWidth:!0,maxWidth:"sm",scroll:"paper"})]})}var ye=["expand"];(0,Q.ZP)((function(e){e.expand;var t=(0,U.Z)(e,ye);return(0,j.jsx)($.Z,(0,a.Z)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));var we=function(e){var t,n=e.data,r=e.onSelect;return(0,j.jsxs)(K.Z,{spacing:1,children:[(0,j.jsx)(ne,{children:(0,j.jsxs)(q.ZP,{container:!0,spacing:1,children:[(0,j.jsxs)(q.ZP,{item:!0,xs:6,children:[(0,j.jsx)(m.Z,{variant:"h4",component:"div",onClick:n.stream_song?function(){return r({stream_song:[n.stream_song]})}:null,children:n.stream_song}),n.year_released&&(0,j.jsxs)(m.Z,{color:"text.secondary",gutterBottom:!0,children:[" ",n.year_released]}),n.stream_song_genre&&(0,j.jsx)(G.Z,{label:n.stream_song_genre,size:"small"})]}),(0,j.jsxs)(q.ZP,{item:!0,children:[(0,j.jsxs)(w.Z,{sx:{flex:"1 0 auto",display:"flex"},children:[(0,j.jsx)(H.Z,{"aria-label":"recipe",src:n.stream_artist_image_url,sx:{mr:1},children:n.stream_artist[0]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(m.Z,{variant:"h5",color:"text.primary",children:n.stream_artist}),(0,j.jsxs)(m.Z,{variant:"subtitle2",children:["from ",null!==(t=n.stream_artist_country)&&void 0!==t?t:"N/A"]})]})]}),n.stream_artist_genre&&n.stream_artist_genre.map((function(e){return(0,j.jsx)(G.Z,{label:e,size:"small"},e)}))]})]})}),(0,j.jsx)(ne,{children:(n.spotify_uri||n.youtube_url)&&(0,j.jsxs)(q.ZP,{item:!0,xs:12,children:[(0,j.jsxs)(q.ZP,{container:!0,children:[(0,j.jsx)(Y.Z,{sx:{mt:2,mb:2,flexGrow:1}}),(0,j.jsx)(m.Z,{variant:"h5",component:"div",sx:{margin:"auto"},children:"Music Platform"}),(0,j.jsx)(Y.Z,{sx:{mt:2,mb:2,flexGrow:1}})]}),n.spotify_uri&&(0,j.jsx)(q.ZP,{item:!0,xs:12,children:(0,j.jsx)("iframe",{loading:"lazy",src:n.spotify_uri.replace("com/track","com/embed/track"),width:"100%",height:"80",frameBorder:"0","data-mce-fragment":"1"})}),n.youtube_url&&(0,j.jsx)(q.ZP,{item:!0,xs:12,children:(0,j.jsx)("iframe",{width:"100%",height:"auto",loading:"lazy",src:n.youtube_url.replace("youtube.com/watch?v=","youtube-nocookie.com/embed/"),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})})]})};function _e(e){var t=e.currentDetail,n=e.onSelect;e.sx;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(A.Z,{container:!0,style:{height:"100%",width:"100%",padding:10,overflow:"auto"},m:0,flexDirection:"column",flexWrap:"nowrap",sx:{bgcolor:function(e){return e.palette.background.paper},color:function(e){return e.palette.primary.contrastText}},children:t?(0,j.jsx)(we,{data:t,onSelect:n}):(0,j.jsx)(j.Fragment,{children:"Select from Event List"})})})}var Ce=function(){var e=(0,E.I0)(),t=((0,o.Z)(),(0,E.v9)(F.mj)),n=(0,Z.Wz)(),a=n.getList,l=n.isLoading,s=n.getEvents,c=n.requestEvents,u=n.requestDetail,d=n.getDetail,h=n.setFuncCollection,f=(0,i.useState)(),x=(0,r.Z)(f,2),m=x[0],p=x[1],v=(0,i.useState)({eventList:!0,eventDetail:!0,eventMap:!0}),k=(0,r.Z)(v,2),S=k[0],R=k[1],L=(0,i.useRef)(null),P=d();!function(){var e=(0,ae.TH)().search,t=(0,Z.Wz)().requestDetail;(0,i.useMemo)((function(){var n=new URLSearchParams(e);if(n.get("id"))return t({_id:n.get("id")}),n}),[e])}();(0,i.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){p({lng:e.coords.longitude,lat:e.coords.latitude})}),(function(){})),e({type:O.O5,opened:!0})}),[]),(0,i.useEffect)((function(){P&&p({lng:P.long,lat:P.lat})}),[P]);var D=l("rawData"),M=l("events"),B=l("locs");(0,i.useEffect)((function(){D||c(t,1e3)}),[D,t]);var I=(0,i.useCallback)((function(e){u(e)}),[s]),T=(0,i.useCallback)((function(t,n){n&&p({lng:n.long,lat:n.lat}),e((0,F.rr)({value:t}))}),[]),A=(0,i.useState)((function(){return le.Model.fromJson({global:{tabEnableFloat:!0,tabSetMinWidth:100,tabSetMinHeight:100,borderMinSize:100},borders:[{type:"border",location:"top",size:400,active:!0,children:[]},{type:"border",location:"left",size:500,children:[{type:"tab",name:"Earth View",enableClose:!1,component:"Earth"}],selected:0}],layout:{type:"row",weight:100,children:[{type:"row",children:[{type:"tabset",weight:50,children:[{type:"tab",name:"Song List",component:"eventList"}]},{type:"tabset",weight:50,children:[{type:"tab",name:"Song List Map",component:"eventMap"},{type:"tab",name:"Song Detail",component:"eventDetail"},{type:"tab",name:"Listen",component:"mediaDetail"}]}]}]}})})),U=(0,r.Z)(A,2),K=U[0];U[1];return(0,j.jsxs)(b,{appBarContent:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ze,{}),(0,j.jsx)("div",{ref:L}),(0,j.jsx)(W,{})]}),children:[(0,j.jsx)("div",{style:{height:"100%",position:"relative",pointerEvents:"all",overflow:"hidden"},children:(0,j.jsx)(le.Layout,{model:K,factory:function(e){switch(e.getComponent()){case"eventList":return(0,j.jsx)(z,{data:s(),isLoadingData:M,onSelectRow:I,highlightId:P});case"eventMap":return(0,j.jsx)(me,{currentDetail:P,events:s(),locs:a("locs")});case"eventDetail":return(0,j.jsx)(oe,{currentDetail:P,onSelect:T,events:s(),locs:a("locs"),sx:{height:"100%",position:"relative"}});case"mediaDetail":return(0,j.jsx)(_e,{currentDetail:P,onSelect:T,events:s(),locs:a("locs"),sx:{height:"100%",position:"relative"}});case"Earth":return(0,j.jsx)(C.Z,{style:{height:"100%",width:"100%"},children:function(e){var t=e.height,n=e.width;return(0,j.jsx)(_.ZP,{locs:a("locs"),countries:a("countries"),onSelect:T,onSelectLegend:h,width:n,height:t,toolbarRef:L,zoomLoc:m})}});default:return""}},onRenderTabSet:function(e,t){Object.keys(S).reduce((function(e,t){return e||!1===S[t]}),!1)&&t.stickyButtons.push((0,j.jsx)(se.Z,{title:"Add",className:"flexlayout__tab_toolbar_button",style:{width:"1.1em",height:"1.1em"}},"Add button"))},popoutURL:"#/popout",onModelChange:function(e){Object.keys(S).forEach((function(e){return S[e]=!1})),e._root._children.forEach((function(e){return e._children.forEach((function(e){return S[e._attributes.component]=!0}))})),R(S)}})}),(0,j.jsx)(y.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:D||B,children:(0,j.jsxs)(w.Z,{sx:{display:"flex",alignItems:"center",width:"50%",flexDirection:"column",textAlign:"center"},children:[(0,j.jsx)(w.Z,{sx:{width:"100%"},children:(0,j.jsx)(g.Z,{variant:"determinate",value:D?40:B?90:100})}),(0,j.jsx)(w.Z,{sx:{width:"100%"},children:(0,j.jsx)("h2",{children:D?"Read data....":B?"Process data...":"Done!"})})]})})]})}}}]);
//# sourceMappingURL=514.3a7d24f2.chunk.js.map