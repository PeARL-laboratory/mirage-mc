{"version":3,"file":"static/js/229.9aca13fd.chunk.js","mappings":"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","sources":["components/Dialog/index.js","containers/Page/Page.js","components/EventTable/DownloadOption.js","components/EventTable/ShareButton.js","components/EventTable/index.js","containers/UndoRedo/index.js","components/PaperCustom/index.js","components/RadarChart/index.js","components/Map/index.js","assets/Spotify_icon.svg","Providers/Database/ulti.js","components/DetailCard/index.js","components/EventDetail/index.js","components/EventMap/index.js","components/Search/index.js","components/ListenCard/index.js","components/MediaDetail/index.js","components/AppHeader/LanguageMenu.js","components/AppHeader/FontSizeMenu.js","components/AppHeader/LayoutMenu.js","components/AppHeader/index.js","components/SongListDetail/index.js","components/VizPanel/Histogram/index.js","components/VizPanel/Scatterplot/index.js","components/VizPanel/Scatterwrapper/index.js","components/VizPanel/PCAplot/index.js","components/VizPanel/index.js","pages/LandingPage/LandingPage.js","Providers/Query/index.js"],"sourcesContent":["import React from 'react'\r\nimport { useIntl } from 'react-intl'\r\nimport { useTheme } from '@mui/material/styles'\r\n\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogTitle, IconButton,\r\n    Slide,\r\n    useMediaQuery,\r\n} from '@mui/material'\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nconst Transition = React.forwardRef((props, ref) => (\r\n    <Slide direction=\"up\" {...props} ref={ref} />\r\n))\r\n\r\nfunction BootstrapDialogTitle(props) {\r\n    const { children, onClose, ...other } = props;\r\n\r\n    return (\r\n        <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\r\n            {children}\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    onClick={onClose}\r\n                    sx={{\r\n                        position: 'absolute',\r\n                        right: 8,\r\n                        top: 8,\r\n                        color: (theme) => theme.palette.grey[500],\r\n                    }}\r\n                >\r\n                    <CloseIcon />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n}\r\n\r\nconst QuestionDialog = ({\r\n                            isProcessing = false,\r\n                            isOpen = false,\r\n                            id = '',\r\n                            message = '',\r\n                            title = '',\r\n                            action = '',\r\n                            haveButton=false,\r\n                            handleAction = () => {},\r\n                            handleClose = () => {},\r\n                            ...rest\r\n                        }) => {\r\n    const intl = useIntl()\r\n    const theme = useTheme()\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'))\r\n\r\n    return (\r\n        <Dialog\r\n            fullScreen={fullScreen}\r\n            open={isOpen}\r\n            onClose={handleClose}\r\n            TransitionComponent={Transition}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n            {...rest}\r\n        >\r\n            {/*<DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>*/}\r\n            <BootstrapDialogTitle id=\"alert-dialog-title\" onClose={handleClose}>\r\n                {title}\r\n            </BootstrapDialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                    {message}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {haveButton&&<DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                    {intl.formatMessage({id: 'cancel', defaultMessage: 'Cancel'})}\r\n                </Button>\r\n                <Button\r\n                    disabled={isProcessing}\r\n                    onClick={() => {\r\n                        handleAction(handleClose)\r\n                    }}\r\n                    color=\"secondary\"\r\n                >\r\n                    {action}\r\n                </Button>\r\n            </DialogActions>}\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default QuestionDialog","import React, { useContext } from 'react'\r\nimport { useTheme as useAppTheme } from 'material-ui-shell/lib/providers/Theme'\r\nimport MenuContext from 'material-ui-shell/lib/providers/Menu/Context'\r\nimport { useTheme } from '@mui/material/styles'\r\nimport { useConfig } from 'base-shell/lib/providers/Config'\r\nimport { useOnline } from 'base-shell/lib/providers/Online'\r\n\r\nimport { useIntl } from 'react-intl'\r\nimport {\r\n    AppBar,\r\n    Toolbar,\r\n    IconButton,\r\n    LinearProgress,\r\n    Typography, Menu, MenuItem, Box,\r\n} from '@mui/material'\r\nimport { ChevronLeft, Menu as MenuIcon } from '@mui/icons-material'\r\n\r\nexport default function ({\r\n                             children,\r\n                             pageTitle,\r\n                             appBarLeftContent = null,\r\n                             onBackClick,\r\n                             isLoading,\r\n                             appBarContent = null,\r\n                             contentStyle,\r\n                             tabs = null,\r\n                         }) {\r\n    const { isRTL } = useAppTheme()\r\n    const isOnline = useOnline()\r\n    const theme = useTheme()\r\n    const { appConfig } = useConfig()\r\n    const { menu } = appConfig || {}\r\n    const { width = 240, appBarLeadingContent = null } = menu || {}\r\n\r\n    const intl = useIntl()\r\n    let headerTitle = ''\r\n\r\n    if (typeof pageTitle === 'string' || pageTitle instanceof String) {\r\n        headerTitle = pageTitle\r\n    }\r\n\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                width: '100%',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                height: '100vh',\r\n                overflow: 'hidden',\r\n            }}\r\n        >\r\n            <AppBar\r\n                position={'absolute'}\r\n                sx={{\r\n                    width: undefined,\r\n                    zIndex: theme.zIndex['drawer'],\r\n                    transition: theme.transitions.create(['width', 'margin'], {\r\n                        easing: theme.transitions.easing.sharp,\r\n                        duration: theme.transitions.duration.leavingScreen,\r\n                    }),\r\n                    maxHeight: 64,\r\n                    marginLeft: isRTL ? 0 : -12,\r\n                    marginRight: isRTL ? 30 : 0,\r\n                    backgroundColor:'transparent',\r\n                    backgroundImage:'none',\r\n                    boxShadow:'none'\r\n                }}\r\n            >\r\n                <Toolbar sx={{\r\n                    backgroundColor: (t) =>\r\n                        t.palette.mode === 'dark'\r\n                            ? t.palette.background.default\r\n                            : t.palette.primary.dark,\r\n                    margin: 0,\r\n                    padding: 0,\r\n                }}>\r\n                    {onBackClick && (\r\n                        <IconButton\r\n                            color=\"inherit\"\r\n                            aria-label=\"open drawer\"\r\n                            onClick={onBackClick}\r\n                        >\r\n                            <ChevronLeft />\r\n                        </IconButton>\r\n                    )}\r\n                    {appBarLeadingContent}\r\n                    {appBarLeftContent}\r\n                    <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                        {headerTitle}\r\n                    </Typography>\r\n                    <div style={{ flex: '1 1 auto' }} />\r\n                    {appBarContent}\r\n                </Toolbar>\r\n\r\n            </AppBar>\r\n            <div\r\n                style={{\r\n                    alignItems: 'center',\r\n                    justifyContent: 'flex-end',\r\n                    //...theme.mixins.toolbar,\r\n                    minHeight: 64, //height of AppBar\r\n                }}\r\n            />\r\n\r\n            {isLoading && <LinearProgress />}\r\n            {!isOnline && (\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'center',\r\n                        width: '100%',\r\n                        height: 15,\r\n                        backgroundColor: theme.palette.secondary.main,\r\n                    }}\r\n                >\r\n                    <Typography variant=\"caption\" color=\"textSecondary\" noWrap>\r\n                        {intl.formatMessage({\r\n                            id: 'offline',\r\n                            defaultMessage: 'Offline',\r\n                        })}\r\n                    </Typography>\r\n                </div>\r\n            )}\r\n            {tabs}\r\n            <div style={{ flex: 1, overflow: 'auto', ...contentStyle }}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import SaveIcon from \"@mui/icons-material/Save\";\r\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\r\nimport {Button, Menu, MenuItem} from \"@mui/material\";\r\nimport React from \"react\";\r\n\r\nexport default function({onDownloadSearchList=()=>{},onDownloadSelectedList=()=>{}}){\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    return <><Button\r\n        color=\"primary\"\r\n        target={\"_blank\"}\r\n        size={\"small\"}\r\n        //export all data that is currently in the table (ignore pagination, sorting, filtering, etc.)\r\n        // onClick={handleExportData}\r\n        startIcon={<SaveIcon/>}\r\n        variant=\"contained\"\r\n        onClick={handleClick}\r\n        endIcon={<KeyboardArrowDownIcon />}\r\n    >\r\n        Download\r\n    </Button>\r\n        <Menu anchorEl={anchorEl}\r\n              open={open}\r\n              onClose={handleClose}>\r\n            <MenuItem onClick={()=>{onDownloadSearchList();handleClose();}}>Data from Search list</MenuItem>\r\n            <MenuItem onClick={()=>{onDownloadSelectedList();handleClose();}}>Data from Selected list</MenuItem>\r\n            <MenuItem disabled onClick={handleClose} href={process.env.REACT_APP_DATA_DOWNLOAD}>MIRAGE-MetaCorpus Song List</MenuItem>\r\n            <MenuItem onClick={handleClose} disabled>MIRAGE-MetaCorpus Station List</MenuItem>\r\n        </Menu>\r\n        </>\r\n}","import {Button, TextField, Stack} from \"@mui/material\";\r\nimport React, {Fragment, useState} from \"react\";\r\nimport QuestionDialog from '../../components/Dialog';\r\n\r\nexport default function ShareButton({getUrl}){\r\n    const [dialogOpen,setDialogOpen] = useState(false);\r\n    const [url,setUrl] = useState('');\r\n    const [isProcessing, setIsProcessing] = useState(false)\r\n\r\n    const closeDialog = () => {\r\n        setDialogOpen(false);\r\n    }\r\n    const openDialog = () => {\r\n        setIsProcessing(true);\r\n        getUrl().then(d=>{\r\n            setUrl(d);\r\n            setDialogOpen(true);\r\n            setIsProcessing(false);\r\n        }).catch((e)=>{\r\n            setUrl('');\r\n            setIsProcessing(false);\r\n        })\r\n    }\r\n    return <Fragment>\r\n    <Button variant=\"contained\" onClick={openDialog}>Share</Button>\r\n    <QuestionDialog\r\n        isOpen={dialogOpen}\r\n        handleClose={closeDialog}\r\n        isProcessing={isProcessing}\r\n        title={'Share URL'}\r\n        maxWidth={\"md\"}\r\n        message={<Stack direction=\"collumn\">\r\n            <TextField \r\n                size=\"small\"\r\n                label=\"\" \r\n                variant=\"outlined\" \r\n                InputProps={{\r\n                    readOnly: true,\r\n                }}\r\n                value={url}\r\n            />\r\n            <Button variant=\"contained\" size=\"small\"\r\n                onClick={() => {navigator.clipboard.writeText(url)}}>\r\n                    Copy\r\n            </Button>\r\n        </Stack>}\r\n    />\r\n    </Fragment>\r\n}","import React, {useCallback, useEffect, useMemo, useRef, useState} from 'react';\r\nimport {MaterialReactTable, MRT_ToolbarAlertBanner} from 'material-react-table';\r\nimport Scrollbar from \"material-ui-shell/lib/components/Scrollbar\";\r\n// import {fields} from \"./fields\";\r\nimport {Box, Button, IconButton, Toolbar, Tooltip} from \"@mui/material\";\r\nimport AddEventIcon from '@mui/icons-material/AddShoppingCart';\r\nimport RemoveEventIcon from '@mui/icons-material/RemoveShoppingCart';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport {ExportToCsv} from 'export-to-csv';\r\nimport {useDatabase} from \"../../Providers/Database\";\r\nimport DownloadOption from \"./DownloadOption\";\r\nimport ShareButton from \"./ShareButton\";\r\n\r\nconst EventTable = ({\r\n                        id = 'tableevent', columns, data, totalData, selectedData, disableAdding,\r\n                        isLoadingData, onSelectRow, highlightId, onSendToList, onRemoveFromList,\r\n                        mainurl\r\n                    }) => {\r\n    const [rowSelection, setRowSelection] = useState({});\r\n\r\n    //optionally access the underlying virtualizer instance\r\n    const rowVirtualizerInstanceRef = useRef(null);\r\n\r\n    // const [data, setData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [sorting, setSorting] = useState([]);\r\n    const {getDownloadData,getShortenLink, getList} = useDatabase();\r\n    const event_export_list = getList('event_export_list');\r\n\r\n    useEffect(() => {\r\n        //scroll to the top of the table when the sorting changes\r\n        try {\r\n            rowVirtualizerInstanceRef.current?.scrollToIndex?.(0);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }, [sorting]);\r\n\r\n    useEffect(() => {\r\n        setRowSelection({})\r\n    }, [data])\r\n    const handleExportRows = (rows) => {\r\n        setIsLoading(true)\r\n        getDownloadData(rows).then((datadownload) => {\r\n            const csvOptions = {\r\n                fieldSeparator: '|',\r\n                quoteStrings: '\"',\r\n                decimalSeparator: '.',\r\n                showLabels: true,\r\n                filename: `mirage-mc-${new Date().toDateString()}`,\r\n                useBom: true,\r\n                useKeysAsHeaders: true,\r\n                headers: Object.keys(event_export_list),\r\n            };\r\n            const csvExporter = new ExportToCsv(csvOptions);\r\n            csvExporter.generateCsv(datadownload);\r\n            setIsLoading(false)\r\n        }).catch(e => {\r\n            setIsLoading(false)\r\n        })\r\n    };\r\n    const handleExportRowsFromTable = (rows) => {\r\n        setIsLoading(true)\r\n        getDownloadData(rows.map((row) => row.original)).then((datadownload) => {\r\n            const csvOptions = {\r\n                fieldSeparator: ',',\r\n                quoteStrings: '\"',\r\n                decimalSeparator: '.',\r\n                showLabels: true,\r\n                filename: `mirage-mc-${new Date().toDateString()}`,\r\n                useBom: true,\r\n                useKeysAsHeaders: true,\r\n                // headers: fields.map((c) => c.accessorKey),\r\n            };\r\n            const csvExporter = new ExportToCsv(csvOptions);\r\n            csvExporter.generateCsv(datadownload);\r\n            setIsLoading(false)\r\n        }).catch(e => {\r\n            setIsLoading(false)\r\n        })\r\n    };\r\n    const handleExportData = () => {\r\n        setIsLoading(true)\r\n        // csvExporter.generateCsv(data);\r\n        const datadownload = getDownloadData();\r\n        const csvOptions = {\r\n            fieldSeparator: ',',\r\n            quoteStrings: '\"',\r\n            decimalSeparator: '.',\r\n            showLabels: true,\r\n            filename: 'mirage-mc-all',\r\n            useBom: true,\r\n            useKeysAsHeaders: true,\r\n            // headers: fields.map((c) => c.accessorKey),\r\n        };\r\n        const csvExporter = new ExportToCsv(csvOptions);\r\n        csvExporter.generateCsv(datadownload);\r\n        setIsLoading(false)\r\n    };\r\n    const handleUrl = useCallback(async() => {\r\n        return getShortenLink();\r\n    },[data,mainurl])\r\n    // console.log(data)\r\n    return (\r\n        <MaterialReactTable\r\n            key={id}\r\n            id={id}\r\n            columns={columns}\r\n            data={data} //10,000 rows\r\n            // enableBottomToolbar={!!Object.keys(rowSelection).length}\r\n            enableGlobalFilterModes\r\n            enableDensityToggle={false}\r\n            enablePagination={false}\r\n            enableRowSelection\r\n            // enableRowNumbers\r\n            enableRowVirtualization\r\n            muiTablePaperProps={{sx: {display: 'flex', flexDirection: \"column\", minHeight: 1, height: '100%'}}}\r\n            // muiTableContainerProps={{ sx: { height:'100%', flexGrow:2 } }}\r\n            initialState={{density: 'compact'}}\r\n            onSortingChange={setSorting}\r\n            onRowSelectionChange={setRowSelection}\r\n            state={{isLoading: isLoadingData || isLoading, sorting, rowSelection}}\r\n            rowVirtualizerInstanceRef={rowVirtualizerInstanceRef} //optional\r\n            rowVirtualizerProps={{overscan: 2}} //optionally customize the virtualizer\r\n            muiTableBodyRowProps={({row}) => ({\r\n                onClick: () => {\r\n                    onSelectRow(row.original)\r\n                },\r\n                // sx: { cursor: 'pointer',opacity:highlightId?(highlightId.event_id=== row.original.event_id?1:0.7):1},\r\n                sx: {cursor: 'pointer', opacity: highlightId ? (highlightId._id === row.original._id ? 1 : 0.7) : 1},\r\n            })}\r\n            muiSelectCheckboxProps={{size: \"small\"}}\r\n            muiTableBodyCellProps={{sx: {\"wordBreak\": \"break-word\", whiteSpace: \"normal\"}}}\r\n            enableColumnResizing={true}\r\n            enableFullScreenToggle={false}\r\n            defaultColumn={{\r\n                minSize: 20, //allow columns to get smaller than default\r\n                maxSize: 9001, //allow columns to get larger than default\r\n                size: 120, //make columns wider by default\r\n            }}\r\n            layoutMode=\"grid\"\r\n            positionToolbarAlertBanner={\"bottom\"}\r\n            renderTopToolbarCustomActions={({table}) => {\r\n                return (\r\n                    <Box\r\n                        sx={{display: 'flex', gap: '1rem', p: '0.5rem', flexWrap: 'no-wrap'}}\r\n                    >\r\n                        <DownloadOption\r\n                            // onDownloadSearchList={()=>handleExportRows(table.getPrePaginationRowModel().rows)}\r\n                            onDownloadSearchList={() => handleExportRows(totalData)}\r\n                            onDownloadSelectedList={() => handleExportRows(selectedData)}\r\n                        />\r\n                        <ShareButton getUrl={handleUrl}/>\r\n                    </Box>\r\n                )\r\n            }}\r\n            renderBottomToolbar={({table}) => {\r\n                const handleSelected = onSendToList ? () => {\r\n                    onSendToList(table.getSelectedRowModel().flatRows.map(d => d.original))\r\n                } : () => {\r\n                };\r\n                const handleRemoveSelected = onRemoveFromList ? () => {\r\n                    onRemoveFromList(table.getSelectedRowModel().flatRows.map(d => d.original))\r\n                } : () => {\r\n                };\r\n                return (<Toolbar\r\n                    sx={{\r\n                        display: Object.keys(rowSelection).length ? 'flex' : 'none',\r\n                    }}\r\n                >\r\n                    <Box sx={{flexGrow: 2}}>\r\n                        <MRT_ToolbarAlertBanner\r\n                            stackAlertBanner\r\n                            table={table}\r\n                        />\r\n                    </Box>\r\n                    {(onSendToList && (!disableAdding)) && <Tooltip title={\"Add to Selected list\"}><IconButton\r\n                        // color=\"info\"\r\n                        // disabled={!table.getIsSomeRowsSelected()}\r\n                        onClick={handleSelected}\r\n                        variant=\"contained\"\r\n                    >\r\n                        <AddEventIcon/>\r\n                    </IconButton>\r\n                    </Tooltip>}\r\n                    {(onRemoveFromList) && <Tooltip title={\"Remove from Selected list\"}><IconButton\r\n                        // color=\"info\"\r\n                        // disabled={!table.getIsSomeRowsSelected()}\r\n                        onClick={handleRemoveSelected}\r\n                        variant=\"contained\"\r\n                    >\r\n                        <RemoveEventIcon/>\r\n                    </IconButton>\r\n                    </Tooltip>}\r\n                </Toolbar>)\r\n            }}\r\n        />\r\n    );\r\n};\r\nexport default EventTable;","import React from 'react'\r\nimport {ActionCreators as UndoActionCreators} from 'redux-undo'\r\nimport { connect } from 'react-redux'\r\nimport {IconButton} from \"@mui/material\";\r\nimport UndoIcon from \"@mui/icons-material/Undo\";\r\nimport RedoIcon from \"@mui/icons-material/Redo\";\r\n\r\nlet UndoRedo = ({ canUndo, canRedo, onUndo, onRedo }) => (\r\n    <>\r\n        <IconButton onClick={onUndo} disabled={!canUndo}><UndoIcon/></IconButton>\r\n        <IconButton onClick={onRedo} disabled={!canRedo}><RedoIcon/></IconButton>\r\n    </>\r\n)\r\n\r\nconst mapStateToProps = (state) => ({\r\n    canUndo: state.streamFilters.past.length > 0,\r\n    canRedo: state.streamFilters.future.length > 0\r\n})\r\n\r\nconst mapDispatchToProps = ({\r\n    onUndo: UndoActionCreators.undo,\r\n    onRedo: UndoActionCreators.redo\r\n})\r\n\r\nUndoRedo = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(UndoRedo)\r\n\r\nexport default UndoRedo\r\n","import {styled} from \"@mui/material/styles\";\r\nimport {Paper} from \"@mui/material\";\r\n\r\nconst PaperCustom = styled(Paper)(({ theme }) => ({\r\n    padding: theme.spacing(1),\r\n    borderRadius:10,\r\n    transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n    }),\r\n}));\r\n\r\nexport default PaperCustom;","import Plot from \"react-plotly.js\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport { useEffect, useState, useMemo } from \"react\";\r\n\r\nexport default function RadarChart({\r\n  inputData,\r\n  axisInfo,\r\n  height,\r\n  width,\r\n  highlight,\r\n  meanradar,\r\n}) {\r\n  const theme = useTheme();\r\n  let [data, setData] = useState([]);\r\n  useEffect(() => {\r\n    if (axisInfo.length && inputData.length) {\r\n      const data = inputData.map((d) => {\r\n        const item = {\r\n          type: \"scatterpolar\",\r\n          r: [],\r\n          theta: [],\r\n          fill: \"toself\",\r\n          name: \"current event\",\r\n        };\r\n        axisInfo.forEach((k, ki) => {\r\n          item.r[ki] = d[k.key] ?? undefined;\r\n          item.theta[ki] = k.label;\r\n        });\r\n        item.r.push(item.r[0]);\r\n        item.theta.push(item.theta[0]);\r\n        return item;\r\n      });\r\n      if (meanradar) {\r\n        const item = {\r\n          type: \"scatterpolar\",\r\n          r: [],\r\n          theta: [],\r\n          line: {\r\n            dash: \"dash\", // Dash line for the trace\r\n          },\r\n          name: \"mean\",\r\n        };\r\n        data.push(item);\r\n        axisInfo.forEach((k, ki) => {\r\n          item.r[ki] = meanradar[k.key] ?? undefined;\r\n          item.theta[ki] = k.label;\r\n        });\r\n        item.r.push(item.r[0]);\r\n        item.theta.push(item.theta[0]);\r\n      }\r\n      setData(data);\r\n    } else {\r\n      setData([]);\r\n    }\r\n  }, [inputData, meanradar, axisInfo]);\r\n  let layout = useMemo(\r\n    () => ({\r\n      paper_bgcolor: \"rgba(255,255,255,0)\",\r\n      plot_bgcolor: \"rgba(255,255,255,0)\",\r\n      autoscale: false,\r\n      height: height,\r\n      width: width,\r\n      margin: { t: 40, r: 20, l: 20, b: 40 },\r\n      font: {\r\n        family: theme.typography.fontFamily,\r\n        size: theme.typography.fontSize,\r\n        color: theme.palette.text.primary,\r\n      },\r\n      polar: {\r\n        radialaxis: {\r\n          visible: true,\r\n          range: [0, 1],\r\n        },\r\n      },\r\n      showlegend: false,\r\n    }),\r\n    [height, width, theme]\r\n  );\r\n  return (\r\n    <Plot\r\n      data={data}\r\n      layout={layout}\r\n      config={{\r\n        displaylogo: false,\r\n        toImageButtonOptions: {\r\n          format: \"svg\", //one of png, svg, jpeg, webp 'svg'\r\n          filename: \"Station_Map\",\r\n          height: 1080,\r\n          width: 1920,\r\n          scale: 1, // # Multiply title/legend/axis/canvas sizes by this factor\r\n        },\r\n        showEditInChartStudio: true,\r\n        plotlyServerURL: \"https://chart-studio.plotly.com\",\r\n        // '#Station':false\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import Plot from 'react-plotly.js';\r\nimport {useTheme} from \"@mui/material/styles\";\r\nimport {useEffect, useMemo, useState} from \"react\";\r\nimport {color as d3color, extent, scaleLinear, range as d3range,interpolateNumber} from 'd3';\r\nimport './index.css';\r\n\r\nconst countriesScale = scaleLinear().range([5,20]);\r\nconst zoomi = scaleLinear().domain([\r\n    0.0007, 0.0014, 0.003, 0.006, 0.012, 0.024, 0.048, 0.096,\r\n    0.192, 0.3712, 0.768, 1.536, 3.072, 6.144, 11.8784, 23.7568,\r\n    47.5136, 98.304, 190.0544, 360.0\r\n]).range(d3range(0,20).map(d=>20-d))\r\nexport default function  Map ({locs,height,width,highlight}) {\r\n    const theme = useTheme();\r\n    let [data,setData] = useState([]);\r\n    let [domain,setDomain] = useState({center: {lon: 0, lat: 0},zoom:1});\r\n    useEffect(()=>{\r\n        try {\r\n            if (locs.length) {\r\n                // const botColor = d3color(theme.palette.text.primary);\r\n                // botColor.opacity = highlight?0.5:1;\r\n                const _botColor = theme.palette.primary.main;\r\n                countriesScale.domain(extent(locs, d => d?.count));\r\n                let lon = [];\r\n                let lat = [];\r\n                let size = [];\r\n                let text = [];\r\n                // let color=[];\r\n                locs.forEach(d => {\r\n                    lon.push(d.long)\r\n                    lat.push(d.lat)\r\n                    size.push(countriesScale(d?.count))\r\n                    text.push(`${d['title']} (${d?.count})`);\r\n                    // color.push((highlight&&(highlight.country===d['title']))? 'red':_botColor);\r\n                });\r\n                // console.log(highlight,color)\r\n                let ticks = countriesScale.ticks(2);\r\n                let tsize = ticks.map(t => countriesScale(t));\r\n                let tickS = ticks.map((t, i) => ({\r\n                    mapbox: 'mapboxTick',\r\n                    type: 'scattermapbox',\r\n                    name: `${t}`,\r\n                    lon: [0],\r\n                    lat: [0],\r\n                    x: [0],\r\n                    y: [0],\r\n                    marker: {\r\n                        color: _botColor,\r\n                        size: tsize[i]\r\n                    },\r\n                    visible: 'legendonly',\r\n                }))\r\n                let data = [{\r\n                    type: 'scattermapbox',\r\n                    lon,\r\n                    lat,\r\n                    hoverinfo: 'text',\r\n                    text,\r\n                    showlegend: false,\r\n                    marker: {\r\n                        size,\r\n                        color: _botColor,\r\n\r\n                        line: {\r\n                            color: 'black'\r\n                        }\r\n                    },\r\n                    name: \"stream\"\r\n                }, ...tickS\r\n                ];\r\n                const longd = extent(locs, d => d?.long) // [-180,180]\r\n                const latd = extent(locs, d => d?.lat)// [-90,90]\r\n                const center = {lon: (longd[1] + longd[0]) / 2, lat: (latd[1] + latd[0]) / 2};\r\n                const magrin = 1.2\r\n                const zoom = Math.min(10, Math.min(zoomi((longd[1] - longd[0]) * magrin * 2), zoomi((latd[1] - latd[0]) * magrin)) / 1.5);\r\n\r\n                setDomain({zoom, center})\r\n                if (highlight) {\r\n                    const _highlight = locs.find(d => d['city_id'] === highlight.city_id);\r\n                    if (_highlight) {\r\n                        data.push({\r\n                            type: 'scattermapbox',\r\n                            // locationmode: 'world',\r\n                            lon: [_highlight.long],\r\n                            lat: [_highlight.lat],\r\n                            hoverinfo: 'text',\r\n                            text: [`${_highlight['title']} (${_highlight?.count})`],\r\n                            showlegend: true,\r\n                            marker: {\r\n                                size: [countriesScale(_highlight.count)],\r\n                                color: 'red',\r\n                                line: {\r\n                                    color: 'black'\r\n                                }\r\n                            },\r\n                            name: _highlight['title']\r\n                        })\r\n                    }\r\n                }\r\n                setData(data);\r\n            }else\r\n                setData([])\r\n        }catch(e){\r\n\r\n        }\r\n    },[locs,highlight])\r\n// console.log(domain.center,domain.zoom)\r\n    let layout = useMemo(()=>({\r\n        paper_bgcolor: theme.palette.background.paper,\r\n        plot_bgcolor:'rgba(0,0,0,0)',//theme.palette.background.paper,\r\n        autoscale: false,\r\n        height:height,\r\n        width:width,\r\n        margin:{t:10,r:10,l:10,b:10},\r\n        mapboxTick: {\r\n            style: \"whitebg\",\r\n        },\r\n        mapbox: {\r\n            style: \"carto-positron\",\r\n            center:domain.center,\r\n            zoom:domain.zoom,\r\n        },\r\n        font: {\r\n            family: theme.typography.fontFamily,\r\n            size: theme.typography.fontSize,\r\n            color: theme.palette.text.primary\r\n        },\r\n        legend: {\r\n            title: {text: '#Streams'},\r\n            showticksuffix: 'last',\r\n            x: 1,\r\n            xanchor: 'right',\r\n            y: 0,\r\n            orientation: 'h'\r\n        }\r\n    }),[height,width,theme,domain]);\r\n    return (\r\n        <Plot\r\n            data={data}\r\n            layout={ layout }\r\n            config = {{'displaylogo': false,\r\n                'toImageButtonOptions': {\r\n                'format': 'svg',//one of png, svg, jpeg, webp 'svg'\r\n                'filename': 'Station_Map',\r\n                'height': 1080,\r\n                'width': 1920,\r\n                'scale': 1// # Multiply title/legend/axis/canvas sizes by this factor\r\n                },\r\n                showEditInChartStudio: true,\r\n                plotlyServerURL: \"https://chart-studio.plotly.com\",\r\n                '#Station':false\r\n        }}\r\n        />\r\n    );\r\n}","var _path, _path2;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgSpotifyIcon(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 496 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#1ed760\",\n    d: \"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpotifyIcon);\nexport default __webpack_public_path__ + \"static/media/Spotify_icon.951b26aaf9259b0b439d3c7daa30dbaf.svg\";\nexport { ForwardRef as ReactComponent };","export const metricList = [\r\n  { key: \"track_danceability\", label: \"Danceability\", radar: true },\r\n  { key: \"track_speechiness\", label: \"Speechiness\", radar: true },\r\n  { key: \"track_acousticness\", label: \"Acousticness\", radar: true },\r\n  { key: \"track_instrumentalness\", label: \"Instrumentalness\", radar: true },\r\n  { key: \"track_liveness\", label: \"Liveness\", radar: true },\r\n  { key: \"track_energy\", label: \"Energy\" },\r\n  { key: \"track_valence\", label: \"Valence\" },\r\n];\r\n\r\nexport const metricRadarList = metricList.filter((d) => d.radar);\r\n","import {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  Chip,\r\n  Collapse,\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Link,\r\n  Paper,\r\n  Stack,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport moment from \"moment/moment\";\r\nimport MapIcon from \"@mui/icons-material/Map\";\r\nimport LocationOnIcon from \"@mui/icons-material/LocationOn\";\r\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\r\nimport FemaleIcon from \"@mui/icons-material/Female\";\r\nimport MaleIcon from \"@mui/icons-material/Male\";\r\nimport TransgenderIcon from \"@mui/icons-material/Transgender\";\r\nimport { useSpring, animated, easings } from \"@react-spring/web\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport { useState, useRef, useEffect, useMemo } from \"react\";\r\nimport { format } from \"d3\";\r\nimport \"./index.css\";\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\nimport PaperCustom from \"../PaperCustom\";\r\n// import {Helmet} from \"react-helmet\";\r\nimport RadarChart from \"../RadarChart\";\r\nimport Map from \"../Map\";\r\nimport Favorite from \"@mui/icons-material/Favorite\";\r\nimport spotifyIcon from \"../../assets/Spotify_icon.svg\";\r\nimport wikiIcon from \"../../assets/wikilogo.png\";\r\nimport musicbrainzIcon from \"../../assets/musicbrainlogo.png\";\r\nimport youtubeIcon from \"../../assets/youtubelogo.png\";\r\nimport geniusIcon from \"../../assets/geniuslogo.png\";\r\nimport { metricRadarList } from \"../../Providers/Database/ulti\";\r\n\r\nconst ExpandMore = styled((props) => {\r\n  const { expand, ...other } = props;\r\n  return <ExpandMoreIcon {...other} />;\r\n})(({ theme, expand }) => ({\r\n  transform: !expand ? \"rotate(0deg)\" : \"rotate(180deg)\",\r\n  marginLeft: \"auto\",\r\n  transition: theme.transitions.create(\"transform\", {\r\n    duration: theme.transitions.duration.shortest,\r\n  }),\r\n}));\r\n\r\nfunction genderIcon(g) {\r\n  switch (g) {\r\n    case \"male\":\r\n      return { avatar: <MaleIcon style={{ marginRight: -12 }} />, label: \"\" };\r\n    case \"female\":\r\n      return { avatar: <FemaleIcon style={{ marginRight: -12 }} />, label: \"\" };\r\n    default:\r\n      return { label: g };\r\n  }\r\n}\r\n\r\nfunction DetailCard({ data, onSelect, meanradar }) {\r\n  const timeStation = moment(data.time_station).format(\"LLL\");\r\n  const duration = moment.utc(data.track_duration * 1000).format(\"HH:mm:ss\");\r\n  const stream_title = data.stream_title ?? \"N/A\";\r\n  const analyticData = useMemo(() => [data], [data]);\r\n  const analyticAxis = useMemo(() => metricRadarList, []);\r\n\r\n  return (\r\n    <Stack spacing={1}>\r\n      <PaperCustom>\r\n        <Typography\r\n          component=\"div\"\r\n          variant=\"h2\"\r\n          onClick={() => onSelect({ station: [data.station] }, data)}\r\n        >\r\n          {data.station}\r\n        </Typography>\r\n        {/*<Typography component=\"div\" variant=\"subtitle1\" color=\"text.secondary\">*/}\r\n        {/*    Form: <Chip label={data.station_form} size={'small'}/>*/}\r\n        {/*</Typography>*/}\r\n        <table style={{ width: \"100%\" }}>\r\n          <colgroup>\r\n            <col style={{ width: 130 }} />\r\n            <col />\r\n          </colgroup>\r\n          <tbody>\r\n            <tr>\r\n              <td>Form</td>\r\n              <td>\r\n                <Stack\r\n                  direction={\"row\"}\r\n                  spacing={1}\r\n                  flexWrap\r\n                  sx={{ width: \"100%\", flexWrap: \"wrap\" }}\r\n                >\r\n                  <Chip label={data.station_form} size={\"small\"} />\r\n                  {data.station_frequency && (\r\n                    <>\r\n                      {data.station_frequency.map((d) => (\r\n                        <Chip label={d} key={d} size={\"small\"} />\r\n                      ))}\r\n                    </>\r\n                  )}{\" \"}\r\n                </Stack>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Station URL</td>\r\n              <td>\r\n                <Link\r\n                  href={data.station_url}\r\n                  target={\"_blank\"}\r\n                  color={\"secondary\"}\r\n                >\r\n                  {data.station_url}\r\n                </Link>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Location</td>\r\n              <td>\r\n                <Link\r\n                  target={\"_blank\"}\r\n                  color={\"secondary\"}\r\n                  href={`https://maps.google.com/?q=${data.lat},${data.long}`}\r\n                >\r\n                  <MapIcon />\r\n                  {data.city}, {data.country}\r\n                </Link>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Radio Garden URL</td>\r\n              <td>\r\n                <Link href={data.url} target={\"_blank\"} color={\"secondary\"}>\r\n                  {data.url}\r\n                </Link>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Formats</td>\r\n              <td>\r\n                {data.station_format && (\r\n                  <Stack\r\n                    direction={\"row\"}\r\n                    spacing={1}\r\n                    flexWrap\r\n                    sx={{ width: \"100%\", flexWrap: \"wrap\" }}\r\n                  >\r\n                    {data.station_format.split(\",\").map((d) => (\r\n                      <Chip label={d} key={d} size={\"small\"} />\r\n                    ))}\r\n                  </Stack>\r\n                )}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Genres</td>\r\n              <td>\r\n                {data.station_genre && (\r\n                  <Stack\r\n                    direction={\"row\"}\r\n                    spacing={1}\r\n                    flexWrap\r\n                    sx={{ width: \"100%\", flexWrap: \"wrap\" }}\r\n                  >\r\n                    {data.station_genre.map((d) => (\r\n                      <Chip label={d} key={d} size={\"small\"} />\r\n                    ))}\r\n                  </Stack>\r\n                )}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Description</td>\r\n              <td>{data.station_description}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </PaperCustom>\r\n\r\n      <PaperCustom>\r\n        <table style={{ width: \"100%\" }}>\r\n          <colgroup>\r\n            <col style={{ width: 130 }} />\r\n            <col />\r\n          </colgroup>\r\n          <tbody>\r\n            <tr>\r\n              <td>Stream name</td>\r\n              <td>{stream_title}</td>\r\n            </tr>\r\n          </tbody>\r\n          {/*<tr><td>Stream URL</td><td><Link href={data.stream_url} target={'_blank'} color={'secondary'}>{data.stream_url}</Link></td></tr>*/}\r\n        </table>\r\n      </PaperCustom>\r\n      {data.artist_info && (\r\n        <PaperCustom>\r\n          <Grid container spacing={1}>\r\n            <Grid item xs={12}>\r\n              <Box sx={{ flex: \"1 0 auto\", display: \"flex\" }}>\r\n                <Avatar\r\n                  aria-label=\"recipe\"\r\n                  src={data.artist_info.artist_image_url}\r\n                  sx={{ mr: 1 }}\r\n                >\r\n                  {data.artist_info.artist_name[0]}\r\n                </Avatar>\r\n                <div>\r\n                  <Typography variant=\"h4\" color={\"text.primary\"}>\r\n                    {data.artist_info.artist_name}\r\n                  </Typography>\r\n                  <Typography variant=\"subtitle2\">\r\n                    {data.artist_info.artist_type}\r\n                  </Typography>\r\n                </div>\r\n              </Box>\r\n              <Typography\r\n                component=\"div\"\r\n                variant=\"subtitle1\"\r\n                color=\"text.secondary\"\r\n              >\r\n                {data.artist_info.artist_description}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <table style={{ width: \"100%\" }}>\r\n                <colgroup>\r\n                  <col style={{ width: 130 }} />\r\n                  <col />\r\n                </colgroup>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>Popularity</td>\r\n                    <td>\r\n                      <Chip\r\n                        icon={<Favorite />}\r\n                        sx={{ marginRight: 1 }}\r\n                        label={data.artist_info.artist_popularity}\r\n                        size={\"small\"}\r\n                      />\r\n                      ({format(\",\")(data.artist_info.artist_followers)}{\" \"}\r\n                      followers)\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>From</td>\r\n                    <td>{data.artist_info.artist_country ?? \"N/A\"}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Genres</td>\r\n                    <td>\r\n                      {data.artist_info.artist_genres &&\r\n                        data.artist_info.artist_genres.map((t) => (\r\n                          <Chip key={t} label={t} size={\"small\"} />\r\n                        ))}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Instruments</td>\r\n                    <td>\r\n                      {data.artist_info.artist_instruments.map((t) => (\r\n                        <Chip key={t} label={t} size={\"small\"} />\r\n                      ))}\r\n                    </td>\r\n                  </tr>\r\n                  {data.artist_info.artist_members &&\r\n                  data.artist_info.artist_members.length ? (\r\n                    <tr>\r\n                      <td>Members</td>\r\n                      <td>\r\n                        {data.artist_info.artist_members.map(\r\n                          ({\r\n                            _id,\r\n                            artist_name,\r\n                            artist_image_url,\r\n                            artist_genders,\r\n                            artist_sexualorientations,\r\n                            artist_ethnicities,\r\n                            artist_voicetypes,\r\n                          }) => (\r\n                            <Chip\r\n                              avatar={\r\n                                <Avatar\r\n                                  alt={artist_name}\r\n                                  src={artist_image_url}\r\n                                />\r\n                              }\r\n                              key={_id}\r\n                              label={\r\n                                <>\r\n                                  <strong>{artist_name}</strong>\r\n                                  {artist_genders && (\r\n                                    <Chip\r\n                                      title={`Gender: ${artist_genders}`}\r\n                                      color={\"error\"}\r\n                                      size={\"small\"}\r\n                                      {...genderIcon(artist_genders)}\r\n                                    />\r\n                                  )}\r\n                                  {artist_sexualorientations && (\r\n                                    <Chip\r\n                                      title={`Sexual Orientations: ${artist_sexualorientations}`}\r\n                                      size={\"small\"}\r\n                                      {...genderIcon(artist_sexualorientations)}\r\n                                    />\r\n                                  )}\r\n                                  {artist_ethnicities && (\r\n                                    <Chip\r\n                                      title={`Ethnicities: ${artist_ethnicities}`}\r\n                                      size={\"small\"}\r\n                                      {...genderIcon(artist_ethnicities)}\r\n                                    />\r\n                                  )}\r\n                                  {artist_voicetypes &&\r\n                                  artist_voicetypes.length ? (\r\n                                    <Chip\r\n                                      title={\"Voice types\"}\r\n                                      label={artist_voicetypes.join(\", \")}\r\n                                      size={\"small\"}\r\n                                    />\r\n                                  ) : (\r\n                                    \"\"\r\n                                  )}\r\n                                </>\r\n                              }\r\n                              variant={\"outlined\"}\r\n                            />\r\n                          )\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  <tr>\r\n                    <td>Website URL</td>\r\n                    <td>\r\n                      <Link\r\n                        href={data.artist_info.artist_website}\r\n                        target={\"_blank\"}\r\n                        color={\"secondary\"}\r\n                      >\r\n                        {data.artist_info.artist_website}\r\n                      </Link>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Identifiers</td>\r\n                    <td>\r\n                      <IconButton\r\n                        href={`https://open.spotify.com/artist/${data.artist_info.artist_id}`}\r\n                        target={\"_blank\"}\r\n                      >\r\n                        <img src={spotifyIcon} width={30} loading=\"lazy\" />\r\n                      </IconButton>\r\n                      {data.artist_info.artist_qid && (\r\n                        <IconButton\r\n                          href={`https://wikidata.org/wiki/${data.artist_info.artist_qid}`}\r\n                          target={\"_blank\"}\r\n                        >\r\n                          <img src={wikiIcon} width={30} loading=\"lazy\" />\r\n                        </IconButton>\r\n                      )}\r\n                      {data.artist_info.artist_YouTubeID && (\r\n                        <IconButton\r\n                          href={`https://www.youtube.com/channel/${data.artist_info.artist_YouTubeID}`}\r\n                          target={\"_blank\"}\r\n                        >\r\n                          <img src={youtubeIcon} width={30} loading=\"lazy\" />\r\n                        </IconButton>\r\n                      )}\r\n                      {data.artist_info.artist_MusicBrainzID && (\r\n                        <IconButton\r\n                          href={`https://musicbrainz.org/artist/${data.artist_info.artist_MusicBrainzID}`}\r\n                          target={\"_blank\"}\r\n                        >\r\n                          <img\r\n                            src={musicbrainzIcon}\r\n                            width={30}\r\n                            loading=\"lazy\"\r\n                          />\r\n                        </IconButton>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n                {/*<tr><td>Stream URL</td><td><Link href={data.stream_url} target={'_blank'} color={'secondary'}>{data.stream_url}</Link></td></tr>*/}\r\n              </table>\r\n            </Grid>\r\n          </Grid>\r\n        </PaperCustom>\r\n      )}\r\n      <PaperCustom elevation={3}>\r\n        <Grid container spacing={1}>\r\n          <Grid item xs={12}>\r\n            <Typography color=\"text.secondary\" gutterBottom>\r\n              {\" \"}\r\n              {timeStation}\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Typography\r\n              variant=\"h4\"\r\n              component=\"div\"\r\n              onClick={\r\n                data.track_name\r\n                  ? () => onSelect({ track_name: [data.track_name] })\r\n                  : null\r\n              }\r\n            >\r\n              {data.track_name}\r\n            </Typography>\r\n            <Typography\r\n              component=\"div\"\r\n              variant=\"subtitle1\"\r\n              color=\"text.secondary\"\r\n            >\r\n              {data.track_description}\r\n            </Typography>\r\n            <table style={{ width: \"100%\" }}>\r\n              <colgroup>\r\n                <col style={{ width: 130 }} />\r\n                <col />\r\n              </colgroup>\r\n              <tbody>\r\n                {data.track_form && (\r\n                  <tr>\r\n                    <td>Form</td>\r\n                    <td>{data.track_form}</td>\r\n                  </tr>\r\n                )}\r\n                {data.track_composers && data.track_composers.length ? (\r\n                  <tr>\r\n                    <td>Composers</td>\r\n                    <td>\r\n                      {data.track_composers.map((t) => (\r\n                        <Chip key={t} label={t} size={\"small\"} />\r\n                      ))}\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {data.track_lyricists && data.track_lyricists.length ? (\r\n                  <tr>\r\n                    <td>Lyricists</td>\r\n                    <td>\r\n                      {data.track_lyricists.map((t) => (\r\n                        <Chip key={t} label={t} size={\"small\"} />\r\n                      ))}\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {data.track_language && (\r\n                  <tr>\r\n                    <td>Language</td>\r\n                    <td>{data.track_language}</td>\r\n                  </tr>\r\n                )}\r\n                {data.track_year_released && (\r\n                  <tr>\r\n                    <td>Year released</td>\r\n                    <td>{data.track_year_released}</td>\r\n                  </tr>\r\n                )}\r\n                {data.track_duration && (\r\n                  <tr>\r\n                    <td>Duration</td>\r\n                    <td>{duration}</td>\r\n                  </tr>\r\n                )}\r\n                {data.track_popularity && (\r\n                  <tr>\r\n                    <td>Popularity</td>\r\n                    <td>\r\n                      <Chip\r\n                        icon={<Favorite />}\r\n                        label={data.track_popularity}\r\n                        size={\"small\"}\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n                <tr>\r\n                  <td>Key </td>\r\n                  <td>\r\n                    {data.track_key}, {data.track_mode}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Beats per Measure</td>\r\n                  <td>{data.track_beatsperbar}</td>\r\n                </tr>\r\n                {data.track_genre && (\r\n                  <tr>\r\n                    <td>Genre</td>\r\n                    <td>{data.track_genre}</td>\r\n                  </tr>\r\n                )}\r\n                {data.track_loudness && (\r\n                  <tr>\r\n                    <td>Loudness</td>\r\n                    <td>{data.track_loudness} dB</td>\r\n                  </tr>\r\n                )}\r\n                <tr>\r\n                  <td>Platform</td>\r\n                  <td>\r\n                    {data.track_id && (\r\n                      <IconButton\r\n                        href={`https://open.spotify.com/track/${data.track_id}`}\r\n                        target={\"_blank\"}\r\n                      >\r\n                        <img src={spotifyIcon} width={30} loading=\"lazy\" />\r\n                      </IconButton>\r\n                    )}\r\n                    {data.track_qid && (\r\n                      <IconButton\r\n                        href={`https://wikidata.org/wiki/${data.track_qid}`}\r\n                        target={\"_blank\"}\r\n                      >\r\n                        <img src={wikiIcon} width={30} loading=\"lazy\" />\r\n                      </IconButton>\r\n                    )}\r\n                    {data.track_geniusID && (\r\n                      <IconButton\r\n                        href={`https://genius.com/${data.track_geniusID}`}\r\n                        target={\"_blank\"}\r\n                      >\r\n                        <img src={geniusIcon} width={30} loading=\"lazy\" />\r\n                      </IconButton>\r\n                    )}\r\n                    {data.track_YouTubeID && (\r\n                      <IconButton\r\n                        href={`https://www.youtube.com/watch?v=${data.track_YouTubeID}`}\r\n                        target={\"_blank\"}\r\n                      >\r\n                        <img src={youtubeIcon} width={30} loading=\"lazy\" />\r\n                      </IconButton>\r\n                    )}\r\n                    {data.track_MusicBrainzID && (\r\n                      <IconButton\r\n                        href={`https://musicbrainz.org/work/${data.track_MusicBrainzID}`}\r\n                        target={\"_blank\"}\r\n                      >\r\n                        <img src={musicbrainzIcon} width={30} loading=\"lazy\" />\r\n                      </IconButton>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            {data.track_instrumentation && data.track_instrumentation.length ? (\r\n              <Stack\r\n                direction={\"row\"}\r\n                spacing={1}\r\n                flexWrap\r\n                sx={{ width: \"100%\", flexWrap: \"wrap\" }}\r\n              >\r\n                <Typography>Instruments: </Typography>\r\n                {data.track_instrumentation.map((t) => (\r\n                  <Chip key={t} label={t} size={\"small\"} />\r\n                ))}\r\n              </Stack>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Grid container>\r\n              <Divider sx={{ mt: 2, mb: 2, flexGrow: 1 }} />\r\n              <Typography\r\n                variant={\"h5\"}\r\n                component={\"div\"}\r\n                sx={{ margin: \"auto\" }}\r\n              >\r\n                Metrics\r\n              </Typography>\r\n              <Divider sx={{ mt: 2, mb: 2, flexGrow: 1 }} />\r\n            </Grid>\r\n            <AutoSizer style={{ height: 300, width: \"100%\" }}>\r\n              {({ height, width }) => {\r\n                return (\r\n                  <RadarChart\r\n                    inputData={analyticData}\r\n                    meanradar={meanradar}\r\n                    axisInfo={analyticAxis}\r\n                    height={height - 40}\r\n                    width={width}\r\n                  />\r\n                );\r\n              }}\r\n            </AutoSizer>\r\n          </Grid>\r\n          {/*<Grid item xs={6}>*/}\r\n          {/*    <Grid container>*/}\r\n          {/*        <Divider sx={{mt: 2, mb: 2, flexGrow: 1}}/>*/}\r\n          {/*        <Typography variant={\"h5\"} component={'div'} sx={{margin: 'auto'}}>*/}\r\n          {/*            Lyrics {data.track_language ? `(${data.track_language})` : \"\"}*/}\r\n          {/*        </Typography>*/}\r\n          {/*        <Divider sx={{mt: 2, mb: 2, flexGrow: 1}}/>*/}\r\n          {/*    </Grid>*/}\r\n          {/*</Grid>*/}\r\n        </Grid>\r\n      </PaperCustom>\r\n    </Stack>\r\n  );\r\n}\r\nexport default DetailCard;\r\n\r\nfunction CollapsibleComp({ header, banner, defaultValue, ...props }) {\r\n  const [open, setopen] = useState(defaultValue);\r\n  const runningText = useSpring({\r\n    reset: open,\r\n    cancel: open,\r\n    config: { duration: 20000 },\r\n    loop: !open,\r\n    from: { transform: \"translateX(100%)\" },\r\n    to: { transform: \"translateX(-100%)\" },\r\n  });\r\n  return (\r\n    <Card elevation={10} sx={{ mt: 1 }}>\r\n      <CardActions disableSpacing>\r\n        <Typography variant={\"h5\"}>{header}</Typography>\r\n        {banner && !open && (\r\n          <div\r\n            style={{\r\n              width: \"100%\",\r\n              overflow: \"hidden\",\r\n              marginLeft: 10,\r\n              marginRight: 10,\r\n              whiteSpace: \"nowrap\",\r\n            }}\r\n          >\r\n            <Typography variant={\"subtitle2\"}>\r\n              <animated.div style={runningText} className={\"textbanner\"}>\r\n                {banner}\r\n              </animated.div>\r\n              {/*<div className={'textbanner'}>{banner} | {banner}</div>*/}\r\n            </Typography>\r\n          </div>\r\n        )}\r\n        <ExpandMore expand={open} onClick={() => setopen(!open)} />\r\n      </CardActions>\r\n      <Collapse in={open} unmountOnExit={true} {...props} />\r\n    </Card>\r\n  );\r\n}\r\n","import { Card, CardContent, Unstable_Grid2 as Grid } from \"@mui/material\";\r\nimport { semicolor } from \"../../containers/LayoutContainer/theme\";\r\nimport DetailCard from \"../DetailCard\";\r\n\r\nexport default function ({ currentDetail, onSelect, meanradar, sx = {} }) {\r\n  return (\r\n    <>\r\n      {/*<Card sx={{...sx,width:'100%', backgroundColor: (theme) => semicolor(theme.palette.background.paper)}}>*/}\r\n      {/*    <CardContent sx={{height: '100%', position: 'relative'}}>*/}\r\n\r\n      <Grid\r\n        container\r\n        style={{ height: \"100%\", width: \"100%\", padding: 10, overflow: \"auto\" }}\r\n        m={0}\r\n        flexDirection={\"column\"}\r\n        flexWrap={\"nowrap\"}\r\n        sx={{\r\n          bgcolor: (theme) => theme.palette.background.paper,\r\n          color: (theme) => theme.palette.primary.contrastText,\r\n        }}\r\n      >\r\n        {currentDetail ? (\r\n          <DetailCard\r\n            data={currentDetail}\r\n            onSelect={onSelect}\r\n            meanradar={meanradar}\r\n          />\r\n        ) : (\r\n          <>Select from Event List</>\r\n        )}\r\n      </Grid>\r\n      {/*</CardContent>*/}\r\n      {/*</Card>*/}\r\n    </>\r\n  );\r\n}\r\n","import Map from \"../Map\";\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\nimport {useState, useEffect} from \"react\";\r\nimport {groups} from \"d3\";\r\n\r\nexport default function ({currentDetail,locs, events}) {\r\n    const [eventlocs, setEventlocs] = useState([]);\r\n    useEffect(()=>{\r\n        try{\r\n            const _locsMap = {};\r\n            locs.forEach(d=>_locsMap[d['city_id']]=d);\r\n            const _locs = groups(events,d=>d['city_id']).map(([c,cou])=>({\r\n                title:_locsMap[c]?.title,\r\n                city_id:c,\r\n                count: cou.length,\r\n                lat: _locsMap[c]?.lat,\r\n                long: _locsMap[c]?.long,\r\n            }))\r\n            setEventlocs(_locs)\r\n        }catch(e){\r\n\r\n        }\r\n    },[locs,events])\r\n    return <AutoSizer style={{ height: '100%', width: '100%' }} >\r\n        {({ height, width }) => {\r\n            return <Map height={height} width={width}\r\n                        locs={eventlocs} highlight={currentDetail}/>\r\n        }}\r\n    </AutoSizer>\r\n}","import {Box, Button, Typography} from \"@mui/material\";\r\nimport { styled, alpha } from '@mui/material/styles';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport InputBase from \"@mui/material/InputBase\";\r\nimport Dialog from \"../Dialog\";\r\nimport {useState} from \"react\";\r\nimport FilterPanel from \"../FilterPanel\";\r\n\r\n\r\nexport default function () {\r\n    const [isOpen,setIsOpen] = useState();\r\n    return <><Button\r\n        size={\"small\"}\r\n        sx={theme=>({ position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n            borderColor: alpha(theme.palette.common.white, 0.5),\r\n            borderStyle:'solid',\r\n        backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n            textTransform:'none',\r\n        '&:hover': {\r\n            backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n        },\r\n        width: '100%',\r\n            paddingLeft:theme.spacing(1),\r\n            paddingRight:theme.spacing(1),\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            minWidth: 250,\r\n            width: 'auto',\r\n        }})}\r\n        startIcon={<SearchIcon/>}\r\n        variant={\"contained\"}\r\n        onClick={()=>setIsOpen(true)}\r\n    >\r\n        <Typography variant={\"subtitle1\"} >Search...</Typography>\r\n        {/*<SearchIconWrapper>*/}\r\n        {/*    <SearchIcon />*/}\r\n        {/*</SearchIconWrapper>*/}\r\n        {/*<StyledInputBase*/}\r\n        {/*    placeholder=\"Search…\"*/}\r\n        {/*    inputProps={{ 'aria-label': 'search' }}*/}\r\n        {/*/>*/}\r\n    </Button>\r\n        <Dialog isOpen={isOpen} id={\"searchFilter\"}\r\n                title={\"Search\"}\r\n                message={<FilterPanel/>}\r\n                handleClose={()=>setIsOpen(false)}\r\n                fullWidth={true}\r\n                maxWidth={\"sm\"}\r\n                scroll={\"paper\"}\r\n        >\r\n\r\n        </Dialog>\r\n        </>\r\n}","import {\r\n    Avatar,\r\n    Box,\r\n    Button,\r\n    Card,\r\n    CardActions,\r\n    CardContent, Chip,\r\n    Collapse,\r\n    Divider, Grid,\r\n    IconButton,\r\n    Link, Stack,\r\n    Typography\r\n} from \"@mui/material\";\r\nimport moment from \"moment/moment\";\r\nimport MapIcon from '@mui/icons-material/Map';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport {useSpring, animated, easings} from '@react-spring/web'\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {useState, useRef, useEffect} from \"react\";\r\nimport \"./index.css\"\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\nimport PaperCustom from \"../PaperCustom\";\r\n\r\nconst ExpandMore = styled((props) => {\r\n    const {expand, ...other} = props;\r\n    return <ExpandMoreIcon {...other} />;\r\n})(({theme, expand}) => ({\r\n    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n    }),\r\n}));\r\n\r\nfunction DetailCard({data, onSelect}) {\r\n    return <Stack spacing={1}>\r\n        <PaperCustom>\r\n            <Grid container spacing={1}>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"h4\" component=\"div\"\r\n                        onClick={data.track_name ? () => onSelect({track_name: [data.track_name]}) : null}>\r\n                {data.track_name}\r\n            </Typography>\r\n            {data.year_released && <Typography color=\"text.secondary\" gutterBottom> {data.year_released}</Typography>}\r\n            {data.track_name_genre && <Chip label={data.track_name_genre} size={'small'}/>}\r\n        </Grid>\r\n                {data.artist_info && <Grid item>\r\n                    <Box sx={{flex: '1 0 auto', display: 'flex'}}>\r\n                        <Avatar aria-label=\"recipe\"\r\n                                src={data.artist_info.artist_image_url}\r\n                                sx={{mr: 1}}>{data.artist_info.artist_name[0]}</Avatar>\r\n                        <div>\r\n                            <Typography variant=\"h5\" color={'text.primary'}>{data.artist_info.artist_name}</Typography>\r\n                            <Typography variant=\"subtitle2\">from {data.artist_info.artist_country ?? \"N/A\"}</Typography>\r\n                        </div>\r\n                    </Box>\r\n                    {data.artist_info.artist_genres && (data.artist_info.artist_genres.map(t => <Chip key={t} label={t}\r\n                                                                                          size={'small'}/>))}\r\n                </Grid>}\r\n            </Grid>\r\n        </PaperCustom>\r\n        <PaperCustom>\r\n            <Grid item xs={12}>\r\n                <Grid container>\r\n                    <Divider sx={{mt: 2, mb: 2, flexGrow: 1}}/>\r\n                    <Typography variant={\"h5\"} component={'div'} sx={{margin: 'auto'}}>Music Platform</Typography>\r\n                    <Divider sx={{mt: 2, mb: 2, flexGrow: 1}}/>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <iframe loading=\"lazy\"\r\n                            src={`https://open.spotify.com/embed/track/${data.track_id}`}\r\n                            width={'100%'} height=\"80\" frameBorder=\"0\"\r\n                            data-mce-fragment=\"1\"></iframe>\r\n                </Grid>\r\n        {(data.spotify_uri || data.track_YouTubeID) && <>\r\n            {data.spotify_uri && <Grid item xs={12}>\r\n                <iframe loading=\"lazy\"\r\n                        src={data.spotify_uri.replace('com/track', 'com/embed/track')}\r\n                        width={'100%'} height=\"80\" frameBorder=\"0\"\r\n                        data-mce-fragment=\"1\"></iframe>\r\n            </Grid>}\r\n            {data.track_YouTubeID && <Grid item xs={12}>\r\n                <iframe width={'100%'} height={'auto'}\r\n                        loading=\"lazy\"\r\n                        src={`https://www.youtube-nocookie.com/embed/${data.track_YouTubeID}`}\r\n                        title=\"YouTube video player\" frameBorder=\"0\"\r\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\r\n                        allowFullScreen\r\n                />\r\n            </Grid>}\r\n        </>}\r\n            </Grid>\r\n        </PaperCustom>\r\n    </Stack>\r\n\r\n\r\n}\r\n\r\nexport default DetailCard","import {\r\n    Unstable_Grid2 as Grid\r\n} from \"@mui/material\";\r\nimport ListenCard from \"../ListenCard\";\r\n\r\nexport default function ({currentDetail,onSelect,sx={}}) {\r\n\r\n    return (<>\r\n            <Grid container style={{height:'100%', width:'100%',padding:10,overflow:'auto'}}\r\n                  m={0} flexDirection={\"column\"} flexWrap={'nowrap'}\r\n                  sx={{bgcolor:theme=>theme.palette.background.paper, color: theme=> theme.palette.primary.contrastText}}>\r\n                {currentDetail ?\r\n                    <ListenCard data={currentDetail} onSelect={onSelect}/> : <>Select from Event\r\n                        List</>}\r\n            </Grid>\r\n        </>\r\n    )\r\n}","import {IconButton, Menu, MenuItem} from \"@mui/material\";\r\nimport {Language as LanguageIcon} from \"@mui/icons-material\";\r\nimport allLocales from \"../../config/locales\";\r\nimport {useState} from \"react\";\r\nimport {useLocale} from \"base-shell/lib/providers/Locale\";\r\n\r\nexport default function ({intl}) {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const { setLocale, locale = 'en' } = useLocale();\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return <><IconButton\r\n        title={intl.formatMessage({ id: 'language' })}\r\n        onClick={handleClick}\r\n    >\r\n        <LanguageIcon/> <span style={{fontSize:'small',paddingLeft:5,textTransform:\"uppercase\"}}>{locale}</span>\r\n    </IconButton>\r\n    <Menu\r\n        id=\"language-menu\"\r\n        aria-labelledby=\"demo-positioned-button\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n    >\r\n        {\r\n            allLocales.map(l=><MenuItem\r\n                key={l.locale}\r\n                selected={l.locale === locale}\r\n                onClick={()=>setLocale(l.locale)}\r\n            >\r\n                <LanguageIcon style={{paddingRight:5}}/> {intl.formatMessage({ id: l.locale })}\r\n            </MenuItem>)\r\n        }\r\n    </Menu>\r\n        </>\r\n}","import {FormatSize} from \"@mui/icons-material\";\r\nimport {Box, IconButton, Menu} from \"@mui/material\";\r\nimport {useState} from \"react\";\r\nimport {useLocale} from \"base-shell/lib/providers/Locale\";\r\nimport FontsizeControl from \"../FontsizeControl\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {DECREASE_FONT_SIZE, INCREASE_FONT_SIZE} from \"../../reducer/actions/setting\";\r\n\r\n\r\nexport default function ({intl}) {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const { setLocale, locale = 'en' } = useLocale();\r\n    const open = Boolean(anchorEl);\r\n    const dispatch = useDispatch();\r\n    const changeFontSize = (isIncrease)=>{\r\n        if (isIncrease)\r\n            dispatch({ type: INCREASE_FONT_SIZE});\r\n        else\r\n            dispatch({ type: DECREASE_FONT_SIZE})\r\n    }\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    return <>\r\n        <IconButton title={intl.formatMessage({id: 'Font size'})}\r\n                    onClick={handleClick}>\r\n            <FormatSize/>\r\n        </IconButton>\r\n        <Menu\r\n            id=\"font-size-menu\"\r\n            aria-labelledby=\"demo-positioned-button\"\r\n            anchorEl={anchorEl}\r\n            open={open}\r\n            onClose={handleClose}\r\n            anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'left',\r\n            }}\r\n            transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'left',\r\n            }}\r\n        >\r\n            <Box sx={{paddingLeft:2,paddingRight:2}}>\r\n                <FontsizeControl title={intl.formatMessage({id: 'Font size'})} onChange={changeFontSize}/>\r\n            </Box>\r\n        </Menu>\r\n    </>\r\n}","import {Checkbox, IconButton, ListItemIcon, Menu, MenuItem} from \"@mui/material\";\r\nimport {Check, SpaceDashboard as SpaceDashboardIcon} from \"@mui/icons-material\";\r\nimport {useState} from \"react\";\r\nimport {useLocale} from \"base-shell/lib/providers/Locale\";\r\n\r\nexport default function ({intl,layoutItems,onChange}) {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return <><IconButton\r\n        title={intl.formatMessage({ id: 'Layout' })}\r\n        onClick={handleClick}\r\n    >\r\n        <SpaceDashboardIcon/>\r\n    </IconButton>\r\n    <Menu\r\n        id=\"layout-menu\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n    >\r\n        {\r\n            Object.keys(layoutItems).map(k=><MenuItem\r\n                key={k}\r\n                onClick={()=>onChange(k,layoutItems[k],!layoutItems[k].val)}\r\n            >\r\n                <ListItemIcon>\r\n                    <Checkbox checked={layoutItems[k].val} />\r\n                </ListItemIcon>{intl.formatMessage({ id: layoutItems[k].key })}\r\n            </MenuItem>)\r\n        }\r\n    </Menu>\r\n        </>\r\n}","import {Box, IconButton, Menu, MenuItem, Typography} from \"@mui/material\";\r\nimport {\r\n    Brightness4 as Brightness4Icon,\r\n    BrightnessHigh as BrightnessHighIcon,\r\n    FormatSize,\r\n    Help as HelpIcon, Language, Menu as MenuIcon\r\n} from \"@mui/icons-material\";\r\nimport SpaceDashboardIcon from \"@mui/icons-material/SpaceDashboard\";\r\nimport {useTheme as useAppTheme} from \"material-ui-shell/lib/providers/Theme\";\r\nimport {SET_MENU} from \"../../reducer/actions/setting\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useIntl} from \"react-intl\";\r\nimport LanguageMenu from \"./LanguageMenu\";\r\nimport FontSizeMenu from \"./FontSizeMenu\";\r\nimport LayoutMenu from \"./LayoutMenu\";\r\nimport {useState} from \"react\";\r\n\r\nexport default function ({layoutItems,layoutItemsOnChange=()=>{}}){\r\n    const intl = useIntl();\r\n    const dispatch = useDispatch();\r\n    const { toggleThisTheme, isDarkMode } = useAppTheme()\r\n    const [anchorElNav, setAnchorElNav] = useState(null);\r\n    const [anchorElUser, setAnchorElUser] = useState(null);\r\n\r\n    const handleOpenNavMenu = (event) => {\r\n        setAnchorElNav(event.currentTarget);\r\n    };\r\n    const handleOpenUserMenu = (event) => {\r\n        setAnchorElUser(event.currentTarget);\r\n    };\r\n\r\n    const handleCloseNavMenu = () => {\r\n        setAnchorElNav(null);\r\n    };\r\n\r\n    const handleCloseUserMenu = () => {\r\n        setAnchorElUser(null);\r\n    };\r\n\r\n    return <>\r\n        <img src={require('../../assets/logo.png')} loading=\"lazy\" style={{height:'auto',width:150}}></img>\r\n        <span style={{marginRight:5}}>v{process.env.REACT_APP_DATA_APP_VERSION}</span>\r\n        <IconButton title={\"About us\"} size={\"small\"} sx={{transform:\"translate(-10px,10px)\"}}\r\n        onClick={()=>dispatch({ type: SET_MENU, opened: true })}>\r\n            <HelpIcon fontSize=\"inherit\"/>\r\n        </IconButton>\r\n        <Box sx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' } }}>\r\n            <IconButton\r\n                size=\"large\"\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleOpenNavMenu}\r\n                color=\"inherit\"\r\n            >\r\n                <MenuIcon />\r\n            </IconButton>\r\n            <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorElNav}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n                open={Boolean(anchorElNav)}\r\n                onClose={handleCloseNavMenu}\r\n                sx={{\r\n                    display: { xs: 'block', md: 'none' },\r\n                }}\r\n            >\r\n\r\n                <MenuItem onClick={handleCloseNavMenu}>\r\n                    <Typography textAlign=\"center\">\r\n                        <IconButton\r\n                            title={\"Toggle theme\"}\r\n                            onClick={() => {\r\n                                toggleThisTheme('isDarkMode')\r\n                            }}\r\n                        >\r\n                            {isDarkMode ? (\r\n                                <BrightnessHighIcon/>\r\n                            ) : (\r\n                                <Brightness4Icon/>\r\n                            )}\r\n                        </IconButton>\r\n                        {isDarkMode ? (\r\n                            <>Light Mode</>\r\n                        ) : (\r\n                            <>Dark Mode</>\r\n                        )}\r\n                    </Typography>\r\n                </MenuItem>\r\n                <MenuItem onClick={handleCloseNavMenu}>\r\n                    <Typography textAlign=\"center\">\r\n                        <LayoutMenu intl={intl} layoutItems={layoutItems} onChange={layoutItemsOnChange}/>\r\n                        Layout\r\n                    </Typography>\r\n                </MenuItem>\r\n                <MenuItem onClick={handleCloseNavMenu}>\r\n                    <Typography textAlign=\"center\">\r\n                        <FontSizeMenu intl={intl}/>\r\n                        Font size\r\n                    </Typography>\r\n                </MenuItem><MenuItem onClick={handleCloseNavMenu}>\r\n                    <Typography textAlign=\"center\">\r\n                        <LanguageMenu intl={intl}/>\r\n                    </Typography>\r\n                </MenuItem>\r\n            </Menu>\r\n        </Box>\r\n        <Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}>\r\n            <IconButton\r\n                title={\"Toggle theme\"}\r\n                onClick={() => {\r\n                    toggleThisTheme('isDarkMode')\r\n                }}\r\n            >\r\n                {isDarkMode ? (\r\n                    <BrightnessHighIcon/>\r\n                ) : (\r\n                    <Brightness4Icon/>\r\n                )}\r\n            </IconButton>\r\n            {/*layoutItems*/}\r\n            <LayoutMenu intl={intl} layoutItems={layoutItems} onChange={layoutItemsOnChange}/>\r\n            <FontSizeMenu intl={intl}/>\r\n            <LanguageMenu intl={intl}/>\r\n        </Box>\r\n    </>\r\n}","import LegendPanel from \"../LegendPanel\";\r\nimport React from \"react\";\r\nimport {Grid} from \"@mui/material\";\r\n\r\nexport default function ({countries}) {\r\n    return <Grid sx={{position:'relative',height:'100%'}}>\r\n        <LegendPanel countries={countries} fullHeight={true}/>\r\n    </Grid>\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport Plot from \"react-plotly.js\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\n\r\nexport default function ({ data, name }) {\r\n  const theme = useTheme();\r\n  const [_data, set_Data] = useState([]);\r\n  useEffect(() => {\r\n    set_Data([\r\n      {\r\n        x: data,\r\n        type: \"histogram\",\r\n        marker: {\r\n          color: \"rgba(100,250,100,0.7)\",\r\n          line: {\r\n            color: \"rgba(100,250,100,1)\",\r\n            width: 1,\r\n          },\r\n        },\r\n      },\r\n    ]);\r\n  }, [data]);\r\n  return (\r\n    <Plot\r\n      data={_data}\r\n      layout={{\r\n        xaxis: { title: name },\r\n        yaxis: { showline: false, showticklabels: false, zeroline: false },\r\n        font: {\r\n          family: theme.typography.fontFamily,\r\n          size: theme.typography.fontSize,\r\n          color: theme.palette.text.primary,\r\n        },\r\n        margin: { t: 10, r: 10, l: 10, b: 30 },\r\n        paper_bgcolor: theme.palette.background.paper,\r\n        plot_bgcolor: \"rgba(0,0,0,0)\", //theme.palette.background.paper,\r\n      }}\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n      config={{\r\n        displaylogo: false,\r\n        toImageButtonOptions: {\r\n          format: \"svg\", //one of png, svg, jpeg, webp 'svg'\r\n          filename: \"Histogram\",\r\n          scale: 1, // # Multiply title/legend/axis/canvas sizes by this factor\r\n        },\r\n        showEditInChartStudio: true,\r\n        plotlyServerURL: \"https://chart-studio.plotly.com\",\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Plot from \"react-plotly.js\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\n\r\nexport default function ({\r\n  data,\r\n  xname,\r\n  yname,\r\n  height,\r\n  width,\r\n  onSelected,\r\n  onSelect,\r\n  onHover,\r\n  hovered,\r\n}) {\r\n  const theme = useTheme();\r\n  const [_data, set_Data] = useState([]);\r\n  useEffect(() => {\r\n    const trace = [\r\n      {\r\n        x: data.x,\r\n        y: data.y,\r\n        type: \"scatter\",\r\n        mode: \"markers\",\r\n      },\r\n    ];\r\n    if (hovered)\r\n      trace.push({\r\n        x: hovered.x,\r\n        y: hovered.y,\r\n        type: \"scatter\",\r\n        mode: \"markers\",\r\n        marker: { color: \"red\" },\r\n        hoverinfo: \"skip\",\r\n      });\r\n    set_Data(trace);\r\n  }, [data, hovered]);\r\n  const handleSelected = (event) => {\r\n    const points = event.points;\r\n    const selected = {};\r\n    points.forEach((point) => (selected[point.data._id] = true));\r\n\r\n    onSelected(selected);\r\n  };\r\n  return (\r\n    <Plot\r\n      data={_data}\r\n      layout={{\r\n        xaxis: { title: xname },\r\n        yaxis: { title: yname },\r\n        font: {\r\n          family: theme.typography.fontFamily,\r\n          size: theme.typography.fontSize,\r\n          color: theme.palette.text.primary,\r\n        },\r\n        autoscale: false,\r\n        height: height,\r\n        width: width,\r\n        margin: { t: 10, r: 10 },\r\n        paper_bgcolor: theme.palette.background.paper,\r\n        plot_bgcolor: \"rgba(0,0,0,0)\", //theme.palette.background.paper,\r\n        showlegend: false,\r\n      }}\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n      config={{\r\n        displaylogo: false,\r\n        toImageButtonOptions: {\r\n          format: \"svg\", //one of png, svg, jpeg, webp 'svg'\r\n          filename: \"Histogram\",\r\n          scale: 1, // # Multiply title/legend/axis/canvas sizes by this factor\r\n        },\r\n        showEditInChartStudio: true,\r\n        plotlyServerURL: \"https://chart-studio.plotly.com\",\r\n      }}\r\n      onSelected={handleSelected}\r\n      onClick={(event) => {\r\n        if (event.points && event.points.length > 0) {\r\n          const point = event.points[0];\r\n          onSelect(data.data[point.pointIndex]);\r\n        }\r\n      }}\r\n      onHover={(event) => {\r\n        if (event.points && event.points.length > 0) {\r\n          const pointIndex = event.points[0].pointIndex;\r\n          onHover(data.data[pointIndex]);\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import { Grid, MenuItem, TextField } from \"@mui/material\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport Scatterplot from \"../Scatterplot\";\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\n\r\nfunction Scatterwrapper({ data, selectList, onSelect, onHover, hovered }) {\r\n  const [axis, setAxis] = useState({\r\n    x: selectList[0].key,\r\n    y: selectList[1].key,\r\n  });\r\n  const [scatterdata, setScatterdata] = useState({ x: [], y: [], data: [] });\r\n  const [highlight, sethighlight] = useState({ x: [], y: [], data: [] });\r\n  const selectListMap = useMemo(() => {\r\n    const m = {};\r\n    selectList.forEach((d) => {\r\n      m[d.key] = d.label;\r\n    });\r\n    return m;\r\n  }, [selectList]);\r\n  useEffect(() => {\r\n    const scatterdata = { x: [], y: [], data: [] };\r\n    data.forEach((d) => {\r\n      scatterdata.x.push(d[axis.x]);\r\n      scatterdata.y.push(d[axis.y]);\r\n      scatterdata.data.push(d);\r\n    });\r\n    setScatterdata(scatterdata);\r\n  }, [axis, data]);\r\n  useEffect(() => {\r\n    if (hovered)\r\n      sethighlight({\r\n        x: [hovered[axis.x]],\r\n        y: [hovered[axis.y]],\r\n        data: [hovered],\r\n      });\r\n    else sethighlight({ x: [], y: [], data: [] });\r\n  }, [axis, hovered]);\r\n  return (\r\n    <Grid container direction={\"column\"} sx={{ m: 1 }}>\r\n      <Grid container item spacing={1}>\r\n        <Grid item xs={6}>\r\n          <TextField\r\n            id=\"viz-selection-scatterx\"\r\n            select\r\n            label=\"X axis\"\r\n            value={axis.x}\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            fullWidth\r\n            onChange={(event) => {\r\n              setAxis({ ...axis, x: event.target.value });\r\n            }}\r\n          >\r\n            {selectList.map(({ key, label }) => (\r\n              <MenuItem key={`x-s-${key}`} value={key}>\r\n                {label}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <TextField\r\n            id=\"viz-selection-scatterx\"\r\n            select\r\n            label=\"Y axis\"\r\n            value={axis.y}\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            onChange={(event) => {\r\n              setAxis({ ...axis, y: event.target.value });\r\n            }}\r\n          >\r\n            {selectList.map(({ key, label }) => (\r\n              <MenuItem key={`y-s-${key}`} value={key}>\r\n                {label}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid item xs={12} sx={{ position: \"relative\" }}>\r\n        <AutoSizer style={{ height: \"100%\", width: \"100%\" }} disableHeight>\r\n          {({ height, width }) => {\r\n            return (\r\n              <Scatterplot\r\n                data={scatterdata}\r\n                xname={selectListMap[axis.x]}\r\n                yname={selectListMap[axis.y]}\r\n                width={width}\r\n                height={width}\r\n                onSelect={onSelect}\r\n                onHover={onHover}\r\n                hovered={highlight}\r\n              />\r\n            );\r\n          }}\r\n        </AutoSizer>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\nexport default Scatterwrapper;\r\n","import {\r\n  Grid,\r\n  MenuItem,\r\n  InputLabel,\r\n  Select,\r\n  OutlinedInput,\r\n  Checkbox,\r\n  ListItemText,\r\n  FormControl,\r\n} from \"@mui/material\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { PCA } from \"ml-pca\";\r\nimport Scatterplot from \"../Scatterplot\";\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\n\r\nfunction PCAplot({ data, selectList, onSelect, onHover, hovered }) {\r\n  const [axis, setAxis] = useState(selectList.map((d) => d.key));\r\n  const [scatterdata, setScatterdata] = useState({ x: [], y: [] });\r\n  const [highlight, sethighlight] = useState({ x: [], y: [], data: [] });\r\n  const [pcaob, setpcaob] = useState();\r\n  const selectListMap = useMemo(() => {\r\n    const m = {};\r\n    selectList.forEach((d) => {\r\n      m[d.key] = d;\r\n    });\r\n    return m;\r\n  }, [selectList]);\r\n  useEffect(() => {\r\n    const dataMatrix = [];\r\n    const dataValid = [];\r\n    try {\r\n      data.forEach((d) => {\r\n        let valid = true;\r\n        const m = [];\r\n        axis.forEach((key) => {\r\n          if (isNaN(d[key])) valid = false;\r\n          else m.push(d[key]);\r\n        });\r\n        if (valid) {\r\n          dataMatrix.push(m);\r\n          dataValid.push(d);\r\n        }\r\n      });\r\n\r\n      const pca = new PCA(dataMatrix);\r\n      const result = pca.predict(dataMatrix);\r\n      // PCA 2 comp\r\n      const principalComponent1 = result.data.map((row) => row[0]);\r\n      const principalComponent2 = result.data.map((row) => row[1]);\r\n      const explain = pca.getExplainedVariance();\r\n      const scatterdata = {\r\n        x: principalComponent1,\r\n        y: principalComponent2,\r\n        data: dataValid,\r\n        xname: `PC1 (${Math.round(explain[0] * 1000) / 10}%)`,\r\n        yname: `PC2 (${Math.round(explain[1] * 1000) / 10}%)`,\r\n      };\r\n      setpcaob(pca);\r\n      setScatterdata(scatterdata);\r\n    } catch (e) {\r\n      setScatterdata({ x: [], y: [], xname: \"PC1\", yname: \"PC2\" });\r\n      setpcaob(null);\r\n    }\r\n  }, [data, axis]);\r\n  useEffect(() => {\r\n    if (hovered && pcaob)\r\n      try {\r\n        debugger;\r\n        const m = [];\r\n        let valid = true;\r\n        axis.forEach((key) => {\r\n          if (isNaN(hovered[key])) valid = false;\r\n          else m.push(hovered[key]);\r\n        });\r\n        if (valid) {\r\n          const p = pcaob.predict([m]);\r\n          sethighlight({\r\n            x: [p.data[0][0]],\r\n            y: [p.data[0][1]],\r\n            data: [hovered],\r\n          });\r\n        } else {\r\n          throw Error(\"Hover point invalid\");\r\n        }\r\n      } catch (e) {\r\n        sethighlight({ x: [], y: [], data: [] });\r\n      }\r\n    else sethighlight({ x: [], y: [], data: [] });\r\n  }, [axis, hovered, pcaob]);\r\n  return (\r\n    <Grid\r\n      container\r\n      direction={\"column\"}\r\n      sx={{ position: \"relative\", width: \"100%\" }}\r\n    >\r\n      <Grid item>\r\n        <FormControl sx={{ m: 1, mb: 0, maxWidth: 300 }}>\r\n          <InputLabel id=\"demo-multiple-checkbox-label\">Tag</InputLabel>\r\n\r\n          <Select\r\n            id=\"viz-selection-pca\"\r\n            multiple\r\n            value={axis}\r\n            input={<OutlinedInput label=\"PCA axis\" size=\"small\" />}\r\n            renderValue={(selected) =>\r\n              selected.map((d) => selectListMap[d]?.label).join(\", \")\r\n            }\r\n            onChange={(event) => {\r\n              const {\r\n                target: { value },\r\n              } = event;\r\n              setAxis(typeof value === \"string\" ? value.split(\",\") : value);\r\n            }}\r\n          >\r\n            {selectList.map(({ key, label }) => (\r\n              <MenuItem key={`pca-s-${key}`} value={key}>\r\n                <Checkbox checked={axis.indexOf(key) > -1} />\r\n                <ListItemText primary={label} />\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      </Grid>\r\n      <Grid item xs={12} sx={{ position: \"relative\" }}>\r\n        <AutoSizer style={{ height: \"100%\", width: \"100%\" }} disableHeight>\r\n          {({ height, width }) => {\r\n            return (\r\n              <Scatterplot\r\n                data={scatterdata}\r\n                xname={scatterdata.xname}\r\n                yname={scatterdata.yname}\r\n                width={width}\r\n                height={width}\r\n                onSelect={onSelect}\r\n                onHover={onHover}\r\n                hovered={highlight}\r\n              />\r\n            );\r\n          }}\r\n        </AutoSizer>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\nexport default PCAplot;\r\n","import SongListDetail from \"../SongListDetail\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { Divider, Grid, MenuItem, TextField } from \"@mui/material\";\r\nimport Histogram from \"./Histogram\";\r\nimport { metricList } from \"../../Providers/Database/ulti\";\r\nimport Scatterwrapper from \"./Scatterwrapper\";\r\nimport PCAplot from \"./PCAplot\";\r\n\r\nfunction VizPanel({ countries, data, source, onChangeSource, onSelect }) {\r\n  const [histindata, sethisindata] = useState([]);\r\n  const [hovered, sethovered] = useState(null);\r\n  useEffect(() => {\r\n    const histindata = metricList.map(({ key, label }) => ({\r\n      key,\r\n      label,\r\n      data: data.map((d) => d[key]),\r\n    }));\r\n    sethisindata(histindata);\r\n  }, [data]);\r\n  const onHover = useCallback((data) => {\r\n    sethovered(data);\r\n  }, []);\r\n  return (\r\n    <Grid container sx={{ position: \"relative\", height: \"100%\" }} spacing={1}>\r\n      <Grid item xs={3}>\r\n        <SongListDetail countries={countries} />\r\n      </Grid>\r\n      <Grid item xs={9}>\r\n        <Grid container spacing={{ xs: 2, md: 3 }}>\r\n          <Grid item xs={12}>\r\n            <TextField\r\n              id=\"viz-selection-source\"\r\n              select\r\n              label=\"Viz source\"\r\n              value={source}\r\n              variant=\"standard\"\r\n              fullWidth\r\n              onChange={(event) => {\r\n                onChangeSource(event.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value=\"event\">Event list</MenuItem>\r\n              <MenuItem value=\"selected\">Selected list</MenuItem>\r\n            </TextField>\r\n          </Grid>\r\n          <Grid item xs={12} container justifyContent=\"center\" spacing={1}>\r\n            {histindata.map(({ key, label, data }) => (\r\n              <Grid key={key} item style={{ height: 100, width: 300 }}>\r\n                <Histogram name={label} data={data} />\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Divider />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Scatterwrapper\r\n              data={data}\r\n              selectList={metricList}\r\n              onSelect={onSelect}\r\n              onHover={onHover}\r\n              hovered={hovered}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <PCAplot\r\n              data={data}\r\n              selectList={metricList}\r\n              onSelect={onSelect}\r\n              onHover={onHover}\r\n              hovered={hovered}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default VizPanel;\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { useIntl } from \"react-intl\";\r\nimport Page from \"../../containers/Page/Page\";\r\nimport { useDatabase } from \"../../Providers/Database\";\r\nimport {\r\n  Backdrop,\r\n  Box,\r\n  Unstable_Grid2 as Grid,\r\n  LinearProgress,\r\n  Paper,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Stack,\r\n  IconButton,\r\n  Collapse,\r\n} from \"@mui/material\";\r\nimport Earth3D from \"../../components/Earth\";\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\n\r\nimport EventTable from \"../../components/EventTable/index\";\r\nimport {\r\n  Responsive as ResponsiveGridLayout,\r\n  WidthProvider,\r\n} from \"react-grid-layout\";\r\nimport UndoRedo from \"../../containers/UndoRedo\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  setFilter,\r\n  setFilters,\r\n  selectFilters,\r\n} from \"../../reducer/streamfilters\";\r\nimport { semicolor } from \"../../containers/LayoutContainer/theme\";\r\nimport { useQuestions } from \"material-ui-shell/lib/providers/Dialogs/Question\";\r\nimport { SET_MENU } from \"../../reducer/actions/setting\";\r\nimport MinimizeIcon from \"@mui/icons-material/Minimize\";\r\nimport EventDetail from \"../../components/EventDetail\";\r\nimport useQuery from \"../../Providers/Query\";\r\nimport * as FlexLayout from \"flexlayout-react\";\r\nimport \"./layout.css\";\r\nimport {\r\n  AddCircle,\r\n  Brightness4 as Brightness4Icon,\r\n  BrightnessHigh as BrightnessHighIcon,\r\n} from \"@mui/icons-material\";\r\nimport EventMap from \"../../components/EventMap\";\r\nimport Search from \"../../components/Search\";\r\nimport MediaDetail from \"../../components/MediaDetail\";\r\nimport AppHeader from \"../../components/AppHeader\";\r\nimport { actionCreators } from \"../../reducer/actions/selectedList\";\r\nimport {\r\n  fields,\r\n  fieldsWithoutSelected,\r\n} from \"../../components/EventTable/fields\";\r\nimport SongListDetail from \"../../components/SongListDetail\";\r\nimport { useLog } from \"../../Providers/Firebase\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport VizPanel from \"components/VizPanel\";\r\nimport { metricRadarList } from \"../../Providers/Database/ulti\";\r\nimport { mean as d3mean } from \"d3\";\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height,\r\n  };\r\n}\r\n\r\nconst LandingPage = () => {\r\n  // const ResponsiveGridLayout = useMemo(()=>WidthProvider(Responsive),[]);\r\n  const dispatch = useDispatch();\r\n  const intl = useIntl();\r\n  // const {openDialog,closeDialog, setProcessing} = useQuestions()\r\n  const filters = useSelector(selectFilters);\r\n  // const { appConfig } = useConfig()\r\n  const {\r\n    getList,\r\n    isLoading,\r\n    getEvents,\r\n    requestEvents,\r\n    requestDetail,\r\n    getDetail,\r\n    setFuncCollection,\r\n    requestVizdata,\r\n  } = useDatabase();\r\n  const [zoomLoc, setZoomLoc] = useState();\r\n  const [isFullView, setIsFullView] = useState(true);\r\n  const [windowDimensions, setWindowDimensions] = useState(\r\n    getWindowDimensions()\r\n  );\r\n  const [layoutItems, setLayoutItems] = useState({\r\n    Earth: { key: \"Earth View\", val: true, disable: true },\r\n    eventList: { key: \"Event List\", val: true },\r\n    eventDetail: { key: \"Event Details\", val: true },\r\n    eventMap: { key: \"Event List Map\", val: true },\r\n    mediaDetail: { key: \"Listen\", val: true },\r\n    eventSelectedList: { key: \"Selected Events\", val: true },\r\n    eventListDetail: { key: \"Event List Visualization\", val: true },\r\n  });\r\n  const toolbarRef = useRef(null);\r\n  const layoutRef = useRef(null);\r\n  const currentDetail = getDetail();\r\n  const eventTotalData = useSelector((state) => state.seletedList.currentList);\r\n  const eventSelectedData = useSelector((state) =>\r\n    Array.from(state.seletedList.items.values())\r\n  );\r\n  const { setlocation, logEvents } = useLog();\r\n  const query = useQuery();\r\n  const location = useLocation();\r\n  const [vizsource, setVizSource] = useState(\"event\");\r\n\r\n  useEffect(() => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          setlocation(position.coords);\r\n          setZoomLoc({\r\n            lng: position.coords.longitude,\r\n            lat: position.coords.latitude,\r\n          });\r\n        },\r\n        () => {}\r\n      );\r\n    }\r\n    dispatch({ type: SET_MENU, opened: true });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (currentDetail)\r\n      setZoomLoc({ lng: currentDetail.long, lat: currentDetail.lat });\r\n  }, [currentDetail]);\r\n\r\n  const isLoadingInit = isLoading(\"rawData\");\r\n  const isLoadingEvent = isLoading(\"events\");\r\n  const isLoadingLocs = isLoading(\"locs\");\r\n  const [firstLoad, setFirstLoad] = useState(true);\r\n  useEffect(() => {\r\n    if (!isLoadingInit) {\r\n      if (firstLoad) {\r\n        setFirstLoad(false);\r\n        if (!(query && query.get(\"selected\"))) requestEvents(filters, 1000);\r\n      } else {\r\n        requestEvents(filters, 1000);\r\n      }\r\n    }\r\n  }, [isLoadingInit, filters, firstLoad]);\r\n  const onSelectStream = useCallback(\r\n    (data) => {\r\n      debugger;\r\n      requestDetail(data);\r\n    },\r\n    [getEvents]\r\n  );\r\n\r\n  const onSelect = useCallback((value, extra) => {\r\n    if (extra) setZoomLoc({ lng: extra.long, lat: extra.lat });\r\n    if (Object.keys(value)[0]) {\r\n      logEvents(\"click_earth\", { ...value });\r\n    }\r\n    dispatch(setFilters({ value }));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    requestVizdata(\r\n      (vizsource ? eventTotalData : eventSelectedData).map((d) => d._id)\r\n    );\r\n  }, [vizsource, vizsource ? eventTotalData : eventSelectedData]);\r\n\r\n  const meanRadar = useMemo(() => {\r\n    const total = getList(\"vizdata\");\r\n    const meanradar = {};\r\n    metricRadarList.forEach(({ key }) => {\r\n      meanradar[key] = d3mean(total, (d) => d[key]);\r\n    });\r\n    return meanradar;\r\n  }, [getList(\"vizdata\")]);\r\n\r\n  // const onTogleWin = useCallback((key)=>{\r\n  //     setLayoutItems({...layoutItems,[key]:!layoutItems[key]});\r\n  // },[layoutItems])\r\n\r\n  // const generateLayout = (k)=>{\r\n  //     switch (k){\r\n  //         case 'eventList':\r\n  //             return <EventTable data={getEvents()}\r\n  //                                isLoadingData={isLoadingEvent}\r\n  //                                onSelectRow={onSelectStream}\r\n  //                                highlightId={currentDetail}\r\n  //                                onTogleWin={()=>onTogleWin(\"eventList\")}\r\n  //             />\r\n  //         case 'eventDetail':\r\n  //             return <EventDetail currentDetail={currentDetail} onSelect={onSelect}\r\n  //                                 events={getEvents()}\r\n  //                                 locs={getList('locs')}\r\n  //                                 sx={{height:'100%',position:'relative'}}\r\n  //                                 onTogleWin={()=>onTogleWin(\"eventDetail\")}\r\n  //             />\r\n  //         default:\r\n  //             return ''\r\n  //     }\r\n  // }\r\n\r\n  const [layouts, setLayouts] = useState(() =>\r\n    FlexLayout.Model.fromJson({\r\n      global: {\r\n        // \"splitterSize\": 1,\r\n        // \"splitterExtra\": 4,\r\n        tabEnableFloat: true,\r\n        tabSetMinWidth: 100,\r\n        tabSetMinHeight: 100,\r\n        borderMinSize: 100,\r\n      },\r\n      borders: [\r\n        {\r\n          type: \"border\",\r\n          location: \"top\",\r\n          size: 400,\r\n          active: true,\r\n          children: [],\r\n        },\r\n        {\r\n          type: \"border\",\r\n          location: \"left\",\r\n          size: windowDimensions.width * 0.4,\r\n          children: [\r\n            {\r\n              type: \"tab\",\r\n              name: \"Earth View\",\r\n              enableClose: false,\r\n              component: \"Earth\",\r\n            },\r\n          ],\r\n          selected: 0,\r\n        },\r\n      ],\r\n      layout: {\r\n        type: \"row\",\r\n        weight: 100,\r\n        children: [\r\n          {\r\n            type: \"row\",\r\n            children: [\r\n              {\r\n                type: \"row\",\r\n                children: [\r\n                  {\r\n                    type: \"tabset\",\r\n                    weight: 50,\r\n                    children: [\r\n                      {\r\n                        type: \"tab\",\r\n                        name: \"Event List\",\r\n                        component: \"eventList\",\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    type: \"tabset\",\r\n                    weight: 50,\r\n                    children: [\r\n                      {\r\n                        type: \"tab\",\r\n                        name: \"Selected Events\",\r\n                        component: \"eventSelectedList\",\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                type: \"tabset\",\r\n                weight: 50,\r\n                children: [\r\n                  {\r\n                    type: \"tab\",\r\n                    name: \"Event Detail\",\r\n                    component: \"eventDetail\",\r\n                  },\r\n                  {\r\n                    type: \"tab\",\r\n                    name: \"Listen\",\r\n                    component: \"mediaDetail\",\r\n                  },\r\n                  {\r\n                    type: \"tab\",\r\n                    name: \"Event List Map\",\r\n                    component: \"eventMap\",\r\n                  },\r\n                  {\r\n                    type: \"tab\",\r\n                    name: \"Event List Visualization\",\r\n                    component: \"eventListDetail\",\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n    })\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(actionCreators.newList(getEvents()));\r\n  }, [getEvents()]);\r\n\r\n  const getSwitchView = useCallback(\r\n    (newval) => {\r\n      if (newval !== undefined) setIsFullView(newval);\r\n      return isFullView;\r\n    },\r\n    [isFullView]\r\n  );\r\n  const factory = (node) => {\r\n    let component = node.getComponent();\r\n    switch (component) {\r\n      case \"eventList\":\r\n        return (\r\n          <EventTable\r\n            id=\"eventListTable\"\r\n            data={eventTotalData ?? []}\r\n            columns={fields}\r\n            isLoadingData={isLoadingEvent}\r\n            onSelectRow={onSelectStream}\r\n            highlightId={currentDetail}\r\n            totalData={eventTotalData}\r\n            selectedData={eventSelectedData}\r\n            onSendToList={(l) => dispatch(actionCreators.addsToBasket(l))}\r\n            onRemoveFromList={(l) => dispatch(actionCreators.removeItems(l))}\r\n            // onTogleWin={()=>onTogleWin(\"eventList\")}\r\n            mainurl={location}\r\n          />\r\n        );\r\n      case \"eventListDetail\":\r\n        return (\r\n          <VizPanel\r\n            countries={\r\n              isFullView ? getList(\"countries_full\") : getList(\"countries\")\r\n            }\r\n            data={getList(\"vizdata\")}\r\n            source={vizsource}\r\n            onChangeSource={(source) => {\r\n              setVizSource(source);\r\n              // requestVizdata(\r\n              //   (source ? eventTotalData : eventSelectedData).map((d) => d._id)\r\n              // )\r\n            }}\r\n            onSelect={onSelectStream}\r\n          />\r\n        );\r\n      case \"eventSelectedList\":\r\n        return (\r\n          <EventTable\r\n            id=\"eventSelectedListTable\"\r\n            data={eventSelectedData}\r\n            columns={fieldsWithoutSelected}\r\n            isLoadingData={isLoadingEvent}\r\n            onSelectRow={onSelectStream}\r\n            highlightId={currentDetail}\r\n            totalData={eventTotalData}\r\n            selectedData={eventSelectedData}\r\n            disableAdding={true}\r\n            onSendToList={(l) => dispatch(actionCreators.addsToBasket(l))}\r\n            onRemoveFromList={(l) => dispatch(actionCreators.removeItems(l))}\r\n            // onTogleWin={()=>onTogleWin(\"eventList\")}\r\n            mainurl={location}\r\n          />\r\n        );\r\n      case \"eventMap\":\r\n        return (\r\n          <EventMap\r\n            currentDetail={currentDetail}\r\n            events={getEvents()}\r\n            locs={getList(\"locs\")}\r\n          />\r\n        );\r\n      case \"eventDetail\":\r\n        return (\r\n          <EventDetail\r\n            currentDetail={currentDetail}\r\n            onSelect={onSelect}\r\n            events={getEvents()}\r\n            locs={getList(\"locs\")}\r\n            sx={{ height: \"100%\", position: \"relative\" }}\r\n            meanradar={meanRadar}\r\n            // onTogleWin={()=>onTogleWin(\"eventDetail\")}\r\n          />\r\n        );\r\n      case \"mediaDetail\":\r\n        return (\r\n          <MediaDetail\r\n            currentDetail={currentDetail}\r\n            onSelect={onSelect}\r\n            events={getEvents()}\r\n            locs={getList(\"locs\")}\r\n            sx={{ height: \"100%\", position: \"relative\" }}\r\n            // onTogleWin={()=>onTogleWin(\"eventDetail\")}\r\n          />\r\n        );\r\n      case \"Earth\":\r\n        return (\r\n          <AutoSizer style={{ height: \"100%\", width: \"100%\" }}>\r\n            {({ height, width }) => {\r\n              return (\r\n                <Earth3D\r\n                  locs={isFullView ? getList(\"locs_full\") : getList(\"locs\")}\r\n                  countries={\r\n                    isFullView\r\n                      ? getList(\"countries_full\")\r\n                      : getList(\"countries\")\r\n                  }\r\n                  onSelect={onSelect}\r\n                  onSelectLegend={setFuncCollection}\r\n                  width={width}\r\n                  height={height}\r\n                  toolbarRef={toolbarRef}\r\n                  zoomLoc={zoomLoc}\r\n                  getSwitchView={getSwitchView}\r\n                />\r\n              );\r\n            }}\r\n          </AutoSizer>\r\n        );\r\n      default:\r\n        return \"\";\r\n    }\r\n  };\r\n  // const onRenderTabSet = (tabSetNode, renderValues) =>{\r\n  //     // debugger\r\n  //     if (!Object.keys(layoutItems).reduce((pre,k)=>pre && (layoutItems[k].val),true)) {\r\n  //         renderValues.stickyButtons.push(<AddCircle\r\n  //             color={'primary'}\r\n  //             title= \"Add\"\r\n  //             key= \"Add button\"\r\n  //             className={\"flexlayout__tab_toolbar_button\"}\r\n  //             style={{width: \"1.1em\", height: \"1.1em\"}}\r\n  //         />)\r\n  //         // renderValues.stickyButtons.push(React.createElement(\"img\", {\r\n  //         //     src: \"images/add.svg\",\r\n  //         //     alt: \"Add\",\r\n  //         //     key: \"Add button\",\r\n  //         //     title: \"Add Tab (using onRenderTabSet callback, see Demo)\",\r\n  //         //     style: {width: \"1.1em\", height: \"1.1em\"},\r\n  //         //     className: \"flexlayout__tab_toolbar_button\",\r\n  //         //     // onClick: function () { return _this.onAddFromTabSetButton(node); }\r\n  //         // }));\r\n  //     }\r\n  // }\r\n  const layoutItemsOnChange = useCallback(\r\n    (key, item, isOn) => {\r\n      debugger;\r\n      if (layoutRef.current) {\r\n        if (isOn)\r\n          layoutRef.current.addTabToActiveTabSet({\r\n            name: item.key,\r\n            component: key,\r\n          });\r\n        else {\r\n          // layouts\r\n          // find id\r\n          const current = Object.keys(layouts._idMap).find(\r\n            (k) => layouts._idMap[k]._attributes.component === key\r\n          );\r\n          if (current) layouts.doAction(FlexLayout.Actions.deleteTab(current));\r\n        }\r\n        layoutItems[key].val = isOn;\r\n        setLayoutItems({ ...layoutItems });\r\n      }\r\n    },\r\n    [layoutRef, layouts]\r\n  );\r\n  return (\r\n    <Page\r\n      appBarLeftContent={\r\n        <AppHeader\r\n          layoutItems={layoutItems}\r\n          layoutItemsOnChange={layoutItemsOnChange}\r\n        />\r\n      }\r\n      appBarContent={\r\n        <>\r\n          <Search />\r\n          <div ref={toolbarRef}></div>\r\n          <UndoRedo />\r\n        </>\r\n      }\r\n    >\r\n      {/*<div style={{position:'absolute',top:0,left:0, zIndex:0, height: '100%', width: '100%', overflow:'hidden'}}>*/}\r\n      {/*    <AutoSizer style={{ height: 'calc(100vh - 64px)', width: '100%' }} >*/}\r\n      {/*        {({ height, width }) => {*/}\r\n      {/*            return <Earth3D locs={getList('locs')}*/}\r\n      {/*                            countries={getList('countries')}*/}\r\n      {/*                            onSelect={onSelect}*/}\r\n      {/*                            onSelectLegend={setFuncCollection}*/}\r\n      {/*                            width={width} height={height}*/}\r\n      {/*                            toolbarRef={toolbarRef}*/}\r\n      {/*                            zoomLoc={zoomLoc}*/}\r\n      {/*            />*/}\r\n      {/*        }}*/}\r\n      {/*    </AutoSizer>*/}\r\n      {/*</div>*/}\r\n      <div\r\n        style={{\r\n          height: \"100%\",\r\n          position: \"relative\",\r\n          pointerEvents: \"all\",\r\n          overflow: \"hidden\",\r\n        }}\r\n      >\r\n        <FlexLayout.Layout\r\n          model={layouts}\r\n          ref={layoutRef}\r\n          factory={factory}\r\n          tabEnableRenderOnDemand={false}\r\n          // onRenderTabSet={onRenderTabSet}\r\n          popoutURL=\"#/popout\"\r\n          realtimeResize={false}\r\n          onModelChange={(m) => {\r\n            // check tab\r\n            Object.keys(layoutItems).forEach(\r\n              (k) => (layoutItems[k].val = false)\r\n            );\r\n            // m._root._children.forEach(m=>m._children.forEach(m=> {\r\n            //     if (m._attributes.component&&layoutItems[m._attributes.component])\r\n            //         layoutItems[m._attributes.component].val = true\r\n            //     else\r\n            //          m._children.forEach(m => layoutItems[m._attributes.component]?(layoutItems[m._attributes.component].val = true):'')\r\n            // }));\r\n            // m._borders._borders.forEach(m=>m._children.forEach(m=>layoutItems[m._attributes.component].val=true));\r\n            Object.values(m._idMap).forEach((m) => {\r\n              if (\r\n                m._attributes.component &&\r\n                layoutItems[m._attributes.component]\r\n              )\r\n                layoutItems[m._attributes.component].val = true;\r\n            });\r\n            setLayoutItems(layoutItems);\r\n            setLayouts(m);\r\n          }}\r\n        />\r\n\r\n        {/*<AutoSizer style={{ minHeight: '100%', width: '100%', position:'relative' }} >*/}\r\n        {/*    {({ height, width }) => {*/}\r\n        {/*        return <ResponsiveGridLayout className=\"layout\" cols={{ lg: 12, md: 10, sm: 6, xs: 4, xxs: 2 }}*/}\r\n        {/*                      layouts={layouts}*/}\r\n        {/*                     onBreakpointChange={onBreakpointChange}*/}\r\n        {/*                     onLayoutChange={onLayoutChange}*/}\r\n        {/*                      preventCollision={true}*/}\r\n        {/*                      compactType={null}*/}\r\n        {/*                      breakpoints={{ lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0 }}*/}\r\n        {/*                     margin={{ lg: [10,10], md: [10,10], sm: [10,10], xs: [10,10], xxs: [10,10] }}*/}\r\n        {/*                         width={width}*/}\r\n        {/*                         rowHeight={(height-20)/10 -10}*/}\r\n        {/*                         height={height}*/}\r\n        {/*                      style={{position:'relative',height:height, pointerEvents:'all'}} >*/}\r\n        {/*            {*/}\r\n        {/*                Object.keys(layoutItems).map(k=>layoutItems[k]?<div key={k} style={{pointerEvents:'all'}}>*/}\r\n        {/*                    {generateLayout(k)}*/}\r\n        {/*                </div>:'')*/}\r\n        {/*            }*/}\r\n        {/*</ResponsiveGridLayout>}}*/}\r\n        {/*</AutoSizer>*/}\r\n      </div>\r\n      <Backdrop\r\n        sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n        open={isLoadingInit || isLoadingLocs}\r\n      >\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            width: \"50%\",\r\n            flexDirection: \"column\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <Box sx={{ width: \"100%\" }}>\r\n            <LinearProgress\r\n              variant=\"determinate\"\r\n              value={isLoadingInit ? 40 : isLoadingLocs ? 90 : 100}\r\n            />\r\n          </Box>\r\n          <Box sx={{ width: \"100%\" }}>\r\n            <h2>\r\n              {isLoadingInit\r\n                ? \"Read data....\"\r\n                : isLoadingLocs\r\n                ? \"Process data...\"\r\n                : \"Done!\"}\r\n            </h2>\r\n          </Box>\r\n        </Box>\r\n      </Backdrop>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default LandingPage;\r\n","import {useLocation} from \"react-router-dom\";\r\nimport {useDatabase} from \"../Database\";\r\nimport {useMemo} from \"react\";\r\n\r\nexport default function useQuery() {\r\n    const { search } = useLocation();\r\n    const {requestDetail, getDataFromShortenLink} = useDatabase();\r\n    return useMemo(() => {\r\n        const queryObject = new URLSearchParams(window.location.href.split('?')[1]);\r\n        if (queryObject.get(\"selected\")) {\r\n            getDataFromShortenLink(queryObject.get(\"selected\"));\r\n\r\n            return queryObject;\r\n        }\r\n        if (queryObject.get(\"id\")) {\r\n            requestDetail({_id: queryObject.get(\"id\")});\r\n            return queryObject;\r\n        }\r\n    }, [search]);\r\n    \r\n}"],"names":["Transition","React","props","ref","_jsx","Slide","_objectSpread","direction","BootstrapDialogTitle","children","onClose","other","_objectWithoutProperties","_excluded","_jsxs","DialogTitle","sx","m","p","IconButton","onClick","position","right","top","color","theme","palette","grey","CloseIcon","_ref","_ref$isProcessing","isProcessing","_ref$isOpen","isOpen","_ref$message","id","message","_ref$title","title","_ref$action","action","_ref$haveButton","haveButton","_ref$handleAction","handleAction","_ref$handleClose","handleClose","rest","_excluded2","intl","useIntl","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","open","TransitionComponent","DialogContent","DialogContentText","DialogActions","Button","formatMessage","defaultMessage","disabled","pageTitle","_ref$appBarLeftConten","appBarLeftContent","onBackClick","isLoading","_ref$appBarContent","appBarContent","contentStyle","_ref$tabs","tabs","isRTL","useAppTheme","isOnline","useOnline","_ref3","useConfig","appConfig","menu","_ref3$appBarLeadingCo","width","appBarLeadingContent","headerTitle","String","style","display","flexDirection","height","overflow","AppBar","undefined","zIndex","transition","transitions","create","easing","sharp","duration","leavingScreen","maxHeight","marginLeft","marginRight","backgroundColor","backgroundImage","boxShadow","Toolbar","t","mode","background","default","primary","dark","margin","padding","ChevronLeft","Typography","variant","noWrap","flex","alignItems","justifyContent","minHeight","LinearProgress","secondary","main","_ref$onDownloadSearch","onDownloadSearchList","_ref$onDownloadSelect","onDownloadSelectedList","_React$useState","_React$useState2","_slicedToArray","anchorEl","setAnchorEl","Boolean","_Fragment","target","size","startIcon","SaveIcon","event","currentTarget","endIcon","KeyboardArrowDownIcon","Menu","MenuItem","href","process","ShareButton","getUrl","_useState","useState","_useState2","dialogOpen","setDialogOpen","_useState3","_useState4","url","setUrl","_useState5","_useState6","setIsProcessing","Fragment","then","d","catch","e","QuestionDialog","maxWidth","Stack","TextField","label","InputProps","readOnly","value","navigator","clipboard","writeText","_ref$id","columns","data","totalData","selectedData","disableAdding","isLoadingData","onSelectRow","highlightId","onSendToList","onRemoveFromList","mainurl","rowSelection","setRowSelection","rowVirtualizerInstanceRef","useRef","setIsLoading","sorting","setSorting","_useDatabase","useDatabase","getDownloadData","getShortenLink","event_export_list","getList","useEffect","_rowVirtualizerInstan","_rowVirtualizerInstan2","current","scrollToIndex","call","error","console","log","handleExportRows","rows","datadownload","csvOptions","fieldSeparator","quoteStrings","decimalSeparator","showLabels","filename","concat","Date","toDateString","useBom","useKeysAsHeaders","headers","Object","keys","ExportToCsv","generateCsv","handleUrl","useCallback","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","stop","MaterialReactTable","enableGlobalFilterModes","enableDensityToggle","enablePagination","enableRowSelection","enableRowVirtualization","muiTablePaperProps","initialState","density","onSortingChange","onRowSelectionChange","state","rowVirtualizerProps","overscan","muiTableBodyRowProps","row","original","cursor","opacity","_id","muiSelectCheckboxProps","muiTableBodyCellProps","whiteSpace","enableColumnResizing","enableFullScreenToggle","defaultColumn","minSize","maxSize","layoutMode","positionToolbarAlertBanner","renderTopToolbarCustomActions","_ref4","table","Box","gap","flexWrap","DownloadOption","renderBottomToolbar","_ref5","handleSelected","getSelectedRowModel","flatRows","map","handleRemoveSelected","length","flexGrow","MRT_ToolbarAlertBanner","stackAlertBanner","Tooltip","AddEventIcon","RemoveEventIcon","UndoRedo","canUndo","canRedo","onUndo","onRedo","UndoIcon","RedoIcon","mapDispatchToProps","UndoActionCreators","undo","redo","connect","streamFilters","past","future","PaperCustom","styled","Paper","spacing","borderRadius","shortest","RadarChart","inputData","axisInfo","meanradar","highlight","setData","item","type","r","theta","fill","name","forEach","k","ki","_d$k$key","key","push","line","dash","_meanradar$k$key","layout","useMemo","paper_bgcolor","plot_bgcolor","autoscale","l","b","font","family","typography","fontFamily","fontSize","text","polar","radialaxis","visible","range","showlegend","Plot","config","displaylogo","toImageButtonOptions","format","scale","showEditInChartStudio","plotlyServerURL","countriesScale","scaleLinear","zoomi","domain","d3range","Map","locs","center","lon","lat","zoom","setDomain","_botColor","extent","count","long","ticks","tsize","tickS","i","mapbox","x","y","marker","hoverinfo","_toConsumableArray","longd","latd","Math","min","_highlight","find","city_id","paper","mapboxTick","legend","showticksuffix","xanchor","orientation","metricList","radar","metricRadarList","filter","expand","ExpandMoreIcon","transform","genderIcon","g","avatar","MaleIcon","FemaleIcon","_ref2","_data$stream_title","_data$artist_info$art","onSelect","timeStation","moment","time_station","track_duration","stream_title","analyticData","analyticAxis","component","station","Chip","station_form","station_frequency","Link","station_url","MapIcon","city","country","station_format","split","station_genre","station_description","artist_info","Grid","container","xs","Avatar","src","artist_image_url","mr","artist_name","artist_type","artist_description","icon","Favorite","artist_popularity","artist_followers","artist_country","artist_genres","artist_instruments","artist_members","artist_genders","artist_sexualorientations","artist_ethnicities","artist_voicetypes","alt","join","artist_website","artist_id","spotifyIcon","loading","artist_qid","wikiIcon","artist_YouTubeID","youtubeIcon","artist_MusicBrainzID","musicbrainzIcon","elevation","gutterBottom","track_name","track_description","track_form","track_composers","track_lyricists","track_language","track_year_released","track_popularity","track_key","track_mode","track_beatsperbar","track_genre","track_loudness","track_id","track_qid","track_geniusID","geniusIcon","track_YouTubeID","track_MusicBrainzID","track_instrumentation","Divider","mt","mb","AutoSizer","currentDetail","bgcolor","contrastText","DetailCard","events","eventlocs","setEventlocs","_locsMap","_locs","groups","_locsMap$c","_locsMap$c2","_locsMap$c3","c","cou","setIsOpen","_defineProperty","shape","borderColor","alpha","common","white","borderStyle","textTransform","paddingLeft","paddingRight","up","minWidth","SearchIcon","FilterPanel","fullWidth","scroll","year_released","track_name_genre","frameBorder","spotify_uri","replace","allow","allowFullScreen","ListenCard","_useLocale","useLocale","setLocale","_useLocale$locale","locale","LanguageIcon","anchorOrigin","vertical","horizontal","transformOrigin","allLocales","selected","dispatch","useDispatch","FormatSize","FontsizeControl","onChange","isIncrease","INCREASE_FONT_SIZE","DECREASE_FONT_SIZE","layoutItems","SpaceDashboardIcon","val","ListItemIcon","Checkbox","checked","_ref$layoutItemsOnCha","layoutItemsOnChange","_useAppTheme","toggleThisTheme","isDarkMode","anchorElNav","setAnchorElNav","handleCloseNavMenu","require","SET_MENU","opened","HelpIcon","md","MenuIcon","keepMounted","textAlign","BrightnessHighIcon","Brightness4Icon","LayoutMenu","FontSizeMenu","LanguageMenu","countries","LegendPanel","fullHeight","_data","set_Data","xaxis","yaxis","showline","showticklabels","zeroline","xname","yname","onSelected","onHover","hovered","trace","points","point","pointIndex","selectList","axis","setAxis","scatterdata","setScatterdata","sethighlight","selectListMap","select","disableHeight","Scatterplot","_useState7","_useState8","pcaob","setpcaob","dataMatrix","dataValid","valid","isNaN","pca","PCA","result","predict","principalComponent1","principalComponent2","explain","getExplainedVariance","round","Error","FormControl","InputLabel","Select","multiple","input","OutlinedInput","renderValue","_selectListMap$d","indexOf","ListItemText","source","onChangeSource","histindata","sethisindata","sethovered","SongListDetail","Histogram","Scatterwrapper","PCAplot","filters","useSelector","selectFilters","getEvents","requestEvents","requestDetail","getDetail","setFuncCollection","requestVizdata","zoomLoc","setZoomLoc","isFullView","setIsFullView","_window","window","innerWidth","innerHeight","getWindowDimensions","windowDimensions","Earth","disable","eventList","eventDetail","eventMap","mediaDetail","eventSelectedList","eventListDetail","setLayoutItems","toolbarRef","layoutRef","eventTotalData","seletedList","currentList","eventSelectedData","Array","from","items","values","_useLog","useLog","setlocation","logEvents","query","search","useLocation","getDataFromShortenLink","queryObject","URLSearchParams","location","get","useQuery","_useState9","_useState10","vizsource","setVizSource","geolocation","getCurrentPosition","coords","lng","longitude","latitude","isLoadingInit","isLoadingEvent","isLoadingLocs","_useState11","_useState12","firstLoad","setFirstLoad","onSelectStream","extra","setFilters","meanRadar","total","d3mean","_useState13","FlexLayout","fromJson","global","tabEnableFloat","tabSetMinWidth","tabSetMinHeight","borderMinSize","borders","active","enableClose","weight","_useState14","layouts","setLayouts","actionCreators","newList","getSwitchView","newval","isOn","addTabToActiveTabSet","_idMap","_attributes","doAction","deleteTab","Page","AppHeader","Search","pointerEvents","model","factory","node","getComponent","EventTable","fields","addsToBasket","removeItems","VizPanel","fieldsWithoutSelected","EventMap","EventDetail","MediaDetail","Earth3D","onSelectLegend","tabEnableRenderOnDemand","popoutURL","realtimeResize","onModelChange","Backdrop","drawer"],"sourceRoot":""}