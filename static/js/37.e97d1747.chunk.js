"use strict";(self.webpackChunkmirage_mc=self.webpackChunkmirage_mc||[]).push([[37],{14101:function(t,e,n){n.d(e,{ZP:function(){return p},Wz:function(){return x}});var a=n(72791),i=a.createContext(null),r=n(80184),o=n(29439),s=n(4942),l=n(1413),c=n(84136),u=n(763),d=n.p+"static/media/stations_listed.62a01fcccd6c8d8910be.csv",h=n.p+"static/media/locations_listed.f85c1cdb7238c3b3b584.csv",f=n.p+"static/media/metadata.508f1effc7264ccc4778.csv",g=n.p+"static/media/streamDetail.2db5fb2c64b18016cd7d.csv";function v(t,e){var n=e.type,a=e.path,i=e.isLoading,r=void 0!==i&&i,o=e.error,c=void 0!==o&&o,u=e.hasError,d=void 0!==u&&u,h=e.value;switch(n){case"LOADING_CHANGED":return(0,l.Z)((0,l.Z)({},t),{},(0,s.Z)({},a,(0,l.Z)((0,l.Z)({},t[a]),{},{isLoading:r})));case"VALUE_CHANGE":return(0,l.Z)((0,l.Z)({},t),{},(0,s.Z)({},a,(0,l.Z)((0,l.Z)({},t[a]),{},{value:h,isLoading:r,error:c,hasError:d})));case"INIT":return(0,l.Z)((0,l.Z)({},t),{},{isInit:h});default:throw new Error}}var m={rawData:{value:{stationData:[],locationData:[],metaData:[],streamDetail:[]}},locs:{},countries:{},events:{},loading:!1,error:!1,isInit:!1},p=function(t){var e=t.children,n=(0,a.useReducer)(v,m),s=(0,o.Z)(n,2),p=s[0],x=s[1];(0,a.useEffect)((function(){if(!p.rawData.isLoading&&!p.rawData.value.metaData.length){1;try{console.time("Load and process data"),console.time("-Load data-"),x({type:"LOADING_CHANGED",path:"rawData",isLoading:!0}),x({type:"LOADING_CHANGED",path:"locs",isLoading:!0}),x({type:"LOADING_CHANGED",path:"countries",isLoading:!0}),Promise.all([(0,c.gyn)(d),(0,c.gyn)(h),(0,c.gyn)(f),(0,c.gyn)(g)]).then((function(t){var e=(0,o.Z)(t,4),n=e[0],a=e[1],i=e[2],r=e[3];console.timeEnd("-Load data-"),console.time("-Correct data-");var s={};a.forEach((function(t){t.lat=+t.longitude,t.long=+t.latitude,delete t.longitude,delete t.latitude,s[t.city_id]=t}));var u={};n.forEach((function(t){t.lat=s[t.city_id].lat,t.long=s[t.city_id].long,t.country=s[t.city_id].country,t.city=s[t.city_id].city,u[t.station_id]=t})),i.forEach((function(t){t.station_genre=u[t.station_id].station_genre,t.city=s[t.city_id].city,t.country=s[t.city_id].country,t.station=u[t.station_id].station,t.stream_artist=r[t.stream_detail_id].stream_artist,t.stream_song=r[t.stream_detail_id].stream_song}));var d={stationData:n,locationData:a,metaData:i,streamDetail:r,stationDataMap:u,locationDataMap:s};x({type:"VALUE_CHANGE",path:"rawData",value:d,isLoading:!1}),console.timeEnd("-Correct data-"),console.time("-filterdata-");var h=function(t){var e=t.stationData,n=t.locationData,a=t.metaData,i=(0,c.Xxj)(e,(function(t){return t.city_id}));console.time("---group meta---");var r=(0,c.ruo)(n,(function(t){return t.city_id})),o=(0,c.ruo)(a,(function(t){return t.city_id}));console.timeEnd("---group meta---");var s=i.map((function(t){var e,n,a,i=null!==(e=o.get(t[0]))&&void 0!==e?e:[],s=null!==(n=(null!==(a=r.get(t[0]))&&void 0!==a?a:[])[0])&&void 0!==n?n:{};return(0,l.Z)((0,l.Z)({},s),{},{title:"".concat(s.city," - ").concat(s.country),count:t[1].length,values:t[1],city:[[s.city,i]].map((function(t){return t.title=t[0],t.count=t[1].length,t}))})}));return s.sort((function(t,e){return e.count-t.count})),{locs:s,countries:(0,c.Xxj)(e,(function(t){return t.country})).map((function(t){return{title:t[0],long:(0,c.J69)(t[1],(function(t){return t.long})),lat:(0,c.J69)(t[1],(function(t){return t.lat})),count:t[1].length,values:t[1]}})).sort((function(t,e){return e.count-t.count}))}}(d),f=h.locs,g=h.countries;x({type:"VALUE_CHANGE",path:"locs",value:f,isLoading:!1}),x({type:"VALUE_CHANGE",path:"countries",value:g,isLoading:!1}),console.timeEnd("-filterdata-"),console.timeEnd("Load and process data")}))}catch(t){x({type:"ERROR",path:"rawData",isLoading:!1,error:t,hasError:!0}),x({type:"ERROR",path:"locs",isLoading:!1,error:t,hasError:!0}),x({type:"ERROR",path:"countries",isLoading:!1,error:t,hasError:!0})}}}),[]);var b=(0,a.useCallback)((function(t){return!!p[t]&&p[t].error}),[p]),y=(0,a.useCallback)((function(t){return p[t]&&p[t].value?p[t].value:[]}),[p]),j=(0,a.useCallback)((function(t){switch(t){case"city":return p.rawData&&p.rawData.value.locationData?p.rawData.value.locationData.map((function(t){return t.city})):[];case"country":return p.countries&&p.countries.value?p.countries.value.map((function(t){return t.title})):[];case"station":return p.rawData&&p.rawData.value.stationData?(0,u.uniq)(p.rawData.value.stationData.map((function(t){return t.station}))):[];case"station_genre":return p.rawData&&p.rawData.value.metaData?(0,u.uniq)(p.rawData.value.metaData.map((function(t){return t.station_genre}))):[];case"stream_artist":return p.rawData&&p.rawData.value.streamDetail?(0,u.uniq)(p.rawData.value.streamDetail.map((function(t){return t.stream_artist}))):[];case"stream_song":return p.rawData&&p.rawData.value.streamDetail?(0,u.uniq)(p.rawData.value.streamDetail.map((function(t){return t.stream_song}))):[];default:return[]}}),[p]),D=(0,a.useCallback)((function(){return p.events&&p.events.value?p.events.value:[]}),[p]),w=(0,a.useCallback)((function(t,e){x({type:"LOADING_CHANGED",path:"events",isLoading:!0}),new Promise((function(n,a){var i,r=(null!==(i=p.rawData.value)&&void 0!==i?i:{metaData:[]}).metaData.slice();Object.keys(t).forEach((function(e){t[e]&&r.length&&((0,u.isArray)(t[e])?t[e].length&&(r=r.filter((function(n){return t[e].find((function(t){return t===n[e]}))}))):t[e]&&(r=r.filter((function(n){return n[e]===t[e]}))))}));var o=r.slice(0,e);x({type:"VALUE_CHANGE",path:"events",value:o,isLoading:!1}),n(o)}))}),[p]),_=(0,a.useCallback)((function(t){var e=(p.events&&p.events.value?p.events.value:[]).find((function(e){return e.stream_detail_id===t}));return e?Z(e,p.rawData.value.stationDataMap,p.rawData.value.locationDataMap,p.rawData.value.streamDetail):null}),[p]);function Z(t,e,n,a){return(0,l.Z)((0,l.Z)({},t),{},{station_description:e[t.station_id].station_description,station_url:e[t.station_id].station_url,lat:n[t.city_id].lat,long:n[t.city_id].long,url:e[t.station_id].url},a[t.stream_detail_id])}var C=(0,a.useCallback)((function(t){var e;if(t){var n,a=(null!==(n=p.rawData.value)&&void 0!==n?n:{metaData:[]}).metaData;return t.sort((function(t,e){return t-e})).map((function(t){return Z(a[t],p.rawData.value.stationDataMap,p.rawData.value.locationDataMap,p.rawData.value.streamDetail)}))}return(null!==(e=p.rawData.value)&&void 0!==e?e:{metaData:[]}).metaData.map((function(t){return Z(t,p.rawData.value.stationDataMap,p.rawData.value.locationDataMap,p.rawData.value.streamDetail)}))}),[p]),E=(0,a.useCallback)((function(t){return!!p[t]&&p[t].isLoading}),[p]);return(0,r.jsx)(i.Provider,{value:{getList:y,getEvents:D,requestEvents:w,getDistinctField:j,getDetail:_,getListError:b,getDownloadData:C,isLoading:E},children:e})};function x(){return(0,a.useContext)(i)}},78305:function(t,e,n){n.d(e,{X:function(){return a},e:function(){return i}});var a=[{accessorKey:"city",header:"City"},{accessorKey:"country",header:"Country"},{accessorKey:"station",header:"Station"},{accessorKey:"station_genre",header:"Station Genre"},{accessorKey:"stream_artist",header:"Artist"},{accessorKey:"stream_song",header:"Song"},{accessorKey:"time_station",header:"Time",filterDisable:!0}],i=a.filter((function(t){return!t.filterDisable}))},28605:function(t,e,n){n.r(e),n.d(e,{default:function(){return st}});var a=n(29439),i=n(72791),r=n(93539),o=n(1413),s=n(95321),l=n(74350),c=n(13967),u=n(42404),d=n(24003),h=n(25256),f=n(29464),g=n(90977),v=n(4567),m=n(40986),p=n(7607),x=n(99631),b=n(80184);function y(t){var e=t.children,n=t.pageTitle,a=t.onBackClick,y=t.isLoading,j=t.appBarContent,D=void 0===j?null:j,w=t.contentStyle,_=t.tabs,Z=void 0===_?null:_,C=(0,s.useTheme)().isRTL,E=(0,d.useOnline)(),k=(0,c.Z)(),L=((0,u.useConfig)().appConfig||{}).menu||{},R=L.width,S=void 0===R?240:R,A=L.appBarLeadingContent,I=void 0===A?null:A,M=(0,i.useContext)(l.default),P=M.toggleThis,z=M.isDesktop,G=M.isMenuOpen,T=(0,r.Z)(),N="";("string"===typeof n||n instanceof String)&&(N=n);return(0,b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[(0,b.jsx)(h.Z,{position:z?"absolute":void 0,sx:{width:G&&z?"calc(100% - ".concat(S,"px)"):void 0,zIndex:k.zIndex.drawer,transition:k.transitions.create(["width","margin"],{easing:k.transitions.easing.sharp,duration:k.transitions.duration.leavingScreen}),maxHeight:64,marginLeft:C?0:-12,marginRight:C?30:0,backgroundColor:"transparent",backgroundImage:"none",boxShadow:"none"},children:(0,b.jsxs)(f.Z,{children:[G&&z||!a&&(0,b.jsx)(g.Z,{color:"inherit","aria-label":"open drawer",onClick:function(){G?P("isMobileMenuOpen"):(P("isMiniMode",!1),P("isMenuOpen",!0),z||P("isMobileMenuOpen"))},edge:"start",children:(0,b.jsx)(p.Z,{})}),a&&(0,b.jsx)(g.Z,{color:"inherit","aria-label":"open drawer",onClick:a,children:(0,b.jsx)(x.Z,{})}),!a&&G&&!1,I,(0,b.jsx)(v.Z,{variant:"h6",color:"inherit",noWrap:!0,children:N}),(0,b.jsx)("div",{style:{flex:"1 1 auto"}}),D]})}),(0,b.jsx)("div",{style:{alignItems:"center",justifyContent:"flex-end",minHeight:64}}),y&&(0,b.jsx)(m.Z,{}),!E&&(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",height:15,backgroundColor:k.palette.secondary.main},children:(0,b.jsx)(v.Z,{variant:"caption",color:"textSecondary",noWrap:!0,children:T.formatMessage({id:"offline",defaultMessage:"Offline"})})}),Z,(0,b.jsx)("div",{style:(0,o.Z)({flex:1,overflow:"auto"},w),children:e})]})}var j=n(14101),D=n(34729),w=n(5849),_=n(88588),Z=n(22492),C=n(18060),E=n(64554),k=n.p+"static/media/earth-night.da273783100dfbfd07c0.jpg",L=n(51692),R=n(84136),S=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],A=R.BYU().range([.01,.7]),I=R.BYU().range([.1,.7]),M=(0,i.forwardRef)((function(t,e){var n=t.locs,r=t.countries,o=t.width,s=t.height,l=t.onSelect,c=t.zoomLoc,u=(0,i.useRef)(),d=(0,i.useState)("country"),h=(0,a.Z)(d,2),f=h[0],g=(h[1],(0,i.useState)()),v=(0,a.Z)(g,2),m=v[0],p=(v[1],(0,i.useState)(0)),x=(0,a.Z)(p,2),y=x[0],j=x[1],D=(0,i.useState)([{lat:-92.52824601944323,lng:38.31079101844495,altitude:1.8},{lat:51.58421865,lng:45.9571029,altitude:1.8},{lat:31.3037101,lng:-89.29276214,altitude:1.8},{lat:33.5842591,lng:-101.8804709,altitude:1.8}]),w=(0,a.Z)(D,2),_=w[0],Z=w[1],C=(0,i.useMemo)((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#454545",e=R.PKp(S),n=function(n){if(!n||""===n||""===n.trim)return"black";var a=e.domain();return a.find((function(t){return t===n}))||a.length<20?e(n):t};return n.domain=e.domain,n.range=e.range,n}()}),[]);function E(t){var e=t.locs,n=t.countries,a=R.Wem(e,(function(t){return t.count}));A.domain(a),I.domain(R.Wem(n,(function(t){return t.count}))),C.domain([]).range(S),n.forEach((function(t){return C(t.title)}));var i=0;return n.length>3&&[0,1,2,3,0].forEach((function(t){_[i]||(_[i]={lat:0,lng:0,altitude:1}),_[i].lat=n[t].lat,_[i].lng=n[t].long,i++})),{MAP_CENTERs:_}}(0,i.useEffect)((function(){var t=E({locs:n,countries:r}).MAP_CENTERs;Z(t),j(0)}),[n,r]);var M=(0,i.useState)(null),P=(0,a.Z)(M,2),z=P[0],G=P[1];(0,i.useEffect)((function(){if(u.current&&y<_.length){var t=setTimeout((function(){u.current.pointOfView(_[y],4e3),j(y+1)}),4e3);return G(t),function(){clearInterval(t)}}}),[y,_]);var T=(0,i.useCallback)((function(){z&&clearInterval(z),j(_.length)}),[z]),N=(0,i.useCallback)((function(t,e){u.current&&(T(),u.current.pointOfView({lat:e,lng:t,altitude:.8},2e3))}),[y,T]);return(0,i.useEffect)((function(){c&&N(c.lng,c.lat)}),[c]),(0,b.jsx)("div",{style:{background:"#000010",position:"relative"},children:(0,b.jsx)("div",{style:{transform:"translate(0, -20%)",height:"100vh"},children:(0,b.jsx)(L.Z,{width:o,height:s,ref:u,globeImageUrl:k,labelsData:r,labelLat:(0,i.useCallback)((function(t){return t.lat}),[]),labelLng:(0,i.useCallback)((function(t){return t.long}),[]),labelAltitude:(0,i.useCallback)((function(t){return m&&m.title===t.title?.15:.1}),[m]),labelText:(0,i.useCallback)((function(t){return t.title}),[]),labelSize:(0,i.useCallback)((function(t){return A(t.count)/3}),[]),labelDotRadius:0,labelColor:(0,i.useCallback)((function(t){var e;return m&&m.title===t.title?"#dd6700":null!==(e=t.color)&&void 0!==e?e:"white"}),[m]),labelResolution:2,hexBinPointsData:n,hexBinPointWeight:"count",hexBinPointLng:(0,i.useCallback)((function(t){return t.long}),[]),hexBinPointLat:(0,i.useCallback)((function(t){return t.lat}),[]),hexAltitude:(0,i.useCallback)((function(t){return A(t.sumWeight)}),[]),hexBinResolution:4,hexTopColor:(0,i.useCallback)((function(t){return C(t.points[0][f])}),[]),hexSideColor:(0,i.useCallback)((function(t){return C(t.points[0][f])}),[]),hexBinMerge:!1,hexLabel:(0,i.useCallback)((function(t){return'<div class="overlay-holder">\n            <div class="overlay-header">\n                <span><b>'.concat(R.Smz(t.points,(function(t){return t.count})),'</b> stations</span>\n            </div>\n            <div class="overlay-content">\n            <table>\n                <tbody><tr>').concat(t.points.slice().sort((function(t,e){return e.count-t.count})).map((function(t){return"<td>[".concat(t.count,"]</td><td>").concat(t.title,"</td>")})).join("</tr><tr>"),"</tr></tbody>\n            </table>\n            </div>\n          </div>")}),[]),onHexClick:function(t){console.log(t.points[0]);var e=[];t.points.forEach((function(t){t.city.forEach((function(t){return e.push(t[0])}))})),l({city:e,country:[t.points[0].country]})},onGlobeClick:T})})})})),P=M,z=n(56525),G=n(19628),T=(n(28920),n(78305)),N=n(65560),O=n(76730),B=function(t){var e=t.data,n=t.onSelectRow,r=t.highlightId,o=T.X,s=(0,i.useRef)(null),l=(0,i.useState)(!1),c=(0,a.Z)(l,2),u=c[0],d=c[1],h=(0,i.useState)([]),f=(0,a.Z)(h,2),g=f[0],v=f[1],m=(0,j.Wz)().getDownloadData;(0,i.useEffect)((function(){var t;null===(t=s.current)||void 0===t||t.scrollToIndex(0)}),[g]);return(0,b.jsx)(G.ZP,{columns:o,data:e,enableBottomToolbar:!1,enableGlobalFilterModes:!0,enableDensityToggle:!1,enablePagination:!1,enableRowVirtualization:!0,muiTableContainerProps:{sx:{maxHeight:"300px"}},initialState:{density:"compact"},onSortingChange:v,state:{isLoading:u,sorting:g},rowVirtualizerInstanceRef:s,rowVirtualizerProps:{overscan:8},muiTableBodyRowProps:function(t){var e=t.row;return{onClick:function(){n(e.original)},sx:{cursor:"pointer",opacity:r?r.stream_detail_id===e.original.stream_detail_id?1:.7:1}}},enableColumnResizing:!0,defaultColumn:{minSize:20,maxSize:9001,size:100},renderTopToolbarCustomActions:function(t){var e=t.table;return(0,b.jsxs)(E.Z,{sx:{display:"flex",gap:"1rem",p:"0.5rem",flexWrap:"wrap"},children:[(0,b.jsx)(w.Z,{color:"primary",target:"_blank",href:"https://texastechuniversity-my.sharepoint.com/:x:/g/personal/ngan_v_t_nguyen_ttu_edu/EWEu7l96MQ1Jgu8OBKspIR0BjmY1i0t6XlV6ROPCYcPkkA?download=1",startIcon:(0,b.jsx)(N.Z,{}),variant:"contained",children:"Download All Data"}),(0,b.jsx)(w.Z,{disabled:0===e.getPrePaginationRowModel().rows.length,onClick:function(){return function(t){d(!0);var e=m(t.map((function(t){return t.original.stream_detail_id}))),n={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,filename:"mirage-mc-".concat((new Date).toDateString()),useBom:!0,useKeysAsHeaders:!0};new O.ExportToCsv(n).generateCsv(e),d(!1)}(e.getPrePaginationRowModel().rows)},startIcon:(0,b.jsx)(N.Z,{}),variant:"contained",children:"Export Current Data"})]})}})},H=n(65469),U=n(94721),V=n(60220),W=n(72426),q=n.n(W),F=n(14642);var K=function(t){var e=t.data,n=t.onSelect;return(0,b.jsx)(_.Z,{sx:{height:"100%",overflowY:"auto"},children:(0,b.jsxs)(Z.Z,{children:[(0,b.jsx)(v.Z,{component:"div",variant:"h2",onClick:function(){return n({station:[e.station]},e)},children:e.station}),(0,b.jsx)(v.Z,{component:"div",variant:"subtitle1",color:"text.secondary",children:e.station_description}),(0,b.jsxs)("table",{style:{width:"100%"},children:[(0,b.jsxs)("colgroup",{children:[(0,b.jsx)("col",{style:{width:130}}),(0,b.jsx)("col",{})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Station Genre"}),(0,b.jsx)("td",{children:e.station_genre})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Station URL"}),(0,b.jsx)("td",{children:(0,b.jsx)(H.Z,{href:e.station_url,target:"_blank",color:"secondary",children:e.station_url})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Location"}),(0,b.jsx)("td",{children:(0,b.jsxs)(H.Z,{target:"_blank",color:"secondary",href:"https://maps.google.com/?q=".concat(e.lat,",").concat(e.long),children:[(0,b.jsx)(F.Z,{}),e.city,", ",e.country]})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Radio Garden URL"}),(0,b.jsx)("td",{children:(0,b.jsx)(H.Z,{href:e.url,target:"_blank",color:"secondary",children:e.station_url})})]}),(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colspan:"2",children:(0,b.jsx)(U.Z,{sx:{mt:2,mb:2}})})}),(0,b.jsxs)("tr",{onClick:function(){return n({stream_artist:[e.stream_artist]})},children:[(0,b.jsx)("td",{children:"Artist"}),(0,b.jsxs)("td",{style:{display:"flex"},children:[(0,b.jsx)(V.Z,{"aria-label":"recipe",sx:{mr:1},children:e.stream_artist[0]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(v.Z,{variant:"h5",color:"text.primary",children:e.stream_artist}),(0,b.jsx)(v.Z,{variant:"subtitle2",children:"N/A"})]})]})]}),(0,b.jsxs)("tr",{onClick:function(){return n({stream_song:[e.stream_song]})},children:[(0,b.jsx)("td",{children:"Song"}),(0,b.jsx)("td",{children:e.stream_song})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Time Monitored"}),(0,b.jsx)("td",{children:q()(e.time_station).format("LLL")})]})]})]})})},Y=n(4942),X=n(66934),J=n(12065),$=n(40139);(0,X.ZP)("div")((function(t){var e=t.theme;return(0,Y.Z)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,J.Fq)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,J.Fq)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"})})),(0,X.ZP)("div")((function(t){return{padding:t.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),(0,X.ZP)($.ZP)((function(t){var e=t.theme;return{color:"inherit","& .MuiInputBase-input":(0,Y.Z)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),")"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));var Q=n(69824),tt=n(78687),et=n(43416),nt=n(70492),at=function(t){var e=t.canUndo,n=t.canRedo,a=t.onUndo,i=t.onRedo;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Z,{onClick:a,disabled:!e,children:(0,b.jsx)(et.Z,{})}),(0,b.jsx)(g.Z,{onClick:i,disabled:!n,children:(0,b.jsx)(nt.Z,{})})]})},it={onUndo:Q.zF.undo,onRedo:Q.zF.redo},rt=at=(0,tt.$j)((function(t){return{canUndo:t.streamFilters.past.length>0,canRedo:t.streamFilters.future.length>0}}),it)(at),ot=n(49079),st=function(){var t=(0,tt.I0)(),e=((0,r.Z)(),(0,tt.v9)(ot.mj)),n=(0,j.Wz)(),o=n.getList,s=n.isLoading,l=n.getEvents,c=n.requestEvents,u=n.getDetail,d=(0,i.useState)(),h=(0,a.Z)(d,2),f=h[0],g=h[1],p=(0,i.useState)(),x=(0,a.Z)(p,2),k=x[0],L=x[1],R=(0,i.useRef)();(0,i.useEffect)((function(){}),[]);var S=s("rawData"),A=(s("events"),s("locs"));(0,i.useEffect)((function(){S||c(e,1e3)}),[S,e]);var I=(0,i.useCallback)((function(t){var e=t.stream_detail_id,n=u(e);g(n),L({lng:n.long,lat:n.lat})}),[l]),M=function(e,n){n&&L({lng:n.long,lat:n.lat}),t((0,ot.rr)({value:e}))};return(0,b.jsxs)(y,{appBarContent:(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(rt,{})}),children:[(0,b.jsx)("div",{style:{position:"absolute",top:0,left:0,zIndex:0,height:"100%",width:"100%",overflow:"hidden"},children:(0,b.jsx)(z.Z,{style:{height:"100%",width:"100%"},children:function(t){var e=t.height,n=t.width;return(0,b.jsx)(P,{locs:o("locs"),countries:o("countries"),onSelect:M,width:n,height:e,ref:R,zoomLoc:k})}})}),(0,b.jsxs)(D.Z,{container:!0,sx:{height:"100%",position:"relative",pointerEvents:"none"},direction:"column",justifyContent:"space-between",children:[(0,b.jsx)(D.Z,{sx:{pointerEvents:"none"},children:(0,b.jsx)(w.Z,{color:"secondary",children:"Station Map"})}),(0,b.jsxs)(D.Z,{container:!0,spacing:2,m:0,sx:{pointerEvents:"auto",maxHeight:450},alignItems:"end",children:[(0,b.jsx)(D.Z,{item:!0,xs:8,children:(0,b.jsx)(_.Z,{sx:{minHeight:275,backgroundColor:function(t){return lt(t.palette.background.paper)}},children:(0,b.jsxs)(Z.Z,{children:[(0,b.jsx)(v.Z,{children:"Event list"}),(0,b.jsx)(B,{data:l(),onSelectRow:I,highlightId:f})]})})}),f&&(0,b.jsx)(D.Z,{item:!0,xs:4,sx:{height:"100%"},children:(0,b.jsx)(_.Z,{sx:{height:"100%",backgroundColor:function(t){return lt(t.palette.background.paper)}},children:(0,b.jsx)(Z.Z,{sx:{height:"100%"},children:(0,b.jsx)(K,{data:f,onSelect:M})})})})]})]}),(0,b.jsx)(C.Z,{sx:{color:"#fff",zIndex:function(t){return t.zIndex.drawer+1}},open:S||A,children:(0,b.jsxs)(E.Z,{sx:{display:"flex",alignItems:"center",width:"50%",flexDirection:"column",textAlign:"center"},children:[(0,b.jsx)(E.Z,{sx:{width:"100%"},children:(0,b.jsx)(m.Z,{variant:"determinate",value:S?40:A?90:100})}),(0,b.jsx)(E.Z,{sx:{width:"100%"},children:(0,b.jsx)("h2",{children:S?"Read data....":A?"Process data...":"Done!"})})]})})]})};function lt(t){var e=(0,R.$_Y)(t);return e.opacity=.5,e.toString()}}}]);
//# sourceMappingURL=37.e97d1747.chunk.js.map