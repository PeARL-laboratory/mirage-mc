"use strict";(self.webpackChunkmirage_mc=self.webpackChunkmirage_mc||[]).push([[244],{11625:function(e,t,n){var r=n(45987),i=n(1413),o=n(72791),a=n(93539),l=n(13967),s=n(55931),c=n(65661),u=n(90977),d=n(95193),h=n(5574),f=n(4899),x=n(31701),m=n(77386),g=n(5849),p=n(29823),v=n(80184),j=["children","onClose"],Z=["isProcessing","isOpen","id","message","title","action","haveButton","handleAction","handleClose"],b=o.forwardRef((function(e,t){return(0,v.jsx)(s.Z,(0,i.Z)((0,i.Z)({direction:"up"},e),{},{ref:t}))}));function y(e){var t=e.children,n=e.onClose,o=(0,r.Z)(e,j);return(0,v.jsxs)(c.Z,(0,i.Z)((0,i.Z)({sx:{m:0,p:2}},o),{},{children:[t,n?(0,v.jsx)(u.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,v.jsx)(p.Z,{})}):null]}))}t.Z=function(e){var t=e.isProcessing,n=void 0!==t&&t,o=e.isOpen,s=void 0!==o&&o,c=(e.id,e.message),u=void 0===c?"":c,p=e.title,j=void 0===p?"":p,k=e.action,w=void 0===k?"":k,C=e.haveButton,S=void 0!==C&&C,_=e.handleAction,L=void 0===_?function(){}:_,z=e.handleClose,D=void 0===z?function(){}:z,R=(0,r.Z)(e,Z),M=(0,a.Z)(),I=(0,l.Z)(),E=(0,d.Z)(I.breakpoints.down("sm"));return(0,v.jsxs)(h.Z,(0,i.Z)((0,i.Z)({fullScreen:E,open:s,onClose:D,TransitionComponent:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},R),{},{children:[(0,v.jsx)(y,{id:"alert-dialog-title",onClose:D,children:j}),(0,v.jsx)(f.Z,{children:(0,v.jsx)(x.Z,{id:"alert-dialog-description",children:u})}),S&&(0,v.jsxs)(m.Z,{children:[(0,v.jsx)(g.Z,{onClick:D,color:"primary",children:M.formatMessage({id:"cancel",defaultMessage:"Cancel"})}),(0,v.jsx)(g.Z,{disabled:n,onClick:function(){L(D)},color:"secondary",children:w})]})]}))}},48563:function(e,t,n){n.d(t,{GS:function(){return y},xB:function(){return k},ZP:function(){return L}});var r=n(1413),i=n(29439),o=n(72791),a=n.p+"static/media/earth-night.da273783100dfbfd07c0.jpg",l=n.p+"static/media/earth-blue-marble.7deee995d548fe65faff.jpg",s=n(36431),c=n(75483),u=n(60183),d=n(5849),h=(n(26719),n(53329)),f=n(74165),x=n(15861),m=(n(88063),function(){var e=(0,x.Z)((0,f.Z)().mark((function e(t,n){var r,i,o,a;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.renderer(),i=t.scene(),o=t.camera(),r.render(i,o),a=r.domElement.toDataURL(),g(a,n);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g=function(e,t){var n=window.document.createElement("a");n.style="display:none;",n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),n.remove()},p=m,v=n(35585),j=n(42419),Z=n(13967),b=n(80184),y=20,k=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],w=c.BYU().range([.01,.7]),C=c.BYU().range([.3,.4]),S=c.BYU().range([.1,1]),_=(0,o.forwardRef)((function(e,t){var n=e.locs,f=e.countries,x=e.width,m=e.height,g=e.onSelect,_=e.onSelectLegend,L=e.zoomLoc,z=(e.toolbarRef,(0,o.useRef)()),D=(0,o.useRef)(),R=(0,o.useState)("country"),M=(0,i.Z)(R,2),I=M[0],E=(M[1],(0,o.useState)()),T=(0,i.Z)(E,2),B=T[0],P=T[1],F=(0,o.useState)(0),A=(0,i.Z)(F,2),O=A[0],W=A[1],U=(0,o.useState)([{lat:-92.52824601944323,lng:38.31079101844495,altitude:1.8},{lat:51.58421865,lng:45.9571029,altitude:1.8},{lat:31.3037101,lng:-89.29276214,altitude:1.8},{lat:33.5842591,lng:-101.8804709,altitude:1.8}]),G=(0,i.Z)(U,2),K=G[0],V=G[1],q=(0,o.useState)([]),Y=(0,i.Z)(q,2),H=Y[0],N=Y[1],X=(0,o.useState)({}),J=(0,i.Z)(X,2),$=(J[0],J[1]),Q=(0,Z.Z)(),ee=(0,o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ececec",t=c.PKp(k),n=function(n){if(!n||""===n||""===n.trim)return"black";var r=t.domain();return r.find((function(e){return e===n}))||r.length<y?t(n):e};return n.domain=t.domain,n.range=t.range,n}()}),[]);function te(e){var t=e.locs,n=e.countries,r={},i=c.Wem(t,(function(e){return null===e||void 0===e?void 0:e.count}));w.domain(i),C.domain(i),S.domain(c.Wem(n,(function(e){return r[e.title]=e,null===e||void 0===e?void 0:e.count}))),ee.domain([]).range(k),n.forEach((function(e){return ee(e.title)}));var o=0;return n.length>3&&[0,1,2,3,0].forEach((function(e){K[o]||(K[o]={lat:0,lng:0,altitude:1}),K[o].lat=n[e].lat,K[o].lng=n[e].long,o++})),{MAP_CENTERs:K,contriesMap:r}}(0,o.useEffect)((function(){var e=te({locs:n,countries:f}),t=e.MAP_CENTERs,r=e.contriesMap;$(r),V(t),L||W(0)}),[n,f]);var ne=(0,o.useState)(null),re=(0,i.Z)(ne,2),ie=re[0],oe=re[1];(0,o.useEffect)((function(){if(z.current&&O<K.length){var e=setTimeout((function(){z.current.pointOfView(K[O],4e3),W(O+1)}),4e3);return oe(e),function(){clearInterval(e)}}}),[O,K]);var ae=(0,o.useCallback)((function(){ie&&clearInterval(ie),W(K.length)}),[ie]),le=(0,o.useState)(null),se=(0,i.Z)(le,2),ce=se[0],ue=se[1],de=(0,o.useCallback)((function(e,t){if(z.current){ae(),z.current.pointOfView({lat:t,lng:e,altitude:1.2},2e3),N([{lng:e,lat:t}]),ce&&clearInterval(ce);var n=setTimeout((function(){N([])}),1e4);ue(n)}}),[O,ae,ce]);(0,o.useEffect)((function(){return L&&de(L.lng,L.lat),function(){ce&&clearInterval(ce)}}),[L]);var he=(0,o.useCallback)((function(){p(z.current,"MIRAGE-mc")}),[D,z]);(0,o.useEffect)((function(){_("selectCountry",(function(e){g({country:[e.title]}),de(e.long,e.lat)}))}),[de,g]);var fe=(0,o.useCallback)((function(){if(z.current){var e=(0,r.Z)({},z.current.pointOfView());e.altitude=e.altitude/2,z.current.pointOfView(e,2e3)}}),[z]),xe=(0,o.useCallback)((function(){if(z.current){var e=(0,r.Z)({},z.current.pointOfView());e.altitude=2*e.altitude,z.current.pointOfView(e,2e3)}}),[z]);return(0,b.jsxs)("div",{style:{background:"#ffffff",position:"relative"},children:[(0,b.jsx)("div",{ref:D,style:{},children:(0,b.jsx)(s.Z,{width:x,height:m,ref:z,globeImageUrl:"dark"===Q.palette.mode?a:l,backgroundColor:"dark"===Q.palette.mode?"black":"#7ec7f6",showAtmosphere:!0,ringsData:H,ringColor:function(){return"#D39F49"},ringResolution:1e3,ringMaxRadius:5,ringPropagationSpeed:5,ringRepeatPeriod:500,labelsData:f,labelLat:(0,o.useCallback)((function(e){return e.lat}),[]),labelLng:(0,o.useCallback)((function(e){return e.long}),[]),labelAltitude:(0,o.useCallback)((function(e){return B&&B.country===e.title?.05:.02}),[B]),labelText:(0,o.useCallback)((function(e){return e.title}),[]),labelSize:(0,o.useCallback)((function(e){return B&&B.country===e.title?1:C(null===e||void 0===e?void 0:e.count)}),[B]),labelDotRadius:0,labelColor:(0,o.useCallback)((function(e){var t;return null!==(t=e.color)&&void 0!==t?t:"white"}),[B]),labelResolution:2,hexBinPointsData:n,hexBinPointWeight:"count",hexBinPointLng:(0,o.useCallback)((function(e){return e.long}),[]),hexBinPointLat:(0,o.useCallback)((function(e){return e.lat}),[]),hexAltitude:(0,o.useCallback)((function(e){return w(e.sumWeight)}),[]),hexBinResolution:4,hexTopColor:(0,o.useCallback)((function(e){return ee(e.points[0][I])}),[]),hexSideColor:(0,o.useCallback)((function(e){return ee(e.points[0][I])}),[]),hexBinMerge:!1,onHexHover:(0,o.useCallback)((function(e){P(e?e.points[0]:void 0)}),[]),hexLabel:(0,o.useCallback)((function(e){return'<div class="overlay-holder">\n            <div class="overlay-header">\n                <span><b>'.concat(c.Smz(e.points,(function(e){return null===e||void 0===e?void 0:e.count})),'</b> stations</span>\n            </div>\n            <div class="overlay-content">\n            <table>\n                <tbody><tr>').concat(e.points.slice().sort((function(e,t){return(null===t||void 0===t?void 0:t.count)-(null===e||void 0===e?void 0:e.count)})).map((function(e){return"<td>[".concat(null===e||void 0===e?void 0:e.count,"]</td><td>").concat(e.title,"</td>")})).join("</tr><tr>"),"</tr></tbody>\n            </table>\n            </div>\n          </div>")}),[]),onHexClick:function(e){var t,n=[];e.points.forEach((function(e){n.push(e.city)})),g({city:n,country:[null===(t=e.points[0])||void 0===t?void 0:t.country]})},onGlobeClick:ae})}),(0,b.jsxs)(u.Z,{orientation:"vertical","aria-label":"map tool",variant:"contained",sx:{position:"absolute",right:0,top:0,margin:1,"& button":{padding:1}},children:[(0,b.jsx)(d.Z,{onClick:he,children:(0,b.jsx)(h.Z,{})}),(0,b.jsx)(d.Z,{onClick:fe,children:(0,b.jsx)(j.Z,{})}),(0,b.jsx)(d.Z,{onClick:xe,children:(0,b.jsx)(v.Z,{})})]})]})})),L=_},78305:function(e,t,n){n.d(t,{XU:function(){return l},dS:function(){return s},eb:function(){return c}});n(72426);var r=n(13034),i=n(90462),o=n(32588),a=n(80184),l=[{id:"inBasket",header:"Selected",accessorKey:"inBasket",Cell:function(e){e.renderedCellValue;var t=e.row;return(0,a.jsx)(r.Z,{disabled:!0,icon:(0,a.jsx)(i.Z,{}),checkedIcon:(0,a.jsx)(o.Z,{color:"secondary"}),checked:t.original.inBasket})}},{accessorKey:"city",header:"City"},{accessorKey:"country",header:"Country"},{accessorKey:"station",header:"Station"},{accessorKey:"station_genre",header:"Station Genre"},{accessorKey:"stream_artist",header:"Artist",dynamic:!0},{accessorKey:"track_name",header:"Song",dynamic:!0}],s=l.filter((function(e,t){return t})),c=l.filter((function(e){return!e.filterDisable}))},5797:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(45987),i=n(1413),o=n(29439),a=n(72791),l=n(78687),s=n(49079),c=(n(69824),n(80915)),u=n(36314),d=n(93006),h=n(46314),f=n(78305),x=n(20250),m=n(77262),g=n(80184),p=["children","role"],v=a.forwardRef((function(e,t){var n=e.children,o=e.role,l=(0,r.Z)(e,p),s=Array.isArray(n)?n.length:0,c=(0,a.useRef)(null);return(0,g.jsx)("div",{ref:t,role:o,children:(0,g.jsx)("div",(0,i.Z)((0,i.Z)({},l),{},{ref:c,children:(0,g.jsx)(m.ViewportList,{viewportRef:c,items:n,count:s,children:function(e){var t=e.props,n=e.type;return(0,a.createElement)(n,(0,i.Z)((0,i.Z)({},t),{},{key:t.id}))}})}))})})),j=["onInputChange"],Z=(0,c.D)(),b=function(e,t){return Z(e,t).slice(0,50)};function y(){var e=(0,l.v9)(s.mj),t=(0,l.I0)(),n=(0,a.useState)({}),r=(0,o.Z)(n,2),c=r[0],h=r[1],m=(0,x.Wz)(),p=m.isLoading,j=m.searchByStream,Z=m.getList,y=Z("fields");return(0,a.useEffect)((function(){h((0,i.Z)({},y))}),[y]),(0,g.jsx)(u.Z,{spacing:2,padding:2,children:f.eb.map((function(n){var r,o;return(0,g.jsx)(k,{multiple:!0,size:"small",limitTags:2,filterOptions:b,ListboxComponent:v,freeSolo:!0,options:null!==(r=n.dynamic?Z("search-".concat(n.accessorKey)):c[n.accessorKey])&&void 0!==r?r:[],loading:!!n.dynamic&&p("search-".concat(n.accessorKey)),getOptionLabel:function(e){return e},value:null!==(o=e[n.accessorKey])&&void 0!==o?o:[],onChange:function(e,r){t((0,s.Tv)({key:n.accessorKey,value:r}))},onInputChange:n.dynamic?function(e,t){t&&""!==t&&j(n.accessorKey,t)}:void 0,renderInput:function(e){return(0,g.jsx)(d.Z,(0,i.Z)((0,i.Z)({},e),{},{label:n.header}))}},n.accessorKey)}))})}function k(e){var t=e.onInputChange,n=void 0===t?function(){}:t,l=(0,r.Z)(e,j),s=a.useState(""),c=(0,o.Z)(s,2),u=c[0],d=c[1];return(0,g.jsx)(h.Z,(0,i.Z)({inputValue:u,onInputChange:function(e,t,r){d(t),n(e,t,r)},onBlur:function(){d("")}},l))}},7655:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(36314),i=n(60183),o=n(5849),a=n(68087),l=n(65370),s=n(80184);function c(e){var t=e.title,n=e.onChange;return(0,s.jsxs)(r.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[t,(0,s.jsxs)(i.Z,{size:"small",variant:"outlined","aria-label":"outlined button group",sx:{color:"unset"},children:[(0,s.jsx)(o.Z,{sx:{color:"unset"},onClick:function(){return n(!0)},children:(0,s.jsx)(a.Z,{})}),(0,s.jsx)(o.Z,{sx:{color:"unset"},onClick:function(){return n(!1)},children:(0,s.jsx)(l.Z,{})})]})]})}},26719:function(e,t,n){n.d(t,{x:function(){return a}});var r=n(1413),i=n(36395),o=n(75483);function a(e){var t=(0,o.$_Y)(e);return t.opacity=.5,t.toString()}t.Z=function(e,t,n,o,a){if(t)for(var l=0;l<t.length;l++)if(t[l].id===e){var s=t[l].source,c=null!=s&&s instanceof Function?s(n?"dark":"light",a):s,u=null!=c?c.palette:{};return(0,i.Z)((0,r.Z)((0,r.Z)({},c),{},{palette:(0,r.Z)((0,r.Z)({},u),{},{mode:n?"dark":"light"}),direction:o?"rtl":"ltr"}))}return(0,i.Z)({palette:{mode:n?"dark":"light"},direction:o?"rtl":"ltr"})}},83688:function(e,t,n){n.r(t),n.d(t,{default:function(){return He}});var r=n(1413),i=n(29439),o=n(72791),a=n(93539),l=n(95321),s=(n(74350),n(13967)),c=n(42404),u=n(24003),d=n(25256),h=n(29464),f=n(90977),x=n(4567),m=n(40986),g=n(99631),p=n(80184);function v(e){var t=e.children,n=e.pageTitle,i=e.appBarLeftContent,o=void 0===i?null:i,v=e.onBackClick,j=e.isLoading,Z=e.appBarContent,b=void 0===Z?null:Z,y=e.contentStyle,k=e.tabs,w=void 0===k?null:k,C=(0,l.useTheme)().isRTL,S=(0,u.useOnline)(),_=(0,s.Z)(),L=((0,c.useConfig)().appConfig||{}).menu||{},z=(L.width,L.appBarLeadingContent),D=void 0===z?null:z,R=(0,a.Z)(),M="";return("string"===typeof n||n instanceof String)&&(M=n),(0,p.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[(0,p.jsx)(d.Z,{position:"absolute",sx:{width:void 0,zIndex:_.zIndex.drawer,transition:_.transitions.create(["width","margin"],{easing:_.transitions.easing.sharp,duration:_.transitions.duration.leavingScreen}),maxHeight:64,marginLeft:C?0:-12,marginRight:C?30:0,backgroundColor:"transparent",backgroundImage:"none",boxShadow:"none"},children:(0,p.jsxs)(h.Z,{sx:{backgroundColor:function(e){return"dark"===e.palette.mode?e.palette.background.default:e.palette.primary.dark},margin:0,padding:0},children:[v&&(0,p.jsx)(f.Z,{color:"inherit","aria-label":"open drawer",onClick:v,children:(0,p.jsx)(g.Z,{})}),D,o,(0,p.jsx)(x.Z,{variant:"h6",color:"inherit",noWrap:!0,children:M}),(0,p.jsx)("div",{style:{flex:"1 1 auto"}}),b]})}),(0,p.jsx)("div",{style:{alignItems:"center",justifyContent:"flex-end",minHeight:64}}),j&&(0,p.jsx)(m.Z,{}),!S&&(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",height:15,backgroundColor:_.palette.secondary.main},children:(0,p.jsx)(x.Z,{variant:"caption",color:"textSecondary",noWrap:!0,children:R.formatMessage({id:"offline",defaultMessage:"Offline"})})}),w,(0,p.jsx)("div",{style:(0,r.Z)({flex:1,overflow:"auto"},y),children:t})]})}var j=n(20250),Z=n(18060),b=n(64554),y=n(48563),k=n(56525),w=n(92145),C=(n(28920),n(78305)),S=n(97639),_=n(69265),L=n(25535),z=n(76730),D=n(53329),R=n(85172),M=n(5849),I=n(52744),E=n(82626);function T(e){var t=e.onDownloadSearchList,n=void 0===t?function(){}:t,r=e.onDownloadSelectedList,a=void 0===r?function(){}:r,l=o.useState(null),s=(0,i.Z)(l,2),c=s[0],u=s[1],d=Boolean(c),h=function(){u(null)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.Z,{color:"primary",target:"_blank",size:"small",startIcon:(0,p.jsx)(D.Z,{}),variant:"contained",onClick:function(e){u(e.currentTarget)},endIcon:(0,p.jsx)(R.Z,{}),children:"Download"}),(0,p.jsxs)(I.Z,{anchorEl:c,open:d,onClose:h,children:[(0,p.jsx)(E.Z,{onClick:function(){n(),h()},children:"Data from Search list"}),(0,p.jsx)(E.Z,{onClick:function(){a(),h()},children:"Data from Selected list"}),(0,p.jsx)(E.Z,{onClick:h,href:"https://texastechuniversity-my.sharepoint.com/:x:/g/personal/ngan_v_t_nguyen_ttu_edu/EWEu7l96MQ1Jgu8OBKspIR0BjmY1i0t6XlV6ROPCYcPkkA?download=1",children:"MIRAGE-MetaCorpus Song List"}),(0,p.jsx)(E.Z,{onClick:h,disabled:!0,children:"MIRAGE-MetaCorpus Station List"})]})]})}var B=function(e){var t=e.id,n=void 0===t?"tableevent":t,r=e.columns,a=e.data,l=e.totalData,s=e.selectedData,c=e.disableAdding,u=e.isLoadingData,d=e.onSelectRow,x=e.highlightId,m=e.onSendToList,g=e.onRemoveFromList,v=(0,o.useState)({}),Z=(0,i.Z)(v,2),y=Z[0],k=Z[1],C=(0,o.useRef)(null),D=(0,o.useState)(!1),R=(0,i.Z)(D,2),M=R[0],I=R[1],E=(0,o.useState)([]),B=(0,i.Z)(E,2),P=B[0],F=B[1],A=(0,j.Wz)().getDownloadData;(0,o.useEffect)((function(){try{var e,t;null===(e=C.current)||void 0===e||null===(t=e.scrollToIndex)||void 0===t||t.call(e,0)}catch(n){console.error(n)}}),[P]),(0,o.useEffect)((function(){k({})}),[a]);var O=function(e){I(!0),A(e).then((function(e){var t={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,filename:"mirage-mc-".concat((new Date).toDateString()),useBom:!0,useKeysAsHeaders:!0};new z.ExportToCsv(t).generateCsv(e),I(!1)})).catch((function(e){I(!1)}))};return(0,p.jsx)(w.P2,{id:n,columns:r,data:a,enableGlobalFilterModes:!0,enableDensityToggle:!1,enablePagination:!1,enableRowSelection:!0,enableRowVirtualization:!0,muiTablePaperProps:{sx:{display:"flex",flexDirection:"column",height:"100%"}},initialState:{density:"compact"},onSortingChange:F,onRowSelectionChange:k,state:{isLoading:u||M,sorting:P,rowSelection:y},rowVirtualizerInstanceRef:C,rowVirtualizerProps:{overscan:2},muiTableBodyRowProps:function(e){var t=e.row;return{onClick:function(){d(t.original)},sx:{cursor:"pointer",opacity:x?x._id===t.original._id?1:.7:1}}},enableColumnResizing:!0,enableFullScreenToggle:!1,defaultColumn:{minSize:20,maxSize:9001,size:100},positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:function(e){e.table;return(0,p.jsx)(b.Z,{sx:{display:"flex",gap:"1rem",p:"0.5rem",flexWrap:"no-wrap"},children:(0,p.jsx)(T,{onDownloadSearchList:function(){return O(l)},onDownloadSelectedList:function(){return O(s)}})})},renderBottomToolbar:function(e){var t=e.table,n=m?function(){m(t.getSelectedRowModel().flatRows.map((function(e){return e.original})))}:function(){},r=g?function(){g(t.getSelectedRowModel().flatRows.map((function(e){return e.original})))}:function(){};return(0,p.jsxs)(h.Z,{sx:{display:Object.keys(y).length?"flex":"none"},children:[(0,p.jsx)(b.Z,{sx:{flexGrow:2},children:(0,p.jsx)(w.Bm,{stackAlertBanner:!0,table:t})}),m&&!c&&(0,p.jsx)(S.Z,{title:"Add to Selected list",children:(0,p.jsx)(f.Z,{onClick:n,variant:"contained",children:(0,p.jsx)(_.Z,{})})}),g&&(0,p.jsx)(S.Z,{title:"Remove from Selected list",children:(0,p.jsx)(f.Z,{onClick:r,variant:"contained",children:(0,p.jsx)(L.Z,{})})})]})}},n)},P=(n(73457),n(69824)),F=n(78687),A=n(43416),O=n(70492),W=function(e){var t=e.canUndo,n=e.canRedo,r=e.onUndo,i=e.onRedo;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.Z,{onClick:r,disabled:!t,children:(0,p.jsx)(A.Z,{})}),(0,p.jsx)(f.Z,{onClick:i,disabled:!n,children:(0,p.jsx)(O.Z,{})})]})},U={onUndo:P.zF.undo,onRedo:P.zF.redo},G=W=(0,F.$j)((function(e){return{canUndo:e.streamFilters.past.length>0,canRedo:e.streamFilters.future.length>0}}),U)(W),K=n(49079),V=(n(26719),n(88240),n(97718)),q=n(24308),Y=n(45987),H=n(36314),N=n(65469),X=n(85771),J=n(81153),$=n(60220),Q=n(94721),ee=n(72426),te=n.n(ee),ne=n(14642),re=n(81131),ie=(n(81406),n(66934)),oe=n(4841),ae=(0,ie.ZP)(oe.Z)((function(e){var t=e.theme;return{padding:t.spacing(1),borderRadius:10,transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),le=ae,se=n(68286);function ce(e){var t=e.inputData,n=e.axisInfo,r=e.height,a=e.width,l=(e.highlight,(0,s.Z)()),c=(0,o.useState)([]),u=(0,i.Z)(c,2),d=u[0],h=u[1];(0,o.useEffect)((function(){if(n.length&&t.length){var e=t.map((function(e){var t={type:"scatterpolar",r:[],theta:[],fill:"toself"};return n.forEach((function(n,r){var i;t.r[r]=null!==(i=e[n.key])&&void 0!==i?i:void 0,t.theta[r]=n.label})),t.r.push(t.r[0]),t.theta.push(t.theta[0]),t}));h(e)}else h([])}),[t,n]);var f=(0,o.useMemo)((function(){return{paper_bgcolor:"rgba(255,255,255,0)",plot_bgcolor:"rgba(255,255,255,0)",autoscale:!1,height:r,width:a,margin:{t:40,r:20,l:20,b:40},font:{family:l.typography.fontFamily,size:l.typography.fontSize,color:l.palette.text.primary},polar:{radialaxis:{visible:!0,range:[0,1]}},showlegend:!1}}),[r,a,l]);return(0,p.jsx)(se.Z,{data:d,layout:f,config:{displaylogo:!1,toImageButtonOptions:{format:"svg",filename:"Station_Map",height:1080,width:1920,scale:1},showEditInChartStudio:!0,plotlyServerURL:"https://chart-studio.plotly.com"}})}var ue=n(93433),de=n(75483),he=(0,de.BYU)().range([5,20]),fe=(0,de.BYU)().domain([7e-4,.0014,.003,.006,.012,.024,.048,.096,.192,.3712,.768,1.536,3.072,6.144,11.8784,23.7568,47.5136,98.304,190.0544,360]).range((0,de.w6H)(0,20).map((function(e){return 20-e})));function xe(e){var t=e.locs,n=e.height,r=e.width,a=e.highlight,l=(0,s.Z)(),c=(0,o.useState)([]),u=(0,i.Z)(c,2),d=u[0],h=u[1],f=(0,o.useState)({center:{lon:0,lat:0},zoom:1}),x=(0,i.Z)(f,2),m=x[0],g=x[1];(0,o.useEffect)((function(){try{if(t.length){var e=l.palette.primary.main;he.domain((0,de.Wem)(t,(function(e){return null===e||void 0===e?void 0:e.count})));var n=[],r=[],i=[],o=[];t.forEach((function(e){n.push(e.long),r.push(e.lat),i.push(he(null===e||void 0===e?void 0:e.count)),o.push("".concat(e.title," (").concat(null===e||void 0===e?void 0:e.count,")"))}));var s=he.ticks(2),c=s.map((function(e){return he(e)})),u=s.map((function(t,n){return{mapbox:"mapboxTick",type:"scattermapbox",name:"".concat(t),lon:[0],lat:[0],x:[0],y:[0],marker:{color:e,size:c[n]},visible:"legendonly"}})),d=[{type:"scattermapbox",lon:n,lat:r,hoverinfo:"text",text:o,showlegend:!1,marker:{size:i,color:e,line:{color:"black"}},name:"stream"}].concat((0,ue.Z)(u)),f=(0,de.Wem)(t,(function(e){return null===e||void 0===e?void 0:e.long})),x=(0,de.Wem)(t,(function(e){return null===e||void 0===e?void 0:e.lat})),m={lon:(f[1]+f[0])/2,lat:(x[1]+x[0])/2},p=Math.min(10,Math.min(fe(1.2*(f[1]-f[0])*2),fe(1.2*(x[1]-x[0])))/1.5);if(g({zoom:p,center:m}),a){var v=t.find((function(e){return e.city_id===a.city_id}));v&&d.push({type:"scattermapbox",lon:[v.long],lat:[v.lat],hoverinfo:"text",text:["".concat(v.title," (").concat(null===v||void 0===v?void 0:v.count,")")],showlegend:!0,marker:{size:[he(v.count)],color:"red",line:{color:"black"}},name:v.title})}h(d)}else h([])}catch(j){}}),[t,a]);var v=(0,o.useMemo)((function(){return{paper_bgcolor:l.palette.background.paper,plot_bgcolor:"rgba(0,0,0,0)",autoscale:!1,height:n,width:r,margin:{t:10,r:10,l:10,b:10},mapboxTick:{style:"whitebg"},mapbox:{style:"carto-positron",center:m.center,zoom:m.zoom},font:{family:l.typography.fontFamily,size:l.typography.fontSize,color:l.palette.text.primary},legend:{title:{text:"#Streams"},showticksuffix:"last",x:1,xanchor:"right",y:0,orientation:"h"}}}),[n,r,l,m]);return(0,p.jsx)(se.Z,{data:d,layout:v,config:{displaylogo:!1,toImageButtonOptions:{format:"svg",filename:"Station_Map",height:1080,width:1920,scale:1},showEditInChartStudio:!0,plotlyServerURL:"https://chart-studio.plotly.com","#Station":!1}})}var me=n(17237),ge=["expand"];(0,ie.ZP)((function(e){e.expand;var t=(0,Y.Z)(e,ge);return(0,p.jsx)(re.Z,(0,r.Z)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));var pe=function(e){var t,n,r,i=e.data,a=e.onSelect,l=te()(i.time_station).format("LLL"),s=te().utc(1e3*i.track_duration).format("HH:mm:ss"),c=null!==(t=i.stream_title)&&void 0!==t?t:"N/A",u=(0,o.useMemo)((function(){return[i]}),[i]),d=(0,o.useMemo)((function(){return[{key:"track_danceability",label:"Danceability"},{key:"track_speechiness",label:"Speechiness"},{key:"track_acousticness",label:"Acousticness"},{key:"track_instrumentalness",label:"Instrumentalness"},{key:"track_liveness",label:"Liveness"},{key:"track_energy",label:"Energy"},{key:"track_valence",label:"Valence"}]}),[]);return(0,p.jsxs)(H.Z,{spacing:1,children:[(0,p.jsxs)(le,{children:[(0,p.jsxs)(x.Z,{component:"div",variant:"h2",onClick:function(){return a({station:[i.station]},i)},children:[i.station," ",(0,p.jsx)(x.Z,{component:"span",variant:"subtitle1",children:null!==(n=i.station_frequency)&&void 0!==n?n:"_"})]}),(0,p.jsx)(x.Z,{component:"div",variant:"subtitle1",color:"text.secondary",children:i.station_description}),(0,p.jsxs)("table",{style:{width:"100%"},children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{style:{width:130}}),(0,p.jsx)("col",{})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Station URL"}),(0,p.jsx)("td",{children:(0,p.jsx)(N.Z,{href:i.station_url,target:"_blank",color:"secondary",children:i.station_url})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Location"}),(0,p.jsx)("td",{children:(0,p.jsxs)(N.Z,{target:"_blank",color:"secondary",href:"https://maps.google.com/?q=".concat(i.lat,",").concat(i.long),children:[(0,p.jsx)(ne.Z,{}),i.city,", ",i.country]})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Radio Garden URL"}),(0,p.jsx)("td",{children:(0,p.jsx)(N.Z,{href:i.url,target:"_blank",color:"secondary",children:i.url})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Genre"}),(0,p.jsx)("td",{children:i.station_genre&&(0,p.jsx)(H.Z,{direction:"row",spacing:1,flexWrap:!0,sx:{width:"100%",flexWrap:"wrap"},children:i.station_genre.map((function(e){return(0,p.jsx)(X.Z,{label:e,size:"small"},e)}))})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Description"}),(0,p.jsx)("td",{children:i.station_description})]})]})]}),(0,p.jsx)(le,{children:(0,p.jsxs)("table",{style:{width:"100%"},children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{style:{width:130}}),(0,p.jsx)("col",{})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Stream name"}),(0,p.jsx)("td",{children:c})]})]})}),(0,p.jsx)(le,{elevation:3,children:(0,p.jsxs)(J.ZP,{container:!0,spacing:1,children:[(0,p.jsx)(J.ZP,{item:!0,xs:12,children:(0,p.jsxs)(x.Z,{color:"text.secondary",gutterBottom:!0,children:[" ",l]})}),(0,p.jsxs)(J.ZP,{item:!0,xs:6,children:[(0,p.jsx)(x.Z,{variant:"h4",component:"div",onClick:i.track_name?function(){return a({track_name:[i.track_name]})}:null,children:i.track_name}),i.track_year_released&&(0,p.jsxs)(x.Z,{color:"text.secondary",gutterBottom:!0,children:[" ",i.track_year_released]}),i.track_duration&&(0,p.jsxs)(x.Z,{color:"text.secondary",gutterBottom:!0,children:["Duration: ",(0,p.jsx)(X.Z,{label:s,size:"small"})]}),i.track_popularity&&(0,p.jsxs)(x.Z,{color:"text.secondary",gutterBottom:!0,children:["Popularity: ",(0,p.jsx)(X.Z,{icon:(0,p.jsx)(me.Z,{}),label:i.track_popularity,size:"small"})]}),i.track_genre&&(0,p.jsx)(X.Z,{label:i.track_genre,size:"small"}),i.track_loudness&&(0,p.jsxs)(x.Z,{color:"text.secondary",gutterBottom:!0,children:["Loudness: ",(0,p.jsx)(X.Z,{label:"".concat(i.track_loudness," db"),size:"small"})]})]}),i.artist_info&&(0,p.jsxs)(J.ZP,{item:!0,xs:6,children:[(0,p.jsxs)(b.Z,{sx:{flex:"1 0 auto",display:"flex"},children:[(0,p.jsx)($.Z,{"aria-label":"recipe",src:i.artist_info.artist_image_url,sx:{mr:1},children:i.artist_info.artist_name[0]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(x.Z,{variant:"h5",color:"text.primary",children:i.artist_info.artist_name}),(0,p.jsxs)(x.Z,{variant:"subtitle2",children:["from ",null!==(r=i.artist_info.artist_country)&&void 0!==r?r:"N/A"]})]})]}),i.artist_info.artist_genres&&i.artist_info.artist_genres.map((function(e){return(0,p.jsx)(X.Z,{label:e,size:"small"},e)}))]}),(0,p.jsx)(J.ZP,{item:!0,xs:12,children:i.track_instrumentation&&i.track_instrumentation.length?(0,p.jsxs)(H.Z,{direction:"row",spacing:1,flexWrap:!0,sx:{width:"100%",flexWrap:"wrap"},children:[(0,p.jsx)(x.Z,{children:"Instruments: "}),i.track_instrumentation.map((function(e){return(0,p.jsx)(X.Z,{label:e,size:"small"},e)}))]}):""}),(0,p.jsxs)(J.ZP,{item:!0,xs:6,children:[(0,p.jsxs)(J.ZP,{container:!0,children:[(0,p.jsx)(Q.Z,{sx:{mt:2,mb:2,flexGrow:1}}),(0,p.jsx)(x.Z,{variant:"h5",component:"div",sx:{margin:"auto"},children:"Metrics"}),(0,p.jsx)(Q.Z,{sx:{mt:2,mb:2,flexGrow:1}})]}),(0,p.jsx)(k.Z,{style:{height:300,width:"100%"},children:function(e){var t=e.height,n=e.width;return(0,p.jsx)(ce,{inputData:u,axisInfo:d,height:t-40,width:n})}})]}),(0,p.jsx)(J.ZP,{item:!0,xs:6,children:(0,p.jsxs)(J.ZP,{container:!0,children:[(0,p.jsx)(Q.Z,{sx:{mt:2,mb:2,flexGrow:1}}),(0,p.jsxs)(x.Z,{variant:"h5",component:"div",sx:{margin:"auto"},children:["Lyrics ",i.track_language?"(".concat(i.track_language,")"):""]}),(0,p.jsx)(Q.Z,{sx:{mt:2,mb:2,flexGrow:1}})]})})]})})]})};function ve(e){var t=e.currentDetail,n=e.onSelect;e.sx;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(q.Z,{container:!0,style:{height:"100%",width:"100%",padding:10,overflow:"auto"},m:0,flexDirection:"column",flexWrap:"nowrap",sx:{bgcolor:function(e){return e.palette.background.paper},color:function(e){return e.palette.primary.contrastText}},children:t?(0,p.jsx)(pe,{data:t,onSelect:n}):(0,p.jsx)(p.Fragment,{children:"Select from Event List"})})})}var je=n(57689);var Ze=n(94258);function be(e){var t=e.currentDetail,n=e.locs,r=e.events,a=(0,o.useState)([]),l=(0,i.Z)(a,2),s=l[0],c=l[1];return(0,o.useEffect)((function(){try{var e={};n.forEach((function(t){return e[t.city_id]=t}));var t=(0,de.Xxj)(r,(function(e){return e.city_id})).map((function(t){var n,r,o,a=(0,i.Z)(t,2),l=a[0],s=a[1];return{title:null===(n=e[l])||void 0===n?void 0:n.title,city_id:l,count:s.length,lat:null===(r=e[l])||void 0===r?void 0:r.lat,long:null===(o=e[l])||void 0===o?void 0:o.long}}));c(t)}catch(o){}}),[n,r]),(0,p.jsx)(k.Z,{style:{height:"100%",width:"100%"},children:function(e){var n=e.height,r=e.width;return(0,p.jsx)(xe,{height:n,width:r,locs:s,highlight:t})}})}var ye=n(4942),ke=n(12065),we=n(5403),Ce=n(11625),Se=n(5797);function _e(){var e=(0,o.useState)(),t=(0,i.Z)(e,2),n=t[0],r=t[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.Z,{size:"small",sx:function(e){return(0,ye.Z)({position:"relative",borderRadius:e.shape.borderRadius,borderColor:(0,ke.Fq)(e.palette.common.white,.5),borderStyle:"solid",backgroundColor:(0,ke.Fq)(e.palette.common.white,.15),textTransform:"none","&:hover":{backgroundColor:(0,ke.Fq)(e.palette.common.white,.25)},width:"100%",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"})},startIcon:(0,p.jsx)(we.Z,{}),variant:"contained",onClick:function(){return r(!0)},children:(0,p.jsx)(x.Z,{variant:"span",children:"Search..."})}),(0,p.jsx)(Ce.Z,{isOpen:n,id:"searchFilter",title:"Search",message:(0,p.jsx)(Se.Z,{}),handleClose:function(){return r(!1)},fullWidth:!0,maxWidth:"sm",scroll:"paper"})]})}var Le=["expand"];(0,ie.ZP)((function(e){e.expand;var t=(0,Y.Z)(e,Le);return(0,p.jsx)(re.Z,(0,r.Z)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));var ze=function(e){var t,n=e.data,r=e.onSelect;return(0,p.jsxs)(H.Z,{spacing:1,children:[(0,p.jsx)(le,{children:(0,p.jsxs)(J.ZP,{container:!0,spacing:1,children:[(0,p.jsxs)(J.ZP,{item:!0,xs:6,children:[(0,p.jsx)(x.Z,{variant:"h4",component:"div",onClick:n.track_name?function(){return r({track_name:[n.track_name]})}:null,children:n.track_name}),n.year_released&&(0,p.jsxs)(x.Z,{color:"text.secondary",gutterBottom:!0,children:[" ",n.year_released]}),n.track_name_genre&&(0,p.jsx)(X.Z,{label:n.track_name_genre,size:"small"})]}),n.artist_info&&(0,p.jsxs)(J.ZP,{item:!0,children:[(0,p.jsxs)(b.Z,{sx:{flex:"1 0 auto",display:"flex"},children:[(0,p.jsx)($.Z,{"aria-label":"recipe",src:n.artist_info.artist_image_url,sx:{mr:1},children:n.artist_info.artist_name[0]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(x.Z,{variant:"h5",color:"text.primary",children:n.artist_info.artist_name}),(0,p.jsxs)(x.Z,{variant:"subtitle2",children:["from ",null!==(t=n.artist_info.artist_country)&&void 0!==t?t:"N/A"]})]})]}),n.artist_info.artist_genres&&n.artist_info.artist_genres.map((function(e){return(0,p.jsx)(X.Z,{label:e,size:"small"},e)}))]})]})}),(0,p.jsx)(le,{children:(n.spotify_uri||n.track_YouTubeID)&&(0,p.jsxs)(J.ZP,{item:!0,xs:12,children:[(0,p.jsxs)(J.ZP,{container:!0,children:[(0,p.jsx)(Q.Z,{sx:{mt:2,mb:2,flexGrow:1}}),(0,p.jsx)(x.Z,{variant:"h5",component:"div",sx:{margin:"auto"},children:"Music Platform"}),(0,p.jsx)(Q.Z,{sx:{mt:2,mb:2,flexGrow:1}})]}),n.spotify_uri&&(0,p.jsx)(J.ZP,{item:!0,xs:12,children:(0,p.jsx)("iframe",{loading:"lazy",src:n.spotify_uri.replace("com/track","com/embed/track"),width:"100%",height:"80",frameBorder:"0","data-mce-fragment":"1"})}),n.track_YouTubeID&&(0,p.jsx)(J.ZP,{item:!0,xs:12,children:(0,p.jsx)("iframe",{width:"100%",height:"auto",loading:"lazy",src:"https://www.youtube-nocookie.com/embed/".concat(n.track_YouTubeID),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})})]})};function De(e){var t=e.currentDetail,n=e.onSelect;e.sx;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(q.Z,{container:!0,style:{height:"100%",width:"100%",padding:10,overflow:"auto"},m:0,flexDirection:"column",flexWrap:"nowrap",sx:{bgcolor:function(e){return e.palette.background.paper},color:function(e){return e.palette.primary.contrastText}},children:t?(0,p.jsx)(ze,{data:t,onSelect:n}):(0,p.jsx)(p.Fragment,{children:"Select from Event List"})})})}var Re=n(62240),Me=n(7607),Ie=n(86966),Ee=n(75600),Te=n(76019),Be=n(56309),Pe=n(80349);function Fe(e){var t=e.intl,n=(0,o.useState)(null),r=(0,i.Z)(n,2),a=r[0],l=r[1],s=(0,Pe.useLocale)(),c=s.setLocale,u=s.locale,d=void 0===u?"en":u,h=Boolean(a);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(f.Z,{title:t.formatMessage({id:"language"}),onClick:function(e){l(e.currentTarget)},children:[(0,p.jsx)(Te.Z,{})," ",(0,p.jsx)("span",{style:{fontSize:"small",paddingLeft:5,textTransform:"uppercase"},children:d})]}),(0,p.jsx)(I.Z,{id:"language-menu","aria-labelledby":"demo-positioned-button",anchorEl:a,open:h,onClose:function(){l(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Be.Z.map((function(e){return(0,p.jsxs)(E.Z,{selected:e.locale===d,onClick:function(){return c(e.locale)},children:[(0,p.jsx)(Te.Z,{style:{paddingRight:5}})," ",t.formatMessage({id:e.locale})]},e.locale)}))})]})}var Ae=n(77111),Oe=n(7655);function We(e){var t=e.intl,n=(0,o.useState)(null),r=(0,i.Z)(n,2),a=r[0],l=r[1],s=(0,Pe.useLocale)(),c=(s.setLocale,s.locale,Boolean(a)),u=(0,F.I0)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.Z,{title:t.formatMessage({id:"Font size"}),onClick:function(e){l(e.currentTarget)},children:(0,p.jsx)(Ae.Z,{})}),(0,p.jsx)(I.Z,{id:"font-size-menu","aria-labelledby":"demo-positioned-button",anchorEl:a,open:c,onClose:function(){l(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,p.jsx)(b.Z,{sx:{paddingLeft:2,paddingRight:2},children:(0,p.jsx)(Oe.Z,{title:t.formatMessage({id:"Font size"}),onChange:function(e){u(e?{type:V.eR}:{type:V.zU})}})})})]})}var Ue=n(57064),Ge=n(13034),Ke=n(54214);function Ve(e){var t=e.intl,n=e.layoutItems,r=e.onChange,a=(0,o.useState)(null),l=(0,i.Z)(a,2),s=l[0],c=l[1],u=Boolean(s);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.Z,{title:t.formatMessage({id:"Layout"}),onClick:function(e){c(e.currentTarget)},children:(0,p.jsx)(Ke.Z,{})}),(0,p.jsx)(I.Z,{id:"layout-menu",anchorEl:s,open:u,onClose:function(){c(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object.keys(n).map((function(e){return(0,p.jsxs)(E.Z,{onClick:function(){return r(e,n[e],!n[e].val)},children:[(0,p.jsx)(Ue.Z,{children:(0,p.jsx)(Ge.Z,{checked:n[e].val})}),t.formatMessage({id:n[e].key})]},e)}))})]})}function qe(e){var t=e.layoutItems,r=e.layoutItemsOnChange,s=void 0===r?function(){}:r,c=(0,a.Z)(),u=(0,F.I0)(),d=(0,l.useTheme)(),h=d.toggleThisTheme,m=d.isDarkMode,g=(0,o.useState)(null),v=(0,i.Z)(g,2),j=v[0],Z=v[1],y=(0,o.useState)(null),k=(0,i.Z)(y,2),w=(k[0],k[1],function(){Z(null)});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("img",{src:n(66949),loading:"lazy",style:{height:"auto",width:150}}),(0,p.jsx)(f.Z,{title:"About us",size:"small",sx:{transform:"translate(-10px,10px)"},onClick:function(){return u({type:V.O5,opened:!0})},children:(0,p.jsx)(Re.Z,{fontSize:"inherit"})}),(0,p.jsxs)(b.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,p.jsx)(f.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){Z(e.currentTarget)},color:"inherit",children:(0,p.jsx)(Me.Z,{})}),(0,p.jsxs)(I.Z,{id:"menu-appbar",anchorEl:j,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(j),onClose:w,sx:{display:{xs:"block",md:"none"}},children:[(0,p.jsx)(E.Z,{onClick:w,children:(0,p.jsxs)(x.Z,{textAlign:"center",children:[(0,p.jsx)(f.Z,{title:"Toggle theme",onClick:function(){h("isDarkMode")},children:m?(0,p.jsx)(Ie.Z,{}):(0,p.jsx)(Ee.Z,{})}),m?(0,p.jsx)(p.Fragment,{children:"Light Mode"}):(0,p.jsx)(p.Fragment,{children:"Dark Mode"})]})}),(0,p.jsx)(E.Z,{onClick:w,children:(0,p.jsxs)(x.Z,{textAlign:"center",children:[(0,p.jsx)(Ve,{intl:c,layoutItems:t,onChange:s}),"Layout"]})}),(0,p.jsx)(E.Z,{onClick:w,children:(0,p.jsxs)(x.Z,{textAlign:"center",children:[(0,p.jsx)(We,{intl:c}),"Font size"]})}),(0,p.jsx)(E.Z,{onClick:w,children:(0,p.jsx)(x.Z,{textAlign:"center",children:(0,p.jsx)(Fe,{intl:c})})})]})]}),(0,p.jsxs)(b.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[(0,p.jsx)(f.Z,{title:"Toggle theme",onClick:function(){h("isDarkMode")},children:m?(0,p.jsx)(Ie.Z,{}):(0,p.jsx)(Ee.Z,{})}),(0,p.jsx)(Ve,{intl:c,layoutItems:t,onChange:s}),(0,p.jsx)(We,{intl:c}),(0,p.jsx)(Fe,{intl:c})]})]})}var Ye=n(66950),He=function(){var e=(0,F.I0)(),t=((0,a.Z)(),(0,F.v9)(K.mj)),n=(0,j.Wz)(),l=n.getList,s=n.isLoading,c=n.getEvents,u=n.requestEvents,d=n.requestDetail,h=n.getDetail,f=n.setFuncCollection,x=(0,o.useState)(),g=(0,i.Z)(x,2),w=g[0],S=g[1],_=(0,o.useState)({Earth:{key:"Earth View",val:!0},eventList:{key:"Song List",val:!0},eventDetail:{key:"Song Details",val:!0},eventMap:{key:"Song List Map",val:!0},mediaDetail:{key:"Listen",val:!0},eventSelectedList:{key:"Selected Songs",val:!1},eventSelectedListDetail:{key:"Song List Details",val:!1}}),L=(0,i.Z)(_,2),z=L[0],D=L[1],R=(0,o.useRef)(null),M=(0,o.useRef)(null),I=h(),E=(0,F.v9)((function(e){return e.seletedList.currentList})),T=(0,F.v9)((function(e){return Array.from(e.seletedList.items.values())}));!function(){var e=(0,je.TH)().search,t=(0,j.Wz)().requestDetail;(0,o.useMemo)((function(){var n=new URLSearchParams(e);if(n.get("id"))return t({_id:n.get("id")}),n}),[e])}();(0,o.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){S({lng:e.coords.longitude,lat:e.coords.latitude})}),(function(){})),e({type:V.O5,opened:!0})}),[]),(0,o.useEffect)((function(){I&&S({lng:I.long,lat:I.lat})}),[I]);var P=s("rawData"),A=s("events"),O=s("locs");(0,o.useEffect)((function(){P||u(t,1e3)}),[P,t]);var W=(0,o.useCallback)((function(e){d(e)}),[c]),U=(0,o.useCallback)((function(t,n){n&&S({lng:n.long,lat:n.lat}),e((0,K.rr)({value:t}))}),[]),q=(0,o.useState)((function(){return Ze.Model.fromJson({global:{tabEnableFloat:!0,tabSetMinWidth:100,tabSetMinHeight:100,borderMinSize:100},borders:[{type:"border",location:"top",size:400,active:!0,children:[]},{type:"border",location:"left",size:500,children:[{type:"tab",name:"Earth View",enableClose:!1,component:"Earth"}],selected:0}],layout:{type:"row",weight:100,children:[{type:"row",children:[{type:"tabset",weight:50,children:[{type:"tab",name:"Song List",component:"eventList"},{type:"tab",name:"Selected Songs",component:"eventSelectedList"}]},{type:"tabset",weight:50,children:[{type:"tab",name:"Song List Map",component:"eventMap"},{type:"tab",name:"Song Detail",component:"eventDetail"},{type:"tab",name:"Listen",component:"mediaDetail"}]}]}]}})})),Y=(0,i.Z)(q,2),H=Y[0],N=Y[1];(0,o.useEffect)((function(){e(Ye.cq.newList(c()))}),[c()]);var X=(0,o.useCallback)((function(e,t,n){if(M.current){if(n)M.current.addTabToActiveTabSet({name:t.key,component:e});else{var i=Object.keys(H._idMap).find((function(t){return H._idMap[t]._attributes.component===e}));i&&H.doAction(Ze.Actions.deleteTab(i))}z[e].val=n,D((0,r.Z)({},z))}}),[M,H]);return(0,p.jsxs)(v,{appBarLeftContent:(0,p.jsx)(qe,{layoutItems:z,layoutItemsOnChange:X}),appBarContent:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(_e,{}),(0,p.jsx)("div",{ref:R}),(0,p.jsx)(G,{})]}),children:[(0,p.jsx)("div",{style:{height:"100%",position:"relative",pointerEvents:"all",overflow:"hidden"},children:(0,p.jsx)(Ze.Layout,{model:H,ref:M,factory:function(t){switch(t.getComponent()){case"eventList":return(0,p.jsx)(B,{id:"eventListTable",data:null!==E&&void 0!==E?E:[],columns:C.XU,isLoadingData:A,onSelectRow:W,highlightId:I,totalData:E,selectedData:T,onSendToList:function(t){return e(Ye.cq.addsToBasket(t))},onRemoveFromList:function(t){return e(Ye.cq.removeItems(t))}});case"eventSelectedList":return(0,p.jsx)(B,{id:"eventSelectedListTable",data:T,columns:C.dS,isLoadingData:A,onSelectRow:W,highlightId:I,totalData:E,selectedData:T,disableAdding:!0,onSendToList:function(t){return e(Ye.cq.addsToBasket(t))},onRemoveFromList:function(t){return e(Ye.cq.removeItems(t))}});case"eventMap":return(0,p.jsx)(be,{currentDetail:I,events:c(),locs:l("locs")});case"eventDetail":return(0,p.jsx)(ve,{currentDetail:I,onSelect:U,events:c(),locs:l("locs"),sx:{height:"100%",position:"relative"}});case"mediaDetail":return(0,p.jsx)(De,{currentDetail:I,onSelect:U,events:c(),locs:l("locs"),sx:{height:"100%",position:"relative"}});case"Earth":return(0,p.jsx)(k.Z,{style:{height:"100%",width:"100%"},children:function(e){var t=e.height,n=e.width;return(0,p.jsx)(y.ZP,{locs:l("locs"),countries:l("countries"),onSelect:U,onSelectLegend:f,width:n,height:t,toolbarRef:R,zoomLoc:w})}});default:return""}},popoutURL:"#/popout",realtimeResize:!1,onModelChange:function(e){Object.keys(z).forEach((function(e){return z[e].val=!1})),Object.values(e._idMap).forEach((function(e){e._attributes.component&&z[e._attributes.component]&&(z[e._attributes.component].val=!0)})),D(z),N(e)}})}),(0,p.jsx)(Z.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:P||O,children:(0,p.jsxs)(b.Z,{sx:{display:"flex",alignItems:"center",width:"50%",flexDirection:"column",textAlign:"center"},children:[(0,p.jsx)(b.Z,{sx:{width:"100%"},children:(0,p.jsx)(m.Z,{variant:"determinate",value:P?40:O?90:100})}),(0,p.jsx)(b.Z,{sx:{width:"100%"},children:(0,p.jsx)("h2",{children:P?"Read data....":O?"Process data...":"Done!"})})]})})]})}},66949:function(e,t,n){e.exports=n.p+"static/media/logo.b446db507e3ae8242112.png"}}]);
//# sourceMappingURL=244.759145bb.chunk.js.map