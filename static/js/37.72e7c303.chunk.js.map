{"version":3,"file":"static/js/37.72e7c303.chunk.js","mappings":"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","sources":["Providers/Database/Context.js","Providers/Database/Provider.js","Providers/Database/index.js","components/EventTable/fields.js","containers/Page/Page.js","components/Earth/index.js","components/EventTable/index.js","components/DetailCard/index.js","components/SearchBar/index.js","containers/UndoRedo/index.js","pages/LandingPage/LandingPage.js"],"sourcesContent":["import React from 'react'\r\n\r\nexport const Context = React.createContext(null)\r\n\r\nexport default Context","import React, {useCallback, useEffect, useReducer} from 'react'\r\nimport Context from './Context'\r\nimport {groups as d3groups, group as d3group, mean as d3mean, csv as d3csv} from \"d3\"\r\nimport {isArray, uniq} from 'lodash';\r\nimport axios from 'axios';\r\nimport RG_stations_listed from \"./data/Jan_24_2023/stations_listed.csv\"\r\nimport RG_locations_listed from \"./data/Jan_24_2023/locations_listed.csv\"\r\nimport RG_metadata from \"./data/Jan_24_2023/metadata.csv\"\r\nimport RG_streamDetail from \"./data/Jan_24_2023/streamDetail.csv\"\r\n\r\nfunction reducer(state, action) {\r\n    const { type, path, isLoading=false,error = false,\r\n        hasError = false, value } = action;\r\n    switch (type) {\r\n        case \"LOADING_CHANGED\":\r\n            return { ...state, [path]: { ...state[path], isLoading } };\r\n        case \"VALUE_CHANGE\":\r\n            return {\r\n                ...state,\r\n                [path]: { ...state[path], value, isLoading, error, hasError },\r\n            };\r\n        case \"INIT\":\r\n            return {...state,isInit:value}\r\n        default:\r\n            throw new Error()\r\n    }\r\n}\r\n\r\nfunction handleData({stationData, locationData, metaData}) {\r\n    const groupByLocation = d3groups(stationData, d => d[\"city_id\"]);\r\n    // route\r\n    console.time('---group meta---')\r\n    const byLocName = d3group(locationData, d=>d['city_id']);\r\n    const metabyLocName = d3group(metaData,d=>d['city_id']);\r\n    console.timeEnd('---group meta---')\r\n\r\n    const locs = groupByLocation.map(d => {\r\n        const meta = metabyLocName.get(d[0])??[];\r\n        const locinfo = (byLocName.get(d[0])??[])[0]??{};\r\n        return {\r\n            ...locinfo,\r\n            \"title\": `${locinfo.city} - ${locinfo.country}`,\r\n            count: d[1].length,\r\n            values: d[1],\r\n            // genre: d3groups(meta,d=>d.station_genre).map(d=>{d.title=d[0];d.count=d[1].length;return d}),\r\n            city: [[locinfo.city,meta]].map(d=>{d.title=d[0];d.count=d[1].length;return d}),\r\n        }\r\n    });\r\n    locs.sort((a, b) => b.count - a.count);\r\n\r\n\r\n    const countries = d3groups(stationData, d => d[\"country\"]).map(d => {\r\n        return {\r\n            \"title\": d[0],\r\n            long: d3mean(d[1], e => e.long),\r\n            lat: d3mean(d[1], e => e.lat),\r\n            count: d[1].length,\r\n            values: d[1]\r\n        }\r\n    }).sort((a, b) => b.count - a.count);\r\n\r\n    return {locs, countries};\r\n}\r\nconst init = {rawData: {value:{stationData:[],\r\n            locationData:[],\r\n            metaData:[], streamDetail:[]}},\r\n    locs:{},\r\n    countries:{},\r\n    events: {},\r\n    loading:false,\r\n    error:false,\r\n    isInit:false\r\n}\r\nlet isfirst = 0;\r\nconst Provider = ({  children }) => {\r\n    const [state, dispatch] = useReducer(reducer, init);\r\n    useEffect(() => {\r\n        if ((!state.rawData.isLoading)&&(!state.rawData.value.metaData.length)) {\r\n            isfirst = 1;\r\n            try {\r\n                console.time('Load and process data');\r\n                console.time('-Load data-');\r\n                dispatch({type: 'LOADING_CHANGED', path: 'rawData', isLoading: true});\r\n                dispatch({type: 'LOADING_CHANGED', path: 'locs', isLoading: true});\r\n                dispatch({type: 'LOADING_CHANGED', path: 'countries', isLoading: true});\r\n                // load data\r\n                Promise.all([\r\n                    d3csv(RG_stations_listed),\r\n                    d3csv(RG_locations_listed),\r\n                    d3csv(RG_metadata),\r\n                    d3csv(RG_streamDetail),\r\n                ]).then(([stationData, locationData, metaData, streamDetail]) => {\r\n                    console.timeEnd('-Load data-');\r\n                    console.time('-Correct data-');\r\n                    const locationDataMap = {};\r\n                    locationData.forEach(d => {\r\n                        d.lat = (+d.longitude);\r\n                        d.long = (+d.latitude);\r\n                        delete d.longitude;\r\n                        delete d.latitude;\r\n                        locationDataMap[d['city_id']] = d;\r\n                    });\r\n                    let stationDataMap = {};\r\n                    stationData.forEach(d => {\r\n                        d.lat = locationDataMap[d['city_id']].lat;\r\n                        d.long = locationDataMap[d['city_id']].long;\r\n                        d.country = locationDataMap[d['city_id']].country;\r\n                        d.city = locationDataMap[d['city_id']].city;\r\n                        stationDataMap[d['station_id']] = d;\r\n                    });\r\n\r\n                    metaData.forEach((d) => {\r\n                        d.station_genre = stationDataMap[d['station_id']].station_genre;\r\n                        d.city = locationDataMap[d['city_id']].city;\r\n                        d.country = locationDataMap[d['city_id']].country;\r\n                        d.station = stationDataMap[d['station_id']].station;\r\n                        d.stream_artist = streamDetail[d['stream_detail_id']].stream_artist;\r\n                        // d.stream_title = streamDetail[d['stream_detail_id']].stream_title;\r\n                        d.stream_song = streamDetail[d['stream_detail_id']].stream_song;\r\n                        // d.time_station = streamDetail[d['stream_detail_id']].time_station;\r\n                    })\r\n                    // metaData.sort((a,b)=>(+new Date(b.time_station))- (+new Date(a.time_station)));\r\n                    const rawData = {stationData, locationData, metaData, streamDetail,stationDataMap,locationDataMap};\r\n                    dispatch({type: 'VALUE_CHANGE', path: 'rawData', value: rawData, isLoading: false,});\r\n                    console.timeEnd('-Correct data-');\r\n                    console.time('-filterdata-');\r\n                    const {locs, countries} = handleData(rawData);\r\n                    dispatch({type: 'VALUE_CHANGE', path: 'locs', value: locs, isLoading: false});\r\n                    dispatch({type: 'VALUE_CHANGE', path: 'countries', value: countries, isLoading: false});\r\n                    console.timeEnd('-filterdata-');\r\n                    console.timeEnd('Load and process data');\r\n                });\r\n            } catch (error) {\r\n                dispatch({\r\n                    type: \"ERROR\",\r\n                    path: 'rawData',\r\n                    isLoading: false,\r\n                    error,\r\n                    hasError: true,\r\n                });\r\n                dispatch({\r\n                    type: \"ERROR\",\r\n                    path: 'locs',\r\n                    isLoading: false,\r\n                    error,\r\n                    hasError: true,\r\n                });\r\n                dispatch({\r\n                    type: \"ERROR\",\r\n                    path: 'countries',\r\n                    isLoading: false,\r\n                    error,\r\n                    hasError: true,\r\n                });\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const getListError = useCallback(\r\n        (path) => {\r\n            return state[path] ? state[path].error : false;\r\n        },\r\n        [state]\r\n    );\r\n    const getList = useCallback(\r\n        (path) => {\r\n            return state[path] && state[path].value ? state[path].value : [];\r\n        },\r\n        [state]\r\n    );\r\n\r\n    // get list of field\r\n    const getDistinctField = useCallback(\r\n        (field) => {\r\n            switch (field) {\r\n                case 'city':\r\n                    return state.rawData && state.rawData.value.locationData ? state.rawData.value.locationData.map(d=>d.city) : [];\r\n                case 'country':\r\n                    return state.countries && state.countries.value ? state.countries.value.map(d=>d.title) : [];\r\n                case 'station':\r\n                    return state.rawData && state.rawData.value.stationData ? uniq(state.rawData.value.stationData.map(d=>d.station)) : [];\r\n                case 'station_genre':\r\n                    return state.rawData && state.rawData.value.metaData ? uniq(state.rawData.value.metaData.map(d=>d.station_genre)) : [];\r\n                case 'stream_artist':\r\n                    return state.rawData && state.rawData.value.streamDetail ? uniq(state.rawData.value.streamDetail.map(d=>d.stream_artist)) : [];\r\n                case 'stream_song':\r\n                    return state.rawData && state.rawData.value.streamDetail ? uniq(state.rawData.value.streamDetail.map(d=>d.stream_song)) : [];\r\n                default:\r\n                    return [];\r\n            }\r\n        },\r\n        [state]\r\n    );\r\n    const getEvents = useCallback(\r\n        () => {\r\n            return (state.events && state.events.value ? state.events.value : []);\r\n        },\r\n        [state]\r\n    );\r\n    const requestEvents = useCallback(\r\n        (filter,limit) => {\r\n            dispatch({type: 'LOADING_CHANGED', path: 'events', isLoading: true});\r\n            new Promise((resolve,reject)=>{\r\n                let data = (state.rawData.value??{metaData:[]}).metaData.slice();\r\n                Object.keys(filter).forEach(filterKey=>{\r\n                    if (filter[filterKey] && data.length) {\r\n                        if (isArray(filter[filterKey])){\r\n                            if (filter[filterKey].length) {\r\n                                data = data.filter(d => filter[filterKey].find(e=>e===d[filterKey]));\r\n                            }\r\n                        }else if (filter[filterKey])\r\n                        {\r\n                            data = data.filter(d => d[filterKey] === filter[filterKey]);\r\n                        }\r\n                    }\r\n                })\r\n                // data.sort((a,b)=>(+new Date(b.time_station))- (+new Date(a.time_station)));\r\n                const value = data.slice(0,limit);\r\n                dispatch({type: 'VALUE_CHANGE', path: 'events', value, isLoading: false});\r\n                resolve(value);\r\n            })\r\n        },\r\n        [state]\r\n    );\r\n    const getDetail = useCallback(\r\n        (stream_detail_id) => {\r\n            const r = (state.events && state.events.value ? state.events.value : []).find(d=>d.stream_detail_id===stream_detail_id);\r\n            if (r) {\r\n                return getExtra (r,state.rawData.value.stationDataMap,state.rawData.value.locationDataMap,state.rawData.value.streamDetail);\r\n            }else\r\n                return null\r\n        },\r\n        [state]\r\n    );\r\n    function getExtra (r,stationDataMap,locationDataMap,streamDetail){\r\n        return {\r\n            ...r,\r\n            station_description:stationDataMap[r['station_id']].station_description,\r\n            station_url:stationDataMap[r['station_id']].station_url,\r\n            lat:locationDataMap[r['city_id']].lat,\r\n            long:locationDataMap[r['city_id']].long,\r\n            url:stationDataMap[r['station_id']].url,\r\n            // stream_song:streamDetail[r['stream_detail_id']].stream_song,\r\n            ...streamDetail[r['stream_detail_id']]\r\n        }\r\n    }\r\n    const getDownloadData = useCallback((listids)=>{\r\n        if (listids) {\r\n            let data = (state.rawData.value ?? {metaData: []}).metaData;\r\n            return listids.sort((a, b) => a - b).map(i => getExtra(data[i], state.rawData.value.stationDataMap, state.rawData.value.locationDataMap, state.rawData.value.streamDetail))\r\n        }else\r\n            return (state.rawData.value ?? {metaData: []}).metaData\r\n                .map(d => getExtra(d, state.rawData.value.stationDataMap, state.rawData.value.locationDataMap, state.rawData.value.streamDetail));\r\n    },[state]);\r\n\r\n    const isLoading = useCallback(\r\n        (path) => {\r\n            return state[path] ? state[path].isLoading : false;\r\n        },\r\n        [state]\r\n    );\r\n    return (\r\n        <Context.Provider value={{\r\n            getList,\r\n            getEvents,\r\n            requestEvents,\r\n            getDistinctField,\r\n            getDetail,\r\n            getListError,\r\n            getDownloadData,\r\n            isLoading\r\n        }}>\r\n            {children}\r\n        </Context.Provider>\r\n    )\r\n}\r\n\r\nexport default Provider;","import { useContext } from 'react'\r\nimport Context from './Context'\r\nexport { default as withDatabase } from './with.js'\r\nexport { default } from './Provider.js'\r\n\r\nexport function useDatabase() {\r\n    return useContext(Context)\r\n}","export const fields = [\r\n    {\r\n        accessorKey: 'city',\r\n        header: 'City',\r\n    },\r\n    {\r\n        accessorKey: 'country',\r\n        header: 'Country',\r\n    },\r\n    {\r\n        accessorKey: 'station',\r\n        header: 'Station',\r\n    },\r\n    {\r\n        accessorKey: 'station_genre',\r\n        header: 'Station Genre',\r\n    },\r\n    {\r\n        accessorKey: 'stream_artist',\r\n        header: 'Artist',\r\n    },\r\n    {\r\n        accessorKey: 'stream_song',\r\n        header: 'Song',\r\n    },\r\n    {\r\n        accessorKey: 'time_station',\r\n        header: 'Time',\r\n        filterDisable:true\r\n    }\r\n];\r\n\r\nexport const filterSearch = fields.filter(f=>!f.filterDisable);","import React, { useContext } from 'react'\r\nimport { useTheme as useAppTheme } from 'material-ui-shell/lib/providers/Theme'\r\nimport MenuContext from 'material-ui-shell/lib/providers/Menu/Context'\r\nimport { useTheme } from '@mui/material/styles'\r\nimport { useConfig } from 'base-shell/lib/providers/Config'\r\nimport { useOnline } from 'base-shell/lib/providers/Online'\r\n\r\nimport { useIntl } from 'react-intl'\r\nimport {\r\n    AppBar,\r\n    Toolbar,\r\n    IconButton,\r\n    LinearProgress,\r\n    Typography,\r\n} from '@mui/material'\r\nimport { ChevronLeft, Menu as MenuIcon } from '@mui/icons-material'\r\n\r\nexport default function ({\r\n                             children,\r\n                             pageTitle,\r\n                             onBackClick,\r\n                             isLoading,\r\n                             appBarContent = null,\r\n                             contentStyle,\r\n                             tabs = null,\r\n                         }) {\r\n    const { isRTL } = useAppTheme()\r\n    const isOnline = useOnline()\r\n    const theme = useTheme()\r\n    const { appConfig } = useConfig()\r\n    const { menu } = appConfig || {}\r\n    const { width = 240, appBarLeadingContent = null } = menu || {}\r\n\r\n    const { toggleThis, isDesktop, isMenuOpen } = useContext(MenuContext)\r\n    const intl = useIntl()\r\n    let headerTitle = ''\r\n\r\n    if (typeof pageTitle === 'string' || pageTitle instanceof String) {\r\n        headerTitle = pageTitle\r\n    }\r\n\r\n    const handleDrawerMenuClick = () => {\r\n        if (!isMenuOpen) {\r\n            toggleThis('isMiniMode', false)\r\n            toggleThis('isMenuOpen', true)\r\n            if (!isDesktop) {\r\n                toggleThis('isMobileMenuOpen')\r\n            }\r\n        } else {\r\n            toggleThis('isMobileMenuOpen')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                width: '100%',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                height: '100vh',\r\n                overflow: 'hidden',\r\n            }}\r\n        >\r\n            <AppBar\r\n                position={isDesktop ? 'absolute' : undefined}\r\n                sx={{\r\n                    width:\r\n                        isMenuOpen && isDesktop ? `calc(100% - ${width}px)` : undefined,\r\n                    zIndex: theme.zIndex['drawer'],\r\n                    transition: theme.transitions.create(['width', 'margin'], {\r\n                        easing: theme.transitions.easing.sharp,\r\n                        duration: theme.transitions.duration.leavingScreen,\r\n                    }),\r\n                    maxHeight: 64,\r\n                    marginLeft: isRTL ? 0 : -12,\r\n                    marginRight: isRTL ? 30 : 0,\r\n                    backgroundColor:'transparent',\r\n                    backgroundImage:'none',\r\n                    boxShadow:'none'\r\n                }}\r\n            >\r\n                <Toolbar>\r\n                    {(isMenuOpen && isDesktop) ||\r\n                        (!onBackClick && (\r\n                            <IconButton\r\n                                color=\"inherit\"\r\n                                aria-label=\"open drawer\"\r\n                                onClick={handleDrawerMenuClick}\r\n                                edge=\"start\"\r\n                            >\r\n                                <MenuIcon />\r\n                            </IconButton>\r\n                        ))}\r\n                    {/* james- check if this is dead code? */}\r\n                    {onBackClick && (\r\n                        <IconButton\r\n                            color=\"inherit\"\r\n                            aria-label=\"open drawer\"\r\n                            onClick={onBackClick}\r\n                        >\r\n                            <ChevronLeft />\r\n                        </IconButton>\r\n                    )}\r\n                    {!onBackClick && isMenuOpen && false && (\r\n                        <div style={{ marginRight: 32 }} />\r\n                    )}\r\n                    {appBarLeadingContent}\r\n                    {/* james- check if this is dead code? */}\r\n                    <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                        {headerTitle}\r\n                    </Typography>\r\n                    <div style={{ flex: '1 1 auto' }} />\r\n                    {appBarContent}\r\n                </Toolbar>\r\n            </AppBar>\r\n            <div\r\n                style={{\r\n                    alignItems: 'center',\r\n                    justifyContent: 'flex-end',\r\n                    //...theme.mixins.toolbar,\r\n                    minHeight: 64, //height of AppBar\r\n                }}\r\n            />\r\n\r\n            {isLoading && <LinearProgress />}\r\n            {!isOnline && (\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'center',\r\n                        width: '100%',\r\n                        height: 15,\r\n                        backgroundColor: theme.palette.secondary.main,\r\n                    }}\r\n                >\r\n                    <Typography variant=\"caption\" color=\"textSecondary\" noWrap>\r\n                        {intl.formatMessage({\r\n                            id: 'offline',\r\n                            defaultMessage: 'Offline',\r\n                        })}\r\n                    </Typography>\r\n                </div>\r\n            )}\r\n            {tabs}\r\n            <div style={{ flex: 1, overflow: 'auto', ...contentStyle }}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useState, useEffect, useRef, useCallback, useMemo, useLayoutEffect} from 'react';\r\nimport earthNight from '../../assets/earth-night.jpg'\r\nimport Globe from 'react-globe.gl'\r\nimport * as d3 from 'd3'\r\nimport './index.css'\r\n\r\nconst TOP = 20;\r\nconst colorArr = ['#1f77b4', '#aec7e8', '#ff7f0e', '#ffbb78', '#2ca02c', '#98df8a', '#d62728', '#ff9896', '#9467bd', '#c5b0d5', '#8c564b', '#c49c94', '#e377c2', '#f7b6d2', '#7f7f7f', '#c7c7c7', '#bcbd22', '#dbdb8d', '#17becf', '#9edae5'];\r\n\r\nconst arcThickScale = d3.scaleLinear().range([0.01,0.7]);\r\nconst countriesScale = d3.scaleLinear().range([0.1,0.7]);\r\n\r\n\r\n\r\n\r\nfunction Earth3D({locs,countries,width,height,onSelect}) {\r\n    const globeEl = useRef();\r\n    const [colorKey, setColorKey] = useState('country');\r\n    const [selectPoint, setSelectPoint] = useState();\r\n    const [currentSequnce,setCurrentSequnce] = useState(0);\r\n    const [MAP_CENTERs,setMAP_CENTERs] = useState([{ lat: -92.52824601944323, lng: 38.31079101844495, altitude: 1.8 },{ lat: 51.58421865, lng: 45.9571029, altitude: 1.8 },{ lat: 31.3037101, lng: -89.29276214, altitude: 1.8 },{ lat: 33.5842591, lng: -101.8804709, altitude: 1.8 }]);\r\n\r\n    const colorsCategory = useMemo(()=>{\r\n        return function(otherColor=\"#454545\"){\r\n            const scale = d3.scaleOrdinal(colorArr);\r\n            let master = (val)=>{\r\n                if ((!val)||(val==='')||(val.trim===''))\r\n                    return 'black'\r\n                const domain = scale.domain();\r\n                if (domain.find(d=>d===val)|| (domain.length<TOP))\r\n                    return scale(val);\r\n                else\r\n                    return otherColor\r\n            };\r\n            master.domain = scale.domain;\r\n            master.range = scale.range;\r\n            return master;\r\n        }();\r\n    },[]);\r\n\r\n    function handleData({locs,countries}) {\r\n        const range = d3.extent(locs, d => d.count);\r\n        arcThickScale.domain(range);\r\n\r\n        countriesScale.domain(d3.extent(countries, d => d.count));\r\n\r\n        //color\r\n        colorsCategory.domain([]).range(colorArr);\r\n        countries.forEach(d=>colorsCategory(d.title));\r\n\r\n        let order = 0;\r\n        if (countries.length>3)\r\n        [0,1,2,3,0].forEach(i=> {\r\n            if (!MAP_CENTERs[order])\r\n                MAP_CENTERs[order] = {lat:0,lng:0,altitude:1}\r\n            MAP_CENTERs[order].lat = countries[i].lat;\r\n            MAP_CENTERs[order].lng = countries[i].long;\r\n            order++\r\n        })\r\n        return {MAP_CENTERs};\r\n    }\r\n    useEffect(() => {\r\n        const {MAP_CENTERs} = handleData({locs,countries})\r\n        setMAP_CENTERs(MAP_CENTERs);\r\n        setCurrentSequnce(0);\r\n    }, [locs,countries]);\r\n\r\n    const [timer,setTimer] = useState(null);\r\n    useEffect(()=>{\r\n        if (globeEl.current) {\r\n            if (currentSequnce < MAP_CENTERs.length) {\r\n\r\n                const interval = setTimeout(() => {\r\n                    globeEl.current.pointOfView(MAP_CENTERs[currentSequnce], 4000)\r\n                    setCurrentSequnce(currentSequnce + 1);\r\n                }, 4000);\r\n                setTimer(interval);\r\n                return () => {\r\n                    clearInterval(interval);\r\n                };\r\n            }\r\n        }\r\n    },[currentSequnce,MAP_CENTERs])\r\n    const stopPlay = useCallback(()=>{\r\n        if (timer)\r\n            clearInterval(timer);\r\n        setCurrentSequnce(MAP_CENTERs.length);\r\n    },[timer]);\r\n\r\n    const zoomTo = useCallback((lng,lat)=>{\r\n        if (globeEl.current) {\r\n            stopPlay();\r\n            globeEl.current.pointOfView({ lat, lng, altitude: 0.8 }, 2000);\r\n        }\r\n    },[currentSequnce,stopPlay])\r\n\r\n    return  <div\r\n        style={{\r\n            background: \"#000010\",\r\n            position: \"relative\"\r\n        }}\r\n    >\r\n        <div style={{\r\n            transform: \"translate(0, -20%)\",\r\n            height: '100vh'\r\n        }}>\r\n            <Globe\r\n                width={width}\r\n                height={height}\r\n                ref={globeEl}\r\n                globeImageUrl={earthNight}\r\n\r\n                labelsData={countries}\r\n                labelLat={useCallback(d => d.lat,[])}\r\n                labelLng={useCallback(d => d.long,[])}\r\n                labelAltitude={useCallback(d=>(selectPoint&&(selectPoint['title']===d['title']))?0.15:0.1,[selectPoint])}\r\n                labelText={useCallback(d => d['title'],[])}\r\n                // labelSize={d => (selectPoint&&(selectPoint===d))?0.8:arcThickScale(d.count)/3}\r\n                labelSize={useCallback(d => arcThickScale(d.count)/3,[])}\r\n                labelDotRadius={0}\r\n                labelColor={useCallback(d => (selectPoint&&(selectPoint['title']===d['title']))?('#dd6700'):(d.color??'white'),[selectPoint])}\r\n                labelResolution={2}\r\n\r\n                hexBinPointsData={locs}\r\n                hexBinPointWeight=\"count\"\r\n                hexBinPointLng={useCallback(d => d.long,[])}\r\n                hexBinPointLat={useCallback(d => d.lat,[])}\r\n                hexAltitude={useCallback(d => arcThickScale(d.sumWeight),[])}\r\n                hexBinResolution={4}\r\n                hexTopColor={useCallback(d => colorsCategory(d.points[0][colorKey]),[])}\r\n                hexSideColor={useCallback(d => colorsCategory(d.points[0][colorKey]),[])}\r\n\r\n                hexBinMerge={false}\r\n                hexLabel={useCallback(d => {return `<div class=\"overlay-holder\">\r\n            <div class=\"overlay-header\">\r\n                <span><b>${d3.sum(d.points,s=>s.count)}</b> stations</span>\r\n            </div>\r\n            <div class=\"overlay-content\">\r\n            <table>\r\n                <tbody><tr>${d.points.slice().sort((a, b) => b.count - a.count).map(d => `<td>[${d.count}]</td><td>${d.title}</td>`).join('</tr><tr>')}</tr></tbody>\r\n            </table>\r\n            </div>\r\n          </div>`},[])}\r\n                onHexClick={(d)=>{\r\n                    console.log(d.points[0])\r\n                    const city = [];\r\n                    d.points.forEach(d => {\r\n                        d.city.forEach(d=>city.push(d[0]))\r\n                    })\r\n                    onSelect({city,country:[d.points[0].country]});\r\n                }\r\n                }\r\n                onGlobeClick={stopPlay}\r\n            />\r\n        </div>\r\n    </div>;\r\n}\r\n\r\nexport default Earth3D;\r\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport MaterialReactTable from 'material-react-table';\r\nimport Scrollbar from \"material-ui-shell/lib/components/Scrollbar\";\r\nimport {fields} from \"./fields\";\r\nimport {Box, Button} from \"@mui/material\";\r\nimport FileDownloadIcon from '@mui/icons-material/FileDownload';\r\nimport { ExportToCsv } from 'export-to-csv';\r\nimport {useDatabase} from \"../../Providers/Database\";\r\n\r\n\r\n\r\n\r\nconst EventTable = ({data,onSelectRow,highlightId}) => {\r\n    const columns = fields;\r\n\r\n    //optionally access the underlying virtualizer instance\r\n    const rowVirtualizerInstanceRef = useRef(null);\r\n\r\n    // const [data, setData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [sorting, setSorting] = useState([]);\r\n    const {getDownloadData} = useDatabase();\r\n\r\n    useEffect(() => {\r\n        //scroll to the top of the table when the sorting changes\r\n        rowVirtualizerInstanceRef.current?.scrollToIndex(0);\r\n    }, [sorting]);\r\n    const handleExportRows = (rows) => {\r\n        setIsLoading(true)\r\n        const datadownload = getDownloadData(rows.map((row) => row.original.stream_detail_id));\r\n        const csvOptions = {\r\n            fieldSeparator: ',',\r\n            quoteStrings: '\"',\r\n            decimalSeparator: '.',\r\n            showLabels: true,\r\n            filename: `mirage-mc-${new Date().toDateString()}`,\r\n            useBom: true,\r\n            useKeysAsHeaders: true,\r\n            // headers: fields.map((c) => c.accessorKey),\r\n        };\r\n        const csvExporter = new ExportToCsv(csvOptions);\r\n        csvExporter.generateCsv(datadownload);\r\n        setIsLoading(false)\r\n    };\r\n    const handleExportData = () => {\r\n        setIsLoading(true)\r\n        // csvExporter.generateCsv(data);\r\n        const datadownload = getDownloadData();\r\n        const csvOptions = {\r\n            fieldSeparator: ',',\r\n            quoteStrings: '\"',\r\n            decimalSeparator: '.',\r\n            showLabels: true,\r\n            filename: 'mirage-mc-all',\r\n            useBom: true,\r\n            useKeysAsHeaders: true,\r\n            // headers: fields.map((c) => c.accessorKey),\r\n        };\r\n        const csvExporter = new ExportToCsv(csvOptions);\r\n        csvExporter.generateCsv(datadownload);\r\n        setIsLoading(false)\r\n    };\r\n\r\n    return (\r\n        <MaterialReactTable\r\n            columns={columns}\r\n            data={data} //10,000 rows\r\n            enableBottomToolbar={false}\r\n            enableGlobalFilterModes\r\n            enableDensityToggle={false}\r\n            enablePagination={false}\r\n            // enableRowNumbers\r\n            enableRowVirtualization\r\n            muiTableContainerProps={{ sx: { maxHeight: '300px' } }}\r\n            initialState={{ density: 'compact' }}\r\n            onSortingChange={setSorting}\r\n            state={{ isLoading, sorting }}\r\n            rowVirtualizerInstanceRef={rowVirtualizerInstanceRef} //optional\r\n            rowVirtualizerProps={{ overscan: 8 }} //optionally customize the virtualizer\r\n            muiTableBodyRowProps={({ row }) => ({\r\n                onClick: ()=>{onSelectRow(row.original)},\r\n                sx: { cursor: 'pointer',opacity:highlightId?(highlightId.stream_detail_id=== row.original.stream_detail_id?1:0.7):1},\r\n            })}\r\n            enableColumnResizing\r\n            defaultColumn={{\r\n                minSize: 20, //allow columns to get smaller than default\r\n                maxSize: 9001, //allow columns to get larger than default\r\n                size: 100, //make columns wider by default\r\n            }}\r\n            // muiTableBodyProps={{\r\n            //     sx: {\r\n            //         //stripe the rows, make odd rows a darker color\r\n            //         '& tr': {\r\n            //             backgroundColor: (theme)=> theme.mode == 'dark' ? 'rgba(0,0,0,0.58)' : 'rgba(255,255,255,0.76)',\r\n            //         },\r\n            //     },\r\n            // }}\r\n            renderTopToolbarCustomActions={({ table }) => (\r\n                <Box\r\n                    sx={{ display: 'flex', gap: '1rem', p: '0.5rem', flexWrap: 'wrap' }}\r\n                >\r\n                    <Button\r\n                        color=\"primary\"\r\n                        //export all data that is currently in the table (ignore pagination, sorting, filtering, etc.)\r\n                        onClick={handleExportData}\r\n                        startIcon={<FileDownloadIcon />}\r\n                        variant=\"contained\"\r\n                    >\r\n                        Export All Data\r\n                    </Button>\r\n                    <Button\r\n                        disabled={table.getPrePaginationRowModel().rows.length === 0}\r\n                        //export all rows, including from the next page, (still respects filtering and sorting)\r\n                        onClick={() =>\r\n                            handleExportRows(table.getPrePaginationRowModel().rows)\r\n                        }\r\n                        startIcon={<FileDownloadIcon />}\r\n                        variant=\"contained\"\r\n                    >\r\n                        Export Current Data\r\n                    </Button>\r\n                    {/*<Button*/}\r\n                    {/*    disabled={table.getRowModel().rows.length === 0}*/}\r\n                    {/*    //export all rows as seen on the screen (respects pagination, sorting, filtering, etc.)*/}\r\n                    {/*    onClick={() => handleExportRows(table.getRowModel().rows)}*/}\r\n                    {/*    startIcon={<FileDownloadIcon />}*/}\r\n                    {/*    variant=\"contained\"*/}\r\n                    {/*>*/}\r\n                    {/*    Export Page Rows*/}\r\n                    {/*</Button>*/}\r\n                    {/*<Button*/}\r\n                    {/*    disabled={*/}\r\n                    {/*        !table.getIsSomeRowsSelected() && !table.getIsAllRowsSelected()*/}\r\n                    {/*    }*/}\r\n                    {/*    //only export selected rows*/}\r\n                    {/*    onClick={() => handleExportRows(table.getSelectedRowModel().rows)}*/}\r\n                    {/*    startIcon={<FileDownloadIcon />}*/}\r\n                    {/*    variant=\"contained\"*/}\r\n                    {/*>*/}\r\n                    {/*    Export Selected Rows*/}\r\n                    {/*</Button>*/}\r\n                </Box>\r\n            )}\r\n        />\r\n    );\r\n};\r\n\r\n//virtualizerInstanceRef was renamed to rowVirtualizerInstanceRef in v1.5.0\r\n//virtualizerProps was renamed to rowVirtualizerProps in v1.5.0\r\n\r\nexport default EventTable;","import {Avatar, Card, CardContent, Divider, Link, Typography} from \"@mui/material\";\r\nimport moment from \"moment/moment\";\r\nimport MapIcon from '@mui/icons-material/Map';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\n\r\n\r\nfunction DetailCard ({data,onSelect}){\r\n    return <Card sx={{height:'100%',overflowY:'auto'}}>\r\n        <CardContent >\r\n            <Typography component=\"div\" variant=\"h2\" onClick={()=>onSelect({station:[data.station]})}>\r\n                {data.station}\r\n            </Typography>\r\n            <Typography component=\"div\" variant=\"subtitle1\" color=\"text.secondary\">\r\n                {data.station_description}\r\n            </Typography>\r\n\r\n            <table style={{width:'100%'}}>\r\n                <colgroup><col style={{width:130}}/><col/></colgroup>\r\n                <tr><td>Station Genre</td><td>{data.station_genre}</td></tr>\r\n                <tr><td>Station URL</td><td><Link href={data.station_url} target={'_blank'} color={'secondary'}>{data.station_url}</Link></td></tr>\r\n                <tr><td>Location</td><td><Link target={'_blank'} color={'secondary'} href={`https://maps.google.com/?q=${data.lat},${data.long}`}><MapIcon/>{data.city}, {data.country}</Link></td></tr>\r\n                <tr><td>Radio Garden URL</td><td><Link href={data.url} target={'_blank'} color={'secondary'}>{data.station_url}</Link></td></tr>\r\n                <tr><td colspan=\"2\"><Divider sx={{mt:2,mb:2}}/></td></tr>\r\n                <tr onClick={()=>onSelect({stream_artist:[data.stream_artist]})}><td>Artist</td><td  style={{display:'flex'}}><Avatar  aria-label=\"recipe\" sx={{mr:1}}>{data.stream_artist[0]}</Avatar>\r\n                    <div>\r\n                        <Typography variant=\"h5\" color={'text.primary'}>{data.stream_artist}</Typography>\r\n                        <Typography variant=\"subtitle2\">N/A</Typography>\r\n                    </div></td></tr>\r\n                <tr onClick={()=>onSelect({stream_song:[data.stream_song]})}><td>Song</td><td>{data.stream_song}</td></tr>\r\n                <tr><td>Time Monitored</td><td>{moment(data.time_station).format('LLL')}</td></tr>\r\n            </table>\r\n\r\n            {/*<Typography component=\"div\" variant=\"subtitle1\" color=\"text.secondary\">*/}\r\n            {/*    Time Monitored : {moment(data.time_station).format('LLL')}*/}\r\n            {/*</Typography>*/}\r\n        </CardContent>\r\n    </Card>\r\n}\r\nexport default DetailCard","import * as React from 'react';\r\nimport { styled, alpha } from '@mui/material/styles';\r\nimport InputBase from '@mui/material/InputBase';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\n\r\nconst Search = styled('div')(({ theme }) => ({\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n        backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing(1),\r\n        width: 'auto',\r\n    },\r\n}));\r\n\r\nconst SearchIconWrapper = styled('div')(({ theme }) => ({\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n}));\r\n\r\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n    color: 'inherit',\r\n    '& .MuiInputBase-input': {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)})`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '12ch',\r\n            '&:focus': {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    },\r\n}));\r\n\r\nfunction SearchField(){\r\n    return <Search>\r\n        <SearchIconWrapper>\r\n            <SearchIcon />\r\n        </SearchIconWrapper>\r\n        <StyledInputBase\r\n            placeholder=\"Search…\"\r\n            inputProps={{ 'aria-label': 'search' }}\r\n        />\r\n    </Search>\r\n}\r\n\r\nexport default SearchField","import React from 'react'\r\nimport {ActionCreators as UndoActionCreators} from 'redux-undo'\r\nimport { connect } from 'react-redux'\r\nimport {IconButton} from \"@mui/material\";\r\nimport UndoIcon from \"@mui/icons-material/Undo\";\r\nimport RedoIcon from \"@mui/icons-material/Redo\";\r\n\r\nlet UndoRedo = ({ canUndo, canRedo, onUndo, onRedo }) => (\r\n    <>\r\n        <IconButton onClick={onUndo} disabled={!canUndo}><UndoIcon/></IconButton>\r\n        <IconButton onClick={onRedo} disabled={!canRedo}><RedoIcon/></IconButton>\r\n    </>\r\n)\r\n\r\nconst mapStateToProps = (state) => ({\r\n    canUndo: state.streamFilters.past.length > 0,\r\n    canRedo: state.streamFilters.future.length > 0\r\n})\r\n\r\nconst mapDispatchToProps = ({\r\n    onUndo: UndoActionCreators.undo,\r\n    onRedo: UndoActionCreators.redo\r\n})\r\n\r\nUndoRedo = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(UndoRedo)\r\n\r\nexport default UndoRedo\r\n","import React, {useCallback, useEffect, useState} from 'react'\r\nimport { useIntl } from 'react-intl'\r\nimport Page from \"../../containers/Page/Page\";\r\nimport {useDatabase} from \"../../Providers/Database\";\r\nimport {\r\n    Backdrop,\r\n    Box,\r\n    Unstable_Grid2 as Grid,\r\n    LinearProgress,\r\n    Paper,\r\n    Typography,\r\n    Card,\r\n    CardContent, Button\r\n} from \"@mui/material\";\r\nimport Earth3D from \"../../components/Earth\";\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\nimport {color as d3color} from 'd3';\r\nimport EventTable from \"../../components/EventTable\";\r\nimport DetailCard from \"../../components/DetailCard\";\r\nimport SearchField from \"../../components/SearchBar\";\r\nimport UndoRedo from \"../../containers/UndoRedo\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    setFilter,\r\n    setFilters,\r\n    selectFilters\r\n} from \"../../reducer/streamfilters\";\r\n\r\nconst LandingPage = () => {\r\n    const dispatch = useDispatch();\r\n    const intl = useIntl();\r\n    const filters = useSelector(selectFilters);\r\n    // const { appConfig } = useConfig()\r\n    const {getList,isLoading,getEvents,requestEvents,getDetail} = useDatabase();\r\n    const [currentDetail,setCurrentDetail] = useState();\r\n\r\n    useEffect(()=>{\r\n    },[]);\r\n\r\n    const isLoadingInit = isLoading('rawData');\r\n    const isLoadingEvent = isLoading('events');\r\n    const isLoadingLocs = isLoading('locs');\r\n    useEffect(()=>{\r\n        if (!isLoadingInit) {\r\n            requestEvents(filters, 1000)\r\n        }\r\n    },[isLoadingInit,filters])\r\n    const onSelectStream = useCallback(({stream_detail_id})=>{\r\n        const result = getDetail(stream_detail_id);\r\n        setCurrentDetail(result);\r\n    },[getEvents])\r\n\r\n    const onSelect = (value)=>{\r\n        dispatch(setFilters({value}));\r\n    }\r\n\r\n    return (<Page appBarContent={<>\r\n        {/*<SearchField/>*/}\r\n            <UndoRedo/>\r\n        </>\r\n    }>\r\n            <div style={{position:'absolute',top:0,left:0, zIndex:0, height: '100%', width: '100%', overflow:'hidden'}}>\r\n                <AutoSizer style={{ height: '100%', width: '100%' }} >\r\n                    {({ height, width }) => {\r\n                        return <Earth3D locs={getList('locs')} countries={getList('countries')}\r\n                                        onSelect={onSelect}\r\n                                        width={width} height={height}/>\r\n                    }}\r\n                </AutoSizer>\r\n            </div>\r\n        <Grid container sx={{height:'100%', position:'relative', pointerEvents:'none'}} direction={\"column\"} justifyContent=\"space-between\">\r\n            <Grid  sx={{pointerEvents:'none'}}><Button color={'secondary'}>Station Map</Button></Grid>\r\n            <Grid container spacing={2} m={0} sx={{pointerEvents:'auto',maxHeight: 450}} alignItems={'end'}>\r\n                <Grid item xs={8}>\r\n                    <Card sx={{ minHeight: 275, backgroundColor:(theme)=> semicolor(theme.palette.background.paper)}}>\r\n                        <CardContent>\r\n                            <Typography>Event list</Typography>\r\n                            <EventTable data={getEvents()} onSelectRow={onSelectStream} highlightId={currentDetail}/>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                {currentDetail&&<Grid item xs={4} sx={{height:'100%'}}>\r\n                    <Card sx={{height:'100%', backgroundColor: (theme) => semicolor(theme.palette.background.paper)}}>\r\n                        <CardContent sx={{height:'100%'}}>\r\n                            {/*<Typography>Event detail</Typography>*/}\r\n                            <DetailCard data={currentDetail} onSelect={onSelect}/>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>}\r\n            </Grid>\r\n        </Grid>\r\n        <Backdrop\r\n            sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n            open={(isLoadingInit||isLoadingLocs)}\r\n        >\r\n            <Box sx={{ display: 'flex', alignItems: 'center', width:'50%', flexDirection: \"column\", textAlign:'center' }}>\r\n                <Box sx={{ width: '100%' }}>\r\n                    <LinearProgress variant=\"determinate\" value={(isLoadingInit)?40:((isLoadingLocs)?90:100)} />\r\n                </Box>\r\n                <Box sx={{ width: '100%' }}>\r\n                    <h2>{(isLoadingInit)?'Read data....':((isLoadingLocs)?'Process data...':'Done!')}</h2>\r\n                </Box>\r\n            </Box>\r\n        </Backdrop>\r\n    </Page>\r\n    )\r\n}\r\n\r\nexport default LandingPage;\r\n\r\nfunction semicolor(_color){\r\n    const color = d3color(_color);\r\n    color.opacity = 0.5\r\n    return color.toString();\r\n}"],"names":["React","reducer","state","action","type","path","isLoading","error","hasError","value","isInit","Error","init","rawData","stationData","locationData","metaData","streamDetail","locs","countries","events","loading","children","useReducer","dispatch","useEffect","length","console","time","Promise","all","d3csv","RG_stations_listed","RG_locations_listed","RG_metadata","RG_streamDetail","then","timeEnd","locationDataMap","forEach","d","lat","longitude","long","latitude","stationDataMap","country","city","station_genre","station","stream_artist","stream_song","groupByLocation","d3groups","byLocName","d3group","metabyLocName","map","meta","get","locinfo","count","values","title","sort","a","b","d3mean","e","handleData","getListError","useCallback","getList","getDistinctField","field","uniq","getEvents","requestEvents","filter","limit","resolve","reject","data","slice","Object","keys","filterKey","isArray","find","getDetail","stream_detail_id","r","getExtra","station_description","station_url","url","getDownloadData","listids","i","useDatabase","useContext","Context","fields","accessorKey","header","filterDisable","filterSearch","f","pageTitle","onBackClick","appBarContent","contentStyle","tabs","isRTL","useAppTheme","isOnline","useOnline","theme","useTheme","useConfig","appConfig","menu","width","appBarLeadingContent","MenuContext","toggleThis","isDesktop","isMenuOpen","intl","useIntl","headerTitle","String","style","display","flexDirection","height","overflow","AppBar","position","undefined","sx","zIndex","transition","transitions","create","easing","sharp","duration","leavingScreen","maxHeight","marginLeft","marginRight","backgroundColor","backgroundImage","boxShadow","Toolbar","IconButton","color","onClick","edge","Menu","ChevronLeft","Typography","variant","noWrap","flex","alignItems","justifyContent","minHeight","LinearProgress","palette","secondary","main","formatMessage","id","defaultMessage","colorArr","arcThickScale","d3","range","countriesScale","onSelect","globeEl","useRef","useState","colorKey","selectPoint","currentSequnce","setCurrentSequnce","lng","altitude","MAP_CENTERs","setMAP_CENTERs","colorsCategory","useMemo","otherColor","scale","master","val","trim","domain","order","timer","setTimer","current","interval","setTimeout","pointOfView","clearInterval","stopPlay","background","transform","ref","globeImageUrl","earthNight","labelsData","labelLat","labelLng","labelAltitude","labelText","labelSize","labelDotRadius","labelColor","labelResolution","hexBinPointsData","hexBinPointWeight","hexBinPointLng","hexBinPointLat","hexAltitude","sumWeight","hexBinResolution","hexTopColor","points","hexSideColor","hexBinMerge","hexLabel","s","join","onHexClick","log","push","onGlobeClick","onSelectRow","highlightId","columns","rowVirtualizerInstanceRef","setIsLoading","sorting","setSorting","scrollToIndex","handleExportData","datadownload","ExportToCsv","fieldSeparator","quoteStrings","decimalSeparator","showLabels","filename","useBom","useKeysAsHeaders","generateCsv","enableBottomToolbar","enableGlobalFilterModes","enableDensityToggle","enablePagination","enableRowVirtualization","muiTableContainerProps","initialState","density","onSortingChange","rowVirtualizerProps","overscan","muiTableBodyRowProps","row","original","cursor","opacity","enableColumnResizing","defaultColumn","minSize","maxSize","size","renderTopToolbarCustomActions","table","Box","gap","p","flexWrap","Button","startIcon","FileDownload","disabled","getPrePaginationRowModel","rows","csvOptions","Date","toDateString","handleExportRows","Card","overflowY","CardContent","component","Link","href","target","Map","colspan","Divider","mt","mb","Avatar","mr","moment","time_station","format","styled","borderRadius","shape","alpha","common","white","breakpoints","up","spacing","padding","pointerEvents","InputBase","paddingLeft","UndoRedo","canUndo","canRedo","onUndo","onRedo","Undo","Redo","mapDispatchToProps","UndoActionCreators","connect","streamFilters","past","future","useDispatch","filters","useSelector","selectFilters","currentDetail","setCurrentDetail","isLoadingInit","isLoadingLocs","onSelectStream","result","setFilters","Page","top","left","container","direction","m","item","xs","semicolor","paper","Backdrop","drawer","open","textAlign","_color","d3color","toString"],"sourceRoot":""}