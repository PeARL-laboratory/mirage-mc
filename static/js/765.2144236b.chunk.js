"use strict";(self.webpackChunkmirage_mc=self.webpackChunkmirage_mc||[]).push([[765],{78305:function(t,e,n){n.d(e,{X:function(){return i},e:function(){return r}});var i=[{accessorKey:"city",header:"City"},{accessorKey:"country",header:"Country"},{accessorKey:"station",header:"Station"},{accessorKey:"station_genre",header:"Station Genre"},{accessorKey:"stream_artist",header:"Artist"},{accessorKey:"stream_song",header:"Song"},{accessorKey:"time_station",header:"Time",type:"time",filterDisable:!0}],r=i.filter((function(t){return!t.filterDisable}))},26719:function(t,e,n){n.d(e,{x:function(){return a}});var i=n(1413),r=n(36395),o=n(84136);function a(t){var e=(0,o.$_Y)(t);return e.opacity=.5,e.toString()}e.Z=function(t,e,n,o){if(e)for(var a=0;a<e.length;a++)if(e[a].id===t){var l=e[a].source,s=null!=l&&l instanceof Function?l(n?"dark":"light"):l,c=null!=s?s.palette:{};return(0,r.Z)((0,i.Z)((0,i.Z)({},s),{},{palette:(0,i.Z)((0,i.Z)({},c),{},{mode:n?"dark":"light"}),direction:o?"rtl":"ltr"}))}return(0,r.Z)({palette:{mode:n?"dark":"light"},direction:o?"rtl":"ltr"})}},28605:function(t,e,n){n.r(e),n.d(e,{default:function(){return dt}});var i=n(29439),r=n(72791),o=n(93539),a=n(1413),l=n(95321),s=n(74350),c=n(13967),d=n(42404),u=n(24003),h=n(25256),f=n(29464),g=n(90977),x=n(4567),p=n(40986),v=n(7607),m=n(99631),b=n(80184);function j(t){var e=t.children,n=t.pageTitle,i=t.onBackClick,j=t.isLoading,Z=t.appBarContent,y=void 0===Z?null:Z,C=t.contentStyle,w=t.tabs,k=void 0===w?null:w,S=(0,l.useTheme)().isRTL,_=(0,u.useOnline)(),R=(0,c.Z)(),P=((0,d.useConfig)().appConfig||{}).menu||{},E=P.width,I=void 0===E?240:E,L=P.appBarLeadingContent,M=void 0===L?null:L,D=(0,r.useContext)(s.default),T=D.toggleThis,z=D.isDesktop,B=D.isMenuOpen,A=(0,o.Z)(),O="";("string"===typeof n||n instanceof String)&&(O=n);return(0,b.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[(0,b.jsx)(h.Z,{position:z?"absolute":void 0,sx:{width:B&&z?"calc(100% - ".concat(I,"px)"):void 0,zIndex:R.zIndex.drawer,transition:R.transitions.create(["width","margin"],{easing:R.transitions.easing.sharp,duration:R.transitions.duration.leavingScreen}),maxHeight:64,marginLeft:S?0:-12,marginRight:S?30:0,backgroundColor:"transparent",backgroundImage:"none",boxShadow:"none"},children:(0,b.jsxs)(f.Z,{children:[B&&z||!i&&(0,b.jsx)(g.Z,{color:"inherit","aria-label":"open drawer",onClick:function(){B?T("isMobileMenuOpen"):(T("isMiniMode",!1),T("isMenuOpen",!0),z||T("isMobileMenuOpen"))},edge:"start",children:(0,b.jsx)(v.Z,{})}),i&&(0,b.jsx)(g.Z,{color:"inherit","aria-label":"open drawer",onClick:i,children:(0,b.jsx)(m.Z,{})}),!i&&B&&!1,M,(0,b.jsx)(x.Z,{variant:"h6",color:"inherit",noWrap:!0,children:O}),(0,b.jsx)("div",{style:{flex:"1 1 auto"}}),y]})}),(0,b.jsx)("div",{style:{alignItems:"center",justifyContent:"flex-end",minHeight:64}}),j&&(0,b.jsx)(p.Z,{}),!_&&(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",height:15,backgroundColor:R.palette.secondary.main},children:(0,b.jsx)(x.Z,{variant:"caption",color:"textSecondary",noWrap:!0,children:A.formatMessage({id:"offline",defaultMessage:"Offline"})})}),k,(0,b.jsx)("div",{style:(0,a.Z)({flex:1,overflow:"auto"},C),children:e})]})}var Z=n(14759),y=n(34729),C=n(67414),w=n(88588),k=n(22492),S=n(18060),_=n(64554),R=n.p+"static/media/earth-night.da273783100dfbfd07c0.jpg",P=n(51692),E=n(84136),I=n(96174),L=n(65469),M=n(94721),D=n(60220),T=n(72426),z=n.n(T),B=n(14642);var A=function(t){var e=t.data,n=t.onSelect;return(0,b.jsx)(w.Z,{sx:{height:"100%",overflowY:"auto"},children:(0,b.jsxs)(k.Z,{children:[(0,b.jsx)(x.Z,{component:"div",variant:"h2",onClick:function(){return n({station:[e.station]},e)},children:e.station}),(0,b.jsx)(x.Z,{component:"div",variant:"subtitle1",color:"text.secondary",children:e.station_description}),(0,b.jsxs)("table",{style:{width:"100%"},children:[(0,b.jsxs)("colgroup",{children:[(0,b.jsx)("col",{style:{width:130}}),(0,b.jsx)("col",{})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Station Genre"}),(0,b.jsx)("td",{children:e.station_genre})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Station URL"}),(0,b.jsx)("td",{children:(0,b.jsx)(L.Z,{href:e.station_url,target:"_blank",color:"secondary",children:e.station_url})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Location"}),(0,b.jsx)("td",{children:(0,b.jsxs)(L.Z,{target:"_blank",color:"secondary",href:"https://maps.google.com/?q=".concat(e.lat,",").concat(e.long),children:[(0,b.jsx)(B.Z,{}),e.city,", ",e.country]})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Radio Garden URL"}),(0,b.jsx)("td",{children:(0,b.jsx)(L.Z,{href:e.url,target:"_blank",color:"secondary",children:e.station_url})})]}),(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colspan:"2",children:(0,b.jsx)(M.Z,{sx:{mt:2,mb:2}})})}),(0,b.jsxs)("tr",{onClick:function(){return n({stream_artist:[e.stream_artist]})},children:[(0,b.jsx)("td",{children:"Artist"}),(0,b.jsxs)("td",{style:{display:"flex"},children:[(0,b.jsx)(D.Z,{"aria-label":"recipe",sx:{mr:1},children:e.stream_artist[0]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(x.Z,{variant:"h5",color:"text.primary",children:e.stream_artist}),(0,b.jsx)(x.Z,{variant:"subtitle2",children:"N/A"})]})]})]}),(0,b.jsxs)("tr",{onClick:function(){return n({stream_song:[e.stream_song]})},children:[(0,b.jsx)("td",{children:"Song"}),(0,b.jsx)("td",{children:e.stream_song})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Time Monitored"}),(0,b.jsx)("td",{children:z()(e.time_station).format("LLL")})]})]})]})})},O=n(26719),F=(n(28920),["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]),H=E.BYU().range([.01,.7]),K=E.BYU().range([.1,1]),W=(0,r.forwardRef)((function(t,e){var n=t.locs,o=t.countries,a=t.width,l=t.height,s=t.onSelect,c=t.zoomLoc,d=t.legendHolderRef,u=(0,r.useRef)(),h=(0,r.useState)("country"),f=(0,i.Z)(h,2),g=f[0],p=(f[1],(0,r.useState)()),v=(0,i.Z)(p,2),m=v[0],j=(v[1],(0,r.useState)(0)),Z=(0,i.Z)(j,2),y=Z[0],k=Z[1],S=(0,r.useState)([{lat:-92.52824601944323,lng:38.31079101844495,altitude:1.8},{lat:51.58421865,lng:45.9571029,altitude:1.8},{lat:31.3037101,lng:-89.29276214,altitude:1.8},{lat:33.5842591,lng:-101.8804709,altitude:1.8}]),_=(0,i.Z)(S,2),L=_[0],M=_[1],D=(0,r.useState)([]),T=(0,i.Z)(D,2),z=T[0],B=T[1],A=(0,r.useState)({}),W=(0,i.Z)(A,2),U=W[0],Y=W[1],V=(0,r.useMemo)((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#454545",e=E.PKp(F),n=function(n){if(!n||""===n||""===n.trim)return"black";var i=e.domain();return i.find((function(t){return t===n}))||i.length<20?e(n):t};return n.domain=e.domain,n.range=e.range,n}()}),[]);function q(t){var e=t.locs,n=t.countries,i={},r=E.Wem(e,(function(t){return null===t||void 0===t?void 0:t.count}));H.domain(r),K.domain(E.Wem(n,(function(t){return i[t.title]=t,null===t||void 0===t?void 0:t.count}))),V.domain([]).range(F),n.forEach((function(t){return V(t.title)}));var o=0;return n.length>3&&[0,1,2,3,0].forEach((function(t){L[o]||(L[o]={lat:0,lng:0,altitude:1}),L[o].lat=n[t].lat,L[o].lng=n[t].long,o++})),{MAP_CENTERs:L,contriesMap:i}}(0,r.useEffect)((function(){var t=q({locs:n,countries:o}),e=t.MAP_CENTERs,i=t.contriesMap;Y(i),M(e),c||k(0)}),[n,o]);var G=(0,r.useState)(null),N=(0,i.Z)(G,2),X=N[0],$=N[1];(0,r.useEffect)((function(){if(u.current&&y<L.length){var t=setTimeout((function(){u.current.pointOfView(L[y],4e3),k(y+1)}),4e3);return $(t),function(){clearInterval(t)}}}),[y,L]);var J=(0,r.useCallback)((function(){X&&clearInterval(X),k(L.length)}),[X]),Q=(0,r.useState)(null),tt=(0,i.Z)(Q,2),et=tt[0],nt=tt[1],it=(0,r.useCallback)((function(t,e){if(u.current){J(),u.current.pointOfView({lat:e,lng:t,altitude:1.2},2e3),B([{lng:t,lat:e}]),et&&clearInterval(et);var n=setTimeout((function(){B([])}),1e4);nt(n)}}),[y,J,et]);return(0,r.useEffect)((function(){return c&&it(c.lng,c.lat),function(){et&&clearInterval(et)}}),[c]),(0,b.jsxs)("div",{style:{background:"#000010",position:"relative"},children:[(0,b.jsx)("div",{style:{transform:"translate(0, -20%)",height:"100vh"},children:(0,b.jsx)(P.Z,{width:a,height:l,ref:u,globeImageUrl:R,ringsData:z,ringColor:function(){return"#D39F49"},ringResolution:1e3,ringMaxRadius:5,ringPropagationSpeed:5,ringRepeatPeriod:500,labelsData:o,labelLat:(0,r.useCallback)((function(t){return t.lat}),[]),labelLng:(0,r.useCallback)((function(t){return t.long}),[]),labelAltitude:(0,r.useCallback)((function(t){return m&&m.title===t.title?.15:.1}),[m]),labelText:(0,r.useCallback)((function(t){return t.title}),[]),labelSize:(0,r.useCallback)((function(t){return H(null===t||void 0===t?void 0:t.count)/3}),[]),labelDotRadius:0,labelColor:(0,r.useCallback)((function(t){var e;return m&&m.title===t.title?"#dd6700":null!==(e=t.color)&&void 0!==e?e:"white"}),[m]),labelResolution:2,hexBinPointsData:n,hexBinPointWeight:"count",hexBinPointLng:(0,r.useCallback)((function(t){return t.long}),[]),hexBinPointLat:(0,r.useCallback)((function(t){return t.lat}),[]),hexAltitude:(0,r.useCallback)((function(t){return H(t.sumWeight)}),[]),hexBinResolution:4,hexTopColor:(0,r.useCallback)((function(t){return V(t.points[0][g])}),[]),hexSideColor:(0,r.useCallback)((function(t){return V(t.points[0][g])}),[]),hexBinMerge:!1,hexLabel:(0,r.useCallback)((function(t){return'<div class="overlay-holder">\n            <div class="overlay-header">\n                <span><b>'.concat(E.Smz(t.points,(function(t){return null===t||void 0===t?void 0:t.count})),'</b> stations</span>\n            </div>\n            <div class="overlay-content">\n            <table>\n                <tbody><tr>').concat(t.points.slice().sort((function(t,e){return(null===e||void 0===e?void 0:e.count)-(null===t||void 0===t?void 0:t.count)})).map((function(t){return"<td>[".concat(null===t||void 0===t?void 0:t.count,"]</td><td>").concat(t.title,"</td>")})).join("</tr><tr>"),"</tr></tbody>\n            </table>\n            </div>\n          </div>")}),[]),onHexClick:function(t){var e,n=[];t.points.forEach((function(t){t.city.forEach((function(t){return n.push(t[0])}))})),s({city:n,country:[null===(e=t.points[0])||void 0===e?void 0:e.country]})},onGlobeClick:J})}),d&&(0,b.jsx)(I.Z,{container:d.current,children:(0,b.jsx)(w.Z,{sx:{pointerEvents:"all",overflowY:"auto",backgroundColor:function(t){return(0,O.x)(t.palette.background.paper)}},children:(0,b.jsxs)(C.Z,{sx:{m:1,p:0},children:[(0,b.jsx)(x.Z,{children:"Top #Stations by Countries"}),V.domain().map((function(t){var e;return(0,b.jsxs)(x.Z,{variant:"subtitle2",onClick:function(){s({country:[t]}),U[t]&&it(U[t].long,U[t].lat)},children:[(0,b.jsx)("div",{style:{width:50*K(null===(e=U[t])||void 0===e?void 0:e.count),height:10,backgroundColor:V(t),display:"inline-block",marginRight:5}}),t]},t)})),(0,b.jsxs)(x.Z,{variant:"subtitle2",children:[(0,b.jsx)("div",{style:{width:10,height:10,backgroundColor:V("Other"),display:"inline-block",marginRight:5}}),"---Other---"]})]})})})]})})),U=W,Y=n(56525),V=n(19628),q=n(78305),G=n(5849),N=n(65560),X=n(76730),$=function(t){var e=t.data,n=t.onSelectRow,o=t.highlightId,a=q.X,l=(0,r.useRef)(null),s=(0,r.useState)(!1),c=(0,i.Z)(s,2),d=c[0],u=c[1],h=(0,r.useState)([]),f=(0,i.Z)(h,2),g=f[0],x=f[1],p=(0,Z.Wz)().getDownloadData;(0,r.useEffect)((function(){var t;null===(t=l.current)||void 0===t||t.scrollToIndex(0)}),[g]);return(0,b.jsx)(V.ZP,{columns:a,data:e,enableBottomToolbar:!1,enableGlobalFilterModes:!0,enableDensityToggle:!1,enablePagination:!1,enableRowVirtualization:!0,muiTableContainerProps:{sx:{maxHeight:"300px"}},initialState:{density:"compact"},onSortingChange:x,state:{isLoading:d,sorting:g},rowVirtualizerInstanceRef:l,rowVirtualizerProps:{overscan:8},muiTableBodyRowProps:function(t){var e=t.row;return{onClick:function(){n(e.original)},sx:{cursor:"pointer",opacity:o?o.stream_detail_id===e.original.stream_detail_id?1:.7:1}}},enableColumnResizing:!0,defaultColumn:{minSize:20,maxSize:9001,size:100},renderTopToolbarCustomActions:function(t){var e=t.table;return(0,b.jsxs)(_.Z,{sx:{display:"flex",gap:"1rem",p:"0.5rem",flexWrap:"wrap"},children:[(0,b.jsx)(G.Z,{color:"primary",target:"_blank",href:"https://texastechuniversity-my.sharepoint.com/:x:/g/personal/ngan_v_t_nguyen_ttu_edu/EWEu7l96MQ1Jgu8OBKspIR0BjmY1i0t6XlV6ROPCYcPkkA?download=1",startIcon:(0,b.jsx)(N.Z,{}),variant:"contained",children:"Download All Data"}),(0,b.jsx)(G.Z,{disabled:0===e.getPrePaginationRowModel().rows.length,onClick:function(){return function(t){u(!0);var e=p(t.map((function(t){return t.original.stream_detail_id}))),n={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,filename:"mirage-mc-".concat((new Date).toDateString()),useBom:!0,useKeysAsHeaders:!0};new X.ExportToCsv(n).generateCsv(e),u(!1)}(e.getPrePaginationRowModel().rows)},startIcon:(0,b.jsx)(N.Z,{}),variant:"contained",children:"Export Current Data"})]})}})},J=n(4942),Q=n(66934),tt=n(12065),et=n(40139);(0,Q.ZP)("div")((function(t){var e=t.theme;return(0,J.Z)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,tt.Fq)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,tt.Fq)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"})})),(0,Q.ZP)("div")((function(t){return{padding:t.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),(0,Q.ZP)(et.ZP)((function(t){var e=t.theme;return{color:"inherit","& .MuiInputBase-input":(0,J.Z)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),")"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));var nt=n(69824),it=n(78687),rt=n(43416),ot=n(70492),at=function(t){var e=t.canUndo,n=t.canRedo,i=t.onUndo,r=t.onRedo;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Z,{onClick:i,disabled:!e,children:(0,b.jsx)(rt.Z,{})}),(0,b.jsx)(g.Z,{onClick:r,disabled:!n,children:(0,b.jsx)(ot.Z,{})})]})},lt={onUndo:nt.zF.undo,onRedo:nt.zF.redo},st=at=(0,it.$j)((function(t){return{canUndo:t.streamFilters.past.length>0,canRedo:t.streamFilters.future.length>0}}),lt)(at),ct=n(49079),dt=function(){var t=(0,it.I0)(),e=((0,o.Z)(),(0,it.v9)(ct.mj)),n=(0,Z.Wz)(),a=n.getList,l=n.isLoading,s=n.getEvents,c=n.requestEvents,d=n.getDetail,u=(0,r.useState)(),h=(0,i.Z)(u,2),f=h[0],g=h[1],v=(0,r.useState)(),m=(0,i.Z)(v,2),R=m[0],P=m[1],E=(0,r.useRef)(null);(0,r.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){P({lng:t.coords.longitude,lat:t.coords.latitude})}),(function(){}))}),[]);var I=l("rawData"),L=(l("events"),l("locs"));(0,r.useEffect)((function(){I||c(e,1e3)}),[I,e]);var M=(0,r.useCallback)((function(t){var e=t.stream_detail_id,n=d(e);g(n),P({lng:n.long,lat:n.lat})}),[s]),D=function(e,n){n&&P({lng:n.long,lat:n.lat}),t((0,ct.rr)({value:e}))};return(0,b.jsxs)(j,{appBarContent:(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(st,{})}),children:[(0,b.jsx)("div",{style:{position:"absolute",top:0,left:0,zIndex:0,height:"100%",width:"100%",overflow:"hidden"},children:(0,b.jsx)(Y.Z,{style:{height:"100%",width:"100%"},children:function(t){var e=t.height,n=t.width;return(0,b.jsx)(U,{locs:a("locs"),countries:a("countries"),onSelect:D,width:n,height:e,legendHolderRef:E,zoomLoc:R})}})}),(0,b.jsxs)(y.Z,{container:!0,sx:{height:"100%",position:"relative",pointerEvents:"none"},direction:"column",justifyContent:"space-between",children:[(0,b.jsx)(y.Z,{children:(0,b.jsx)(C.Z,{m:1,ref:E,style:{position:"absolute",top:0,left:0,maxHeight:"30vh",overflowY:"auto"}})}),(0,b.jsxs)(y.Z,{container:!0,spacing:2,m:0,sx:{pointerEvents:"auto",maxHeight:450},alignItems:"end",children:[(0,b.jsx)(y.Z,{item:!0,xs:8,children:(0,b.jsx)(w.Z,{sx:{minHeight:275,backgroundColor:function(t){return(0,O.x)(t.palette.background.paper)}},children:(0,b.jsxs)(k.Z,{children:[(0,b.jsx)(x.Z,{children:"Event list"}),(0,b.jsx)($,{data:s(),onSelectRow:M,highlightId:f})]})})}),f&&(0,b.jsx)(y.Z,{item:!0,xs:4,sx:{height:"100%"},children:(0,b.jsx)(w.Z,{sx:{height:"100%",backgroundColor:function(t){return(0,O.x)(t.palette.background.paper)}},children:(0,b.jsx)(k.Z,{sx:{height:"100%"},children:(0,b.jsx)(A,{data:f,onSelect:D})})})})]})]}),(0,b.jsx)(S.Z,{sx:{color:"#fff",zIndex:function(t){return t.zIndex.drawer+1}},open:I||L,children:(0,b.jsxs)(_.Z,{sx:{display:"flex",alignItems:"center",width:"50%",flexDirection:"column",textAlign:"center"},children:[(0,b.jsx)(_.Z,{sx:{width:"100%"},children:(0,b.jsx)(p.Z,{variant:"determinate",value:I?40:L?90:100})}),(0,b.jsx)(_.Z,{sx:{width:"100%"},children:(0,b.jsx)("h2",{children:I?"Read data....":L?"Process data...":"Done!"})})]})})]})}}}]);
//# sourceMappingURL=765.2144236b.chunk.js.map