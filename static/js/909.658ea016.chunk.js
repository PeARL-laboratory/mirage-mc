"use strict";(self.webpackChunkmirage_mc=self.webpackChunkmirage_mc||[]).push([[909],{84254:function(e,n,t){t.d(n,{GS:function(){return p},xB:function(){return x},ZP:function(){return j}});var i=t(29439),o=t(72791),r=t.p+"static/media/earth-night.da273783100dfbfd07c0.jpg",a=t(36431),l=t(75483),c=t(96174),u=t(90977),s=(t(26719),t(53329)),d=t(74165),f=t(15861),g=(t(88063),function(){var e=(0,f.Z)((0,d.Z)().mark((function e(n,t){var i,o,r,a;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.renderer(),o=n.scene(),r=n.camera(),i.render(o,r),a=i.domElement.toDataURL(),h(a,t);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),h=function(e,n){var t=window.document.createElement("a");t.style="display:none;",t.download=n,t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t),t.remove()},m=g,v=t(80184),p=20,x=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],y=l.BYU().range([.01,.7]),b=l.BYU().range([.3,.4]),Z=l.BYU().range([.1,1]),C=(0,o.forwardRef)((function(e,n){var t=e.locs,d=e.countries,f=e.width,g=e.height,h=e.onSelect,C=e.onSelectLegend,j=e.zoomLoc,k=(e.legendHolderRef,e.toolbarRef),T=(0,o.useRef)(),I=(0,o.useRef)(),S=(0,o.useState)("country"),M=(0,i.Z)(S,2),L=M[0],w=(M[1],(0,o.useState)()),R=(0,i.Z)(w,2),E=R[0],A=R[1],K=(0,o.useState)(0),B=(0,i.Z)(K,2),z=B[0],D=B[1],P=(0,o.useState)([{lat:-92.52824601944323,lng:38.31079101844495,altitude:1.8},{lat:51.58421865,lng:45.9571029,altitude:1.8},{lat:31.3037101,lng:-89.29276214,altitude:1.8},{lat:33.5842591,lng:-101.8804709,altitude:1.8}]),_=(0,i.Z)(P,2),O=_[0],H=_[1],F=(0,o.useState)([]),U=(0,i.Z)(F,2),V=U[0],W=U[1],Y=(0,o.useState)({}),N=(0,i.Z)(Y,2),G=(N[0],N[1]),X=(0,o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ececec",n=l.PKp(x),t=function(t){if(!t||""===t||""===t.trim)return"black";var i=n.domain();return i.find((function(e){return e===t}))||i.length<p?n(t):e};return t.domain=n.domain,t.range=n.range,t}()}),[]);function $(e){var n=e.locs,t=e.countries,i={},o=l.Wem(n,(function(e){return null===e||void 0===e?void 0:e.count}));y.domain(o),b.domain(o),Z.domain(l.Wem(t,(function(e){return i[e.title]=e,null===e||void 0===e?void 0:e.count}))),X.domain([]).range(x),t.forEach((function(e){return X(e.title)}));var r=0;return t.length>3&&[0,1,2,3,0].forEach((function(e){O[r]||(O[r]={lat:0,lng:0,altitude:1}),O[r].lat=t[e].lat,O[r].lng=t[e].long,r++})),{MAP_CENTERs:O,contriesMap:i}}(0,o.useEffect)((function(){var e=$({locs:t,countries:d}),n=e.MAP_CENTERs,i=e.contriesMap;G(i),H(n),j||D(0)}),[t,d]);var q=(0,o.useState)(null),J=(0,i.Z)(q,2),Q=J[0],ee=J[1];(0,o.useEffect)((function(){if(T.current&&z<O.length){var e=setTimeout((function(){T.current.pointOfView(O[z],4e3),D(z+1)}),4e3);return ee(e),function(){clearInterval(e)}}}),[z,O]);var ne=(0,o.useCallback)((function(){Q&&clearInterval(Q),D(O.length)}),[Q]),te=(0,o.useState)(null),ie=(0,i.Z)(te,2),oe=ie[0],re=ie[1],ae=(0,o.useCallback)((function(e,n){if(T.current){ne(),T.current.pointOfView({lat:n,lng:e,altitude:1.2},2e3),W([{lng:e,lat:n}]),oe&&clearInterval(oe);var t=setTimeout((function(){W([])}),1e4);re(t)}}),[z,ne,oe]);(0,o.useEffect)((function(){return j&&ae(j.lng,j.lat),function(){oe&&clearInterval(oe)}}),[j]);var le=(0,o.useCallback)((function(){m(T.current,"MIRAGE-mc")}),[I,T]);return(0,o.useEffect)((function(){C("selectCountry",(function(e){h({country:[e.title]}),ae(e.long,e.lat)}))}),[ae,h]),(0,v.jsxs)("div",{style:{background:"#000010",position:"relative"},children:[(0,v.jsx)("div",{ref:I,style:{marginTop:"-20vh",height:"120vh"},children:(0,v.jsx)(a.Z,{width:f,height:1.2*g,ref:T,globeImageUrl:r,showAtmosphere:!0,ringsData:V,ringColor:function(){return"#D39F49"},ringResolution:1e3,ringMaxRadius:5,ringPropagationSpeed:5,ringRepeatPeriod:500,labelsData:d,labelLat:(0,o.useCallback)((function(e){return e.lat}),[]),labelLng:(0,o.useCallback)((function(e){return e.long}),[]),labelAltitude:(0,o.useCallback)((function(e){return E&&E.country===e.title?.05:.02}),[E]),labelText:(0,o.useCallback)((function(e){return e.title}),[]),labelSize:(0,o.useCallback)((function(e){return E&&E.country===e.title?1:b(null===e||void 0===e?void 0:e.count)}),[E]),labelDotRadius:0,labelColor:(0,o.useCallback)((function(e){var n;return null!==(n=e.color)&&void 0!==n?n:"white"}),[E]),labelResolution:2,hexBinPointsData:t,hexBinPointWeight:"count",hexBinPointLng:(0,o.useCallback)((function(e){return e.long}),[]),hexBinPointLat:(0,o.useCallback)((function(e){return e.lat}),[]),hexAltitude:(0,o.useCallback)((function(e){return y(e.sumWeight)}),[]),hexBinResolution:4,hexTopColor:(0,o.useCallback)((function(e){return X(e.points[0][L])}),[]),hexSideColor:(0,o.useCallback)((function(e){return X(e.points[0][L])}),[]),hexBinMerge:!1,onHexHover:(0,o.useCallback)((function(e){A(e?e.points[0]:void 0)}),[]),hexLabel:(0,o.useCallback)((function(e){return'<div class="overlay-holder">\n            <div class="overlay-header">\n                <span><b>'.concat(l.Smz(e.points,(function(e){return null===e||void 0===e?void 0:e.count})),'</b> stations</span>\n            </div>\n            <div class="overlay-content">\n            <table>\n                <tbody><tr>').concat(e.points.slice().sort((function(e,n){return(null===n||void 0===n?void 0:n.count)-(null===e||void 0===e?void 0:e.count)})).map((function(e){return"<td>[".concat(null===e||void 0===e?void 0:e.count,"]</td><td>").concat(e.title,"</td>")})).join("</tr><tr>"),"</tr></tbody>\n            </table>\n            </div>\n          </div>")}),[]),onHexClick:function(e){var n,t=[];e.points.forEach((function(e){t.push(e.city)})),h({city:t,country:[null===(n=e.points[0])||void 0===n?void 0:n.country]})},onGlobeClick:ne})}),k&&(0,v.jsx)(c.Z,{container:k.current,children:(0,v.jsx)(u.Z,{onClick:le,children:(0,v.jsx)(s.Z,{})})})]})})),j=C},78305:function(e,n,t){t.d(n,{X:function(){return i},e:function(){return o}});t(72426);var i=[{accessorKey:"city",header:"City"},{accessorKey:"country",header:"Country"},{accessorKey:"station",header:"Station"},{accessorKey:"station_genre",header:"Station Genre"},{accessorKey:"stream_artist",header:"Artist",dynamic:!0},{accessorKey:"stream_song",header:"Song",dynamic:!0}],o=i.filter((function(e){return!e.filterDisable}))},4583:function(e,n,t){t.r(n),t.d(n,{default:function(){return de}});var i=t(1413),o=t(72791),r=t(7538),a=t.n(r),l=t(79397),c=t.n(l),u=t(11015),s=t(61862),d=t(42404),f=t(57689),g=t(93539),h=t(80349),m=t(11068),v=t(95321),p=t(76019),x=t(22779),y=t(32815),b=t(92392),Z=t(6058),C=t(69550),j=t(77111),k=t(91490),T=t(95074),I=t(16737),S=t(1116),M=t(8712),L=t(56309),w=t(91891),R=t(45987),E=t(29439),A=t(78687),K=t(49079),B=(t(69824),t(15927)),z=t(67414),D=t(93006),P=t(46314),_=t(78305),O=t(20250),H=t(77262),F=t(80184),U=["children","role"],V=o.forwardRef((function(e,n){var t=e.children,r=e.role,a=(0,R.Z)(e,U),l=Array.isArray(t)?t.length:0,c=(0,o.useRef)(null);return(0,F.jsx)("div",{ref:n,role:r,children:(0,F.jsx)("div",(0,i.Z)((0,i.Z)({},a),{},{ref:c,children:(0,F.jsx)(H.ViewportList,{viewportRef:c,items:t,count:l,children:function(e){var n=e.props,t=e.type;return(0,o.createElement)(t,(0,i.Z)((0,i.Z)({},n),{},{key:n.id}))}})}))})})),W=["onInputChange"],Y=(0,B.D)(),N=function(e,n){return Y(e,n).slice(0,50)};function G(){var e=(0,A.v9)(K.mj),n=(0,A.I0)(),t=(0,o.useState)({}),r=(0,E.Z)(t,2),a=r[0],l=r[1],c=(0,O.Wz)(),u=c.isLoading,s=c.searchByStream,d=c.getList,f=d("fields");return(0,o.useEffect)((function(){l((0,i.Z)({},f))}),[f]),(0,F.jsx)(z.Z,{spacing:2,padding:2,children:_.e.map((function(t){var o,r;return(0,F.jsx)(X,{multiple:!0,size:"small",limitTags:2,filterOptions:N,ListboxComponent:V,freeSolo:!0,options:null!==(o=t.dynamic?d("search-".concat(t.accessorKey)):a[t.accessorKey])&&void 0!==o?o:[],loading:!!t.dynamic&&u("search-".concat(t.accessorKey)),getOptionLabel:function(e){return e},value:null!==(r=e[t.accessorKey])&&void 0!==r?r:[],onChange:function(e,i){n((0,K.Tv)({key:t.accessorKey,value:i}))},onInputChange:t.dynamic?function(e,n){n&&""!==n&&s(t.accessorKey,n)}:void 0,renderInput:function(e){return(0,F.jsx)(D.Z,(0,i.Z)((0,i.Z)({},e),{},{label:t.header}))}},t.accessorKey)}))})}function X(e){var n=e.onInputChange,t=void 0===n?function(){}:n,r=(0,R.Z)(e,W),a=o.useState(""),l=(0,E.Z)(a,2),c=l[0],u=l[1];return(0,F.jsx)(P.Z,(0,i.Z)({inputValue:c,onInputChange:function(e,n,i){u(n),t(e,n,i)},onBlur:function(){u("")}},r))}var $=t(34729),q=t(88588),J=t(4567),Q=t(26719),ee=t(75483),ne=t(84254),te=(0,ee.BYU)().range([.1,1]);function ie(){var e=(0,O.Wz)(),n=e.getFuncCollection,t=(0,e.getList)("countries");(0,o.useEffect)((function(){te.domain((0,ee.Wem)(t,(function(e){return null===e||void 0===e?void 0:e.count})))}),[t]);var i=(0,o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ececec",n=(0,ee.PKp)(ne.xB),t=function(t){if(!t||""===t||""===t.trim)return"black";var i=n.domain();return i.find((function(e){return e===t}))||i.length<ne.GS?n(t):e};return t.domain=n.domain,t.range=n.range,t}()}),[]);return(0,F.jsx)($.Z,{children:(0,F.jsx)(z.Z,{m:1,style:{maxHeight:"30vh",overflowY:"auto"},children:(0,F.jsx)(q.Z,{sx:{pointerEvents:"all",overflowY:"auto",backgroundColor:function(e){return(0,Q.x)(e.palette.background.paper)}},children:(0,F.jsxs)(z.Z,{sx:{m:1,p:0},children:[(0,F.jsx)(J.Z,{children:"Top Stations by Country"}),t.map((function(e){var t;return(0,F.jsxs)(J.Z,{variant:"subtitle2",onClick:function(){n("selectCountry")(e)},children:[(0,F.jsx)("div",{style:{width:50*(null!==(t=te(e.count))&&void 0!==t?t:1),height:10,backgroundColor:i(e.title),display:"inline-block",marginRight:5}}),e.title]},e.title)}))]})})})})}var oe=t(60183),re=t(5849),ae=t(68087),le=t(65370);function ce(e){var n=e.title,t=e.onChange;return(0,F.jsxs)(z.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[n,(0,F.jsxs)(oe.Z,{size:"small",variant:"outlined","aria-label":"outlined button group",sx:{color:"unset"},children:[(0,F.jsx)(re.Z,{sx:{color:"unset"},onClick:function(){return t(!0)},children:(0,F.jsx)(ae.Z,{})}),(0,F.jsx)(re.Z,{sx:{color:"unset"},onClick:function(){return t(!1)},children:(0,F.jsx)(le.Z,{})})]})]})}var ue=function(e){var n=e.intl,t=e.updateLocale,i=e.locale,o=e.menuContext,r=e.themeContext,a=e.a2HSContext,l=e.auth,c=e.openAbout,u=e.changeFontSize,s=o.toggleThis,d=o.isDesktop,f=(o.isAuthMenuOpen,o.isMiniSwitchVisibility),g=r.themeID,h=r.setThemeID,m=r.isRTL,v=(r.fontSize,r.toggleThisTheme),R=(r.setFontSize,l.auth),E=(l.setAuth,a.isAppInstallable),A=a.isAppInstalled,K=a.deferredPrompt,B=L.Z.map((function(e){return{value:void 0,visible:!0,primaryText:n.formatMessage({id:e.locale}),onClick:function(){t(e.locale)},leftIcon:(0,F.jsx)(p.Z,{})}})),z=R.isAuthenticated,D=w.Z.map((function(e){return{value:void 0,visible:!0,primaryText:n.formatMessage({id:e.id}),onClick:function(){h(e.id)},leftIcon:(0,F.jsx)(x.Z,{style:{color:e.color}})}}));return[{value:null,onClick:function(){},primaryText:n.formatMessage({id:"search",defaultMessage:"Search"}),leftIcon:(0,F.jsx)(y.Z,{}),primaryTogglesNestedList:!0,nestedItems:[{primaryText:(0,F.jsx)(G,{})},{primaryText:(0,F.jsx)(ie,{})}]},{value:"/",visible:z,primaryText:n.formatMessage({id:"home"}),leftIcon:(0,F.jsx)(b.Z,{})},{value:null,visible:!0,primaryText:n.formatMessage({id:"about"}),leftIcon:(0,F.jsx)(Z.Z,{}),onClick:c},{divider:!0},{primaryText:n.formatMessage({id:"settings"}),primaryTogglesNestedList:!0,leftIcon:(0,F.jsx)(C.Z,{}),nestedItems:[{primaryText:(0,F.jsx)(ce,{title:n.formatMessage({id:"Font size"}),onChange:u}),leftIcon:(0,F.jsx)(j.Z,{})},{primaryText:n.formatMessage({id:"theme"}),secondaryText:n.formatMessage({id:g}),primaryTogglesNestedList:!0,leftIcon:(0,F.jsx)(x.Z,{}),nestedItems:D},{primaryText:n.formatMessage({id:"language"}),secondaryText:n.formatMessage({id:i}),primaryTogglesNestedList:!0,leftIcon:(0,F.jsx)(p.Z,{}),nestedItems:B},{visible:!!d,onClick:function(){s("isMiniSwitchVisibility")},primaryText:n.formatMessage({id:"menu_mini_mode"}),leftIcon:f?(0,F.jsx)(k.Z,{}):(0,F.jsx)(T.Z,{})},{onClick:function(){v("isRTL")},primaryText:"".concat(m?"LTR":"RTL"," mode"),leftIcon:m?(0,F.jsx)(I.Z,{}):(0,F.jsx)(S.Z,{})}]},{value:null,visible:E&&!A,onClick:function(){K.prompt()},primaryText:n.formatMessage({id:"install",defaultMessage:"Install"}),leftIcon:(0,F.jsx)(M.Z,{})}]},se=t(97718),de=function(e){var n=(0,g.Z)(),t=(0,f.s0)(),o=(0,f.TH)(),r=(0,s.aC)(),l=(0,m.useMenu)(),p=(0,u.OA)(),x=l||{},y=x.toggleThis,b=x.isMiniMode,Z=x.isMiniSwitchVisibility,C=(0,d.useConfig)().appConfig,j=(0,h.useLocale)(),k=j.setLocale,T=j.locale,I=void 0===T?"en":T,S=(0,v.useTheme)(),M=(0,A.I0)(),L=ue((0,i.Z)({intl:n,locale:I,updateLocale:k,menuContext:l,themeContext:S,appConfig:C,a2HSContext:p,auth:r,openAbout:function(){M({type:se.O5,opened:!0})},changeFontSize:function(e){M(e?{type:se.eR}:{type:se.zU})}},e)).filter((function(e){return!1!==e.visible})),w=o?o.pathname:"/";return(0,F.jsx)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:(0,F.jsx)(a(),{style:{flex:1},children:(0,F.jsx)(c(),{onIndexChange:function(e,n){void 0!==n&&y("isMobileMenuOpen",!1),void 0!==n&&n!==Object(n)&&t(n)},useMinified:b,items:L,index:w},Z+S.isRTL)})})}},26719:function(e,n,t){t.d(n,{x:function(){return a}});var i=t(1413),o=t(36395),r=t(75483);function a(e){var n=(0,r.$_Y)(e);return n.opacity=.5,n.toString()}n.Z=function(e,n,t,r,a){if(n)for(var l=0;l<n.length;l++)if(n[l].id===e){var c=n[l].source,u=null!=c&&c instanceof Function?c(t?"dark":"light",a):c,s=null!=u?u.palette:{};return(0,o.Z)((0,i.Z)((0,i.Z)({},u),{},{palette:(0,i.Z)((0,i.Z)({},s),{},{mode:t?"dark":"light"}),direction:r?"rtl":"ltr"}))}return(0,o.Z)({palette:{mode:t?"dark":"light"},direction:r?"rtl":"ltr"})}}}]);
//# sourceMappingURL=909.658ea016.chunk.js.map